<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Flexx UI</title>



</head>

<body id='body'>

<style>
/* CSS for reset.css */

/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html
{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,
section,summary{display:block}
audio,canvas,progress,video{display:inline-block;vertical-align:baseline}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
a{background-color:transparent}
a:active,a:hover{outline:0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
h1{font-size:2em;margin:.67em 0}
mark{background:#ff0;color:#000}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-0.5em}
sub{bottom:-0.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:1em 40px}
hr{box-sizing:content-box;height:0}
pre{overflow:auto}
code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}
button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}
button{overflow:visible}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]
{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
input{line-height:normal}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button{height:auto}
input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
textarea{overflow:auto}
optgroup{font-weight:bold}
table{border-collapse:collapse;border-spacing:0}
td,th{padding:0}

</style>
<script>
/* JS for index-flexx-id-xxkh95H7EChxJ2tp5tPQUaAc.js */
var flexx_session_id = "xxkh95H7EChxJ2tp5tPQUaAc";

</script>
<script>
/* JS for pyscript-std.js */
var _pyfunc_abs = Math.abs;
var _pyfunc_add = function (a, b) { // nargs: 2
    if (Array.isArray(a) && Array.isArray(b)) {
        return a.concat(b);
    } return a + b;
};
var _pyfunc_all = function (x) { // nargs: 1
    for (var i=0; i<x.length; i++) {
        if (!_pyfunc_truthy(x[i])){return false;}
    } return true;
};
var _pyfunc_any = function (x) { // nargs: 1
    for (var i=0; i<x.length; i++) {
        if (_pyfunc_truthy(x[i])){return true;}
    } return false;
};
var _pyfunc_bool = function (x) { // nargs: 1
    return Boolean(_pyfunc_truthy(x));
};
var _pyfunc_contains = function contains (a, b) { // nargs: 2
    if (b == null) {
    } else if (Array.isArray(b)) {
        for (var i=0; i<b.length; i++) {if (_pyfunc_equals(a, b[i]))
                                           return true;}
        return false;
    } else if (b.constructor === Object) {
        for (var k in b) {if (a == k) return true;}
        return false;
    } else if (b.constructor == String) {
        return b.indexOf(a) >= 0;
    } var e = Error('Not a container: ' + b); e.name='TypeError'; throw e;
};
var _pyfunc_delattr = function (ob, name) {  // nargs: 2
    delete ob[name];
};
var _pyfunc_dict = function (x) {
    var t, i, keys, r={};
    if (Array.isArray(x)) {
        for (i=0; i<x.length; i++) {
            t=x[i]; r[t[0]] = t[1];
        }
    } else {
        keys = Object.keys(x);
        for (i=0; i<keys.length; i++) {
            t=keys[i]; r[t] = x[t];
        }
    }
    return r;
};
var _pyfunc_divmod = function (x, y) { // nargs: 2
    var m = x % y; return [(x-m)/y, m];
};
var _pyfunc_enumerate = function (iter) { // nargs: 1
    var i, res=[];
    if ((typeof iter==="object") && (!Array.isArray(iter))) {iter = Object.keys(iter);}
    for (i=0; i<iter.length; i++) {res.push([i, iter[i]]);}
    return res;
};
var _pyfunc_equals = function equals (a, b) { // nargs: 2
    if (a == null || b == null) {
    } else if (Array.isArray(a) && Array.isArray(b)) {
        var i = 0, iseq = a.length == b.length;
        while (iseq && i < a.length) {iseq = equals(a[i], b[i]); i+=1;}
        return iseq;
    } else if (a.constructor === Object && b.constructor === Object) {
        var akeys = Object.keys(a), bkeys = Object.keys(b);
        akeys.sort(); bkeys.sort();
        var i=0, k, iseq = equals(akeys, bkeys);
        while (iseq && i < akeys.length) {k=akeys[i]; iseq = equals(a[k], b[k]); i+=1;}
        return iseq;
    } return a == b;
};
var _pyfunc_filter = function (func, iter) { // nargs: 2
    if (typeof func === "undefined" || func === null) {func = function(x) {return x;}}
    if ((typeof iter==="object") && (!Array.isArray(iter))) {iter = Object.keys(iter);}
    return iter.filter(func);
};
var _pyfunc_float = Number;
var _pyfunc_getattr = function (ob, name, deflt) { // nargs: 2 3
    var has_attr = ob !== undefined && ob !== null && ob[name] !== undefined;
    if (has_attr) {return ob[name];}
    else if (arguments.length == 3) {return deflt;}
    else {var e = Error(name); e.name='AttributeError'; throw e;}
};
var _pyfunc_hasattr = function (ob, name) { // nargs: 2
    return (ob !== undefined) && (ob !== null) && (ob[name] !== undefined);
};
var _pyfunc_instantiate = function (ob, args) { // nargs: 2
    if ((typeof ob === "undefined") ||
            (typeof window !== "undefined" && window === ob) ||
            (typeof global !== "undefined" && global === ob))
            {throw "Class constructor is called as a function.";}
    for (var name in ob) {
        if (Object[name] === undefined &&
            typeof ob[name] === 'function' && !ob[name].nobind) {
            ob[name] = ob[name].bind(ob);
        }
    }
    if (ob.__init__) {
        ob.__init__.apply(ob, args);
    }
};
var _pyfunc_int = function (x) { // nargs: 1
    return x<0 ? Math.ceil(x): Math.floor(x);
};
var _pyfunc_list = function (x) {
    var r=[];
    if (typeof x==="object" && !Array.isArray(x)) {x = Object.keys(x)}
    for (var i=0; i<x.length; i++) {
        r.push(x[i]);
    }
    return r;
};
var _pyfunc_map = function (func, iter) { // nargs: 2
    if (typeof func === "undefined" || func === null) {func = function(x) {return x;}}
    if ((typeof iter==="object") && (!Array.isArray(iter))) {iter = Object.keys(iter);}
    return iter.map(func);
};
var _pyfunc_mult = function (a, b) { // nargs: 2
    if ((typeof a === 'number') + (typeof b === 'number') === 1) {
        if (a.constructor === String) return _pymeth_repeat.call(a, b);
        if (b.constructor === String) return _pymeth_repeat.call(b, a);
        if (Array.isArray(b)) {var t=a; a=b; b=t;}
        if (Array.isArray(a)) {
            var res = []; for (var i=0; i<b; i++) res = res.concat(a);
            return res;
        }
    } return a * b;
};
var _pyfunc_perf_counter = function() {
    if (typeof(process) === "undefined"){return performance.now()*1e-3;}
    else {var t = process.hrtime(); return t[0] + t[1]*1e-9;}
};
var _pyfunc_pow = Math.pow;
var _pyfunc_range = function (start, end, step) {
var i, res = [];
    var val = start;
    var n = (end - start) / step;
    for (i=0; i<n; i++) {
        res.push(val);
        val += step;
    }
    return res;
};
var _pyfunc_repr = JSON.stringify;
var _pyfunc_reversed = function (iter) { // nargs: 1
    if ((typeof iter==="object") && (!Array.isArray(iter))) {iter = Object.keys(iter);}
    return iter.slice().reverse();
};
var _pyfunc_round = Math.round;
var _pyfunc_setattr = function (ob, name, value) {  // nargs: 3
    ob[name] = value;
};
var _pyfunc_sorted = function (iter, key, reverse) { // nargs: 1 2 3
    if ((typeof iter==="object") && (!Array.isArray(iter))) {iter = Object.keys(iter);}
    var comp = function (a, b) {a = key(a); b = key(b);
        if (a<b) {return -1;} if (a>b) {return 1;} return 0;};
    comp = Boolean(key) ? comp : undefined; 
    iter = iter.slice().sort(comp);
    if (reverse) iter.reverse();
    return iter;
};
var _pyfunc_str = String;
var _pyfunc_sum = function (x) {  // nargs: 1
    return x.reduce(function(a, b) {return a + b;});
};
var _pyfunc_time = function () {return new Date().getTime() / 1000;};
var _pyfunc_truthy = function (v) {
    if (v === null || typeof v !== "object") {return v;}
    else if (v.length !== undefined) {return v.length ? v : false;}
    else if (v.byteLength !== undefined) {return v.byteLength ? v : false;}
    else if (v.constructor !== Object) {return true;}
    else {return Object.getOwnPropertyNames(v).length ? v : false;}
};
var _pyfunc_zip = function () { // nargs: 2 3 4 5 6 7 8 9
    var i, j, tup, arg, args = [], res = [], len = 1e20;
    for (i=0; i<arguments.length; i++) {
        arg = arguments[i];
        if ((typeof arg==="object") && (!Array.isArray(arg))) {arg = Object.keys(arg);}
        args.push(arg);
        len = Math.min(len, arg.length);
    }
    for (j=0; j<len; j++) {
        tup = []
        for (i=0; i<args.length; i++) {tup.push(args[i][j]);}
        res.push(tup);
    }
    return res;
};
var _pymeth_append = function (x) { // nargs: 1
    if (!Array.isArray(this)) return this.append.apply(this, arguments);
    this.push(x);
};
var _pymeth_capitalize = function () { // nargs: 0
    if (this.constructor !== String) return this.capitalize.apply(this, arguments);
    return this.slice(0, 1).toUpperCase() + this.slice(1).toLowerCase();
};
var _pymeth_casefold = function () { // nargs: 0
    if (this.constructor !== String) return this.casefold.apply(this, arguments);
    return this.toLowerCase();
};
var _pymeth_center = function (w, fill) { // nargs: 1 2
    if (this.constructor !== String) return this.center.apply(this, arguments);
    fill = (fill === undefined) ? ' ' : fill;
    var tofill = Math.max(0, w - this.length);
    var left = Math.ceil(tofill / 2);
    var right = tofill - left;
    return _pymeth_repeat.call(fill, left) + this + _pymeth_repeat.call(fill, right);
};
var _pymeth_clear = function () { // nargs: 0
    if (Array.isArray(this)) {
        this.splice(0, this.length);
    } else if (this.constructor === Object) {
        var keys = Object.keys(this);
        for (var i=0; i<keys.length; i++) delete this[keys[i]];
    } else return this.clear.apply(this, arguments);
};
var _pymeth_copy = function () { // nargs: 0
    if (Array.isArray(this)) {
        return this.slice(0);
    } else if (this.constructor === Object) {
        var key, keys = Object.keys(this), res = {};
        for (var i=0; i<keys.length; i++) {key = keys[i]; res[key] = this[key];}
        return res;
    } else return this.copy.apply(this, arguments);
};
var _pymeth_count = function (x, start, stop) { // nargs: 1 2 3
    start = (start === undefined) ? 0 : start;
    stop = (stop === undefined) ? this.length : stop;
    start = Math.max(0, ((start < 0) ? this.length + start : start));
    stop = Math.min(this.length, ((stop < 0) ? this.length + stop : stop));
    if (Array.isArray(this)) {
        var count = 0;
        for (var i=0; i<this.length; i++) { 
            if (_pyfunc_equals(this[i], x)) {count+=1;}
        } return count;
    } else if (this.constructor == String) {
        var count = 0, i = start;
        while (i >= 0 && i < stop) {
            i = this.indexOf(x, i);
            if (i < 0) break; 
            count += 1;
            i += Math.max(1, x.length);
        } return count;
    } else return this.count.apply(this, arguments);
};
var _pymeth_endswith = function (x) { // nargs: 1
    if (this.constructor !== String) return this.endswith.apply(this, arguments);
    return this.lastIndexOf(x) == this.length - x.length;
};
var _pymeth_expandtabs = function (tabsize) { // nargs: 0 1
    if (this.constructor !== String) return this.expandtabs.apply(this, arguments);
    tabsize = (tabsize === undefined) ? 8 : tabsize;
    return this.replace(/\t/g, _pymeth_repeat.call(' ', tabsize));
};
var _pymeth_extend = function (x) { // nargs: 1
    if (!Array.isArray(this)) return this.extend.apply(this, arguments);
    this.push.apply(this, x);   
};
var _pymeth_find = function (x, start, stop) { // nargs: 1 2 3
    if (this.constructor !== String) return this.find.apply(this, arguments);
    start = (start === undefined) ? 0 : start;
    stop = (stop === undefined) ? this.length : stop;
    start = Math.max(0, ((start < 0) ? this.length + start : start));
    stop = Math.min(this.length, ((stop < 0) ? this.length + stop : stop));
    var i = this.slice(start, stop).indexOf(x);
    if (i >= 0) return i + start;
    return -1;
};
var _pymeth_get = function (key, d) { // nargs: 1 2
    if (this.constructor !== Object) return this.get.apply(this, arguments);
    if (this[key] !== undefined) {return this[key];}
    else if (d !== undefined) {return d;}
    else {return null;}
};
var _pymeth_index = function (x, start, stop) { // nargs: 1 2 3
    start = (start === undefined) ? 0 : start;
    stop = (stop === undefined) ? this.length : stop;
    start = Math.max(0, ((start < 0) ? this.length + start : start));
    stop = Math.min(this.length, ((stop < 0) ? this.length + stop : stop));
    if (Array.isArray(this)) {
        for (var i=start; i<stop; i++) {
            if (_pyfunc_equals(this[i], x)) {return i;} // indexOf cant do this
        }
    } else if (this.constructor === String) {
        var i = this.slice(start, stop).indexOf(x);
        if (i >= 0) return i + start;
    } else return this.index.apply(this, arguments);
    var e = Error(x); e.name='ValueError'; throw e;
};
var _pymeth_insert = function (i, x) { // nargs: 2
    if (!Array.isArray(this)) return this.insert.apply(this, arguments);
    i = (i < 0) ? this.length + i : i;
    this.splice(i, 0, x);
};
var _pymeth_isalnum = function () { // nargs: 0
    if (this.constructor !== String) return this.isalnum.apply(this, arguments);
    return Boolean(/^[A-Za-z0-9]+$/.test(this));
};
var _pymeth_isalpha = function () { // nargs: 0
    if (this.constructor !== String) return this.isalpha.apply(this, arguments);
    return Boolean(/^[A-Za-z]+$/.test(this));
};
var _pymeth_isidentifier = function () { // nargs: 0
    if (this.constructor !== String) return this.isidentifier.apply(this, arguments);
    return Boolean(/^[A-Za-z_][A-Za-z0-9_]*$/.test(this));
};
var _pymeth_islower = function () { // nargs: 0
    if (this.constructor !== String) return this.islower.apply(this, arguments);
    var low = this.toLowerCase(), high = this.toUpperCase();
    return low != high && low == this;
};
var _pymeth_isnumeric = function () { // nargs: 0
    if (this.constructor !== String) return this.isnumeric.apply(this, arguments);
    return Boolean(/^[0-9]+$/.test(this));
};
var _pymeth_isspace = function () { // nargs: 0
    if (this.constructor !== String) return this.isspace.apply(this, arguments);
    return Boolean(/^\s+$/.test(this));
};
var _pymeth_istitle = function () { // nargs: 0
    if (this.constructor !== String) return this.istitle.apply(this, arguments);
    var low = this.toLowerCase(), title = _pymeth_title.call(this);
    return low != title && title == this;
};
var _pymeth_isupper = function () { // nargs: 0
    if (this.constructor !== String) return this.isupper.apply(this, arguments);
    var low = this.toLowerCase(), high = this.toUpperCase();
    return low != high && high == this;
};
var _pymeth_items = function () { // nargs: 0
    if (this.constructor !== Object) return this.items.apply(this, arguments);
    var key, keys = Object.keys(this), res = []
    for (var i=0; i<keys.length; i++) {key = keys[i]; res.push([key, this[key]]);}
    return res;
};
var _pymeth_join = function (x) { // nargs: 1
    if (this.constructor !== String) return this.join.apply(this, arguments);
    return x.join(this);  // call join on the list instead of the string.   
};
var _pymeth_keys = function () { // nargs: 0
    if (typeof this['keys'] === 'function') return this.keys.apply(this, arguments);
    return Object.keys(this);
};
var _pymeth_ljust = function (w, fill) { // nargs: 1 2
    if (this.constructor !== String) return this.ljust.apply(this, arguments);
    fill = (fill === undefined) ? ' ' : fill;
    var tofill = Math.max(0, w - this.length);
    return this + _pymeth_repeat.call(fill, tofill);
};
var _pymeth_lower = function () { // nargs: 0
    if (this.constructor !== String) return this.lower.apply(this, arguments);
    return this.toLowerCase();
};
var _pymeth_lstrip = function (chars) { // nargs: 0 1
    if (this.constructor !== String) return this.lstrip.apply(this, arguments);
    chars = (chars === undefined) ? ' \t\r\n' : chars;
    for (var i=0; i<this.length; i++) {
        if (chars.indexOf(this[i]) < 0) return this.slice(i);
    } return '';
};
var _pymeth_partition = function (sep) { // nargs: 1
    if (this.constructor !== String) return this.partition.apply(this, arguments);
    if (sep === '') {var e = Error('empty sep'); e.name='ValueError'; throw e;}
    var i1 = this.indexOf(sep);
    if (i1 < 0) return [this.slice(0), '', '']
    var i2 = i1 + sep.length;
    return [this.slice(0, i1), this.slice(i1, i2), this.slice(i2)]; 
};
var _pymeth_pop = function (i, d) { // nargs: 1 2
    if (Array.isArray(this)) {
        i = (i === undefined) ? -1 : i;
        i = (i < 0) ? (this.length + i) : i;
        var popped = this.splice(i, 1);
        if (popped.length)  return popped[0];
        var e = Error(i); e.name='IndexError'; throw e;
    } else if (this.constructor === Object) {
        var res = this[i]
        if (res !== undefined) {delete this[i]; return res;}
        else if (d !== undefined) return d;
        var e = Error(i); e.name='KeyError'; throw e;
    } else return this.pop.apply(this, arguments);
};
var _pymeth_popitem = function () { // nargs: 0
    if (this.constructor !== Object) return this.popitem.apply(this, arguments);
    var keys, key, val;
    keys = Object.keys(this);
    if (keys.length == 0) {var e = Error(); e.name='KeyError'; throw e;}
    key = keys[0]; val = this[key]; delete this[key];
    return [key, val];
};
var _pymeth_remove = function (x) { // nargs: 1
    if (!Array.isArray(this)) return this.remove.apply(this, arguments);
    for (var i=0; i<this.length; i++) {
        if (_pyfunc_equals(this[i], x)) {this.splice(i, 1); return;}
    }
    var e = Error(x); e.name='ValueError'; throw e;
};
var _pymeth_repeat = function(count) { // nargs: 0
    if (this.repeat) return this.repeat(count);
    if (count < 1) return '';
    var result = '', pattern = this.valueOf();
    while (count > 1) {
        if (count & 1) result += pattern;
        count >>= 1, pattern += pattern;
    }
    return result + pattern;
};
var _pymeth_replace = function (s1, s2, count) {  // nargs: 2 3
    if (this.constructor !== String) return this.replace.apply(this, arguments);
    var i = 0, i2, parts = [];
    count = (count === undefined) ? 1e20 : count;
    while (count > 0) {
        i2 = this.indexOf(s1, i);
        if (i2 >= 0) {
            parts.push(this.slice(i, i2));
            parts.push(s2);
            i = i2 + s1.length;
            count -= 1;
        } else break;
    }
    parts.push(this.slice(i));
    return parts.join('');
};
var _pymeth_reverse = function () { // nargs: 0
    this.reverse();
};
var _pymeth_rfind = function (x, start, stop) { // nargs: 1 2 3
    if (this.constructor !== String) return this.rfind.apply(this, arguments);
    start = (start === undefined) ? 0 : start;
    stop = (stop === undefined) ? this.length : stop;
    start = Math.max(0, ((start < 0) ? this.length + start : start));
    stop = Math.min(this.length, ((stop < 0) ? this.length + stop : stop));
    var i = this.slice(start, stop).lastIndexOf(x);
    if (i >= 0) return i + start;
    return -1;
};
var _pymeth_rindex = function (x, start, stop) {  // nargs: 1 2 3
    if (this.constructor !== String) return this.rindex.apply(this, arguments);
    var i = _pymeth_rfind.call(this, x, start, stop);
    if (i >= 0) return i;
    var e = Error(x); e.name='ValueError'; throw e;
};
var _pymeth_rjust = function (w, fill) { // nargs: 1 2
    if (this.constructor !== String) return this.rjust.apply(this, arguments);
    fill = (fill === undefined) ? ' ' : fill;
    var tofill = Math.max(0, w - this.length);
    return _pymeth_repeat.call(fill, tofill) + this;
};
var _pymeth_rpartition = function (sep) { // nargs: 1
    if (this.constructor !== String) return this.rpartition.apply(this, arguments);
    if (sep === '') {var e = Error('empty sep'); e.name='ValueError'; throw e;}
    var i1 = this.lastIndexOf(sep);
    if (i1 < 0) return ['', '', this.slice(0)]
    var i2 = i1 + sep.length;
    return [this.slice(0, i1), this.slice(i1, i2), this.slice(i2)]; 
};
var _pymeth_rsplit = function (sep, count) { // nargs: 1 2
    if (this.constructor !== String) return this.rsplit.apply(this, arguments);
    sep = (sep === undefined) ? /\s/ : sep;
    count = Math.max(0, (count === undefined) ? 1e20 : count);
    var parts = this.split(sep);
    var limit = Math.max(0, parts.length-count);
    var res = parts.slice(limit);
    if (count < parts.length) res.splice(0, 0, parts.slice(0, limit).join(sep));
    return res;
};
var _pymeth_rstrip = function (chars) { // nargs: 0 1
    if (this.constructor !== String) return this.rstrip.apply(this, arguments);
    chars = (chars === undefined) ? ' \t\r\n' : chars;
    for (var i=this.length-1; i>=0; i--) {
        if (chars.indexOf(this[i]) < 0) return this.slice(0, i+1);
    } return '';
};
var _pymeth_setdefault = function (key, d) { // nargs: 1 2
    if (this.constructor !== Object) return this.setdefault.apply(this, arguments);
    if (this[key] !== undefined) {return this[key];}
    else if (d !== undefined) { this[key] = d; return d;}
    else {return null;}
};
var _pymeth_sort = function (key, reverse) { // nargs: 0 1 2
    if (!Array.isArray(this)) return this.sort.apply(this, arguments);
    var comp = function (a, b) {a = key(a); b = key(b);
        if (a<b) {return -1;} if (a>b) {return 1;} return 0;};
    comp = Boolean(key) ? comp : undefined; 
    this.sort(comp);
    if (reverse) this.reverse();
};
var _pymeth_split = function (sep, count) { // nargs: 0, 1 2
    if (this.constructor !== String) return this.split.apply(this, arguments);
    if (sep === '') {var e = Error('empty sep'); e.name='ValueError'; throw e;}
    sep = (sep === undefined) ? /\s/ : sep;
    count = Math.max(0, (count === undefined) ? 1e20 : count);
    var parts = this.split(sep);
    var limit = Math.max(0, count);
    var res = parts.slice(0, limit);
    if (count < parts.length) res.push(parts.slice(limit).join(sep));
    return res;
};
var _pymeth_splitlines = function (keepends) { // nargs: 0 1
    if (this.constructor !== String) return this.splitlines.apply(this, arguments);
    keepends = keepends ? 1 : 0
    var finder = /\r\n|\r|\n/g;
    var i = 0, i2, isrn, parts = [];
    while (finder.exec(this) !== null) {
        i2 = finder.lastIndex -1;
        isrn = i2 > 0 && this[i2-1] == '\r' && this[i2] == '\n';
        if (keepends) parts.push(this.slice(i, finder.lastIndex));
        else parts.push(this.slice(i, i2 - isrn));
        i = finder.lastIndex;
    }
    if (i < this.length) parts.push(this.slice(i));
    else if (!parts.length) parts.push('');
    return parts;
};
var _pymeth_startswith = function (x) { // nargs: 1
    if (this.constructor !== String) return this.startswith.apply(this, arguments);
    return this.indexOf(x) == 0;
};
var _pymeth_strip = function (chars) { // nargs: 0 1
    if (this.constructor !== String) return this.strip.apply(this, arguments);
    chars = (chars === undefined) ? ' \t\r\n' : chars;
    var i, s1 = this, s2 = '', s3 = '';
    for (i=0; i<s1.length; i++) {
        if (chars.indexOf(s1[i]) < 0) {s2 = s1.slice(i); break;}
    } for (i=s2.length-1; i>=0; i--) {
        if (chars.indexOf(s2[i]) < 0) {s3 = s2.slice(0, i+1); break;}
    } return s3;
};
var _pymeth_swapcase = function () { // nargs: 0
    if (this.constructor !== String) return this.swapcase.apply(this, arguments);
    var c, res = [];
    for (var i=0; i<this.length; i++) {
        c = this[i];
        if (c.toUpperCase() == c) res.push(c.toLowerCase());
        else res.push(c.toUpperCase());
    } return res.join('');
};
var _pymeth_title = function () { // nargs: 0
    if (this.constructor !== String) return this.title.apply(this, arguments);
    var i0, res = [], tester = /^[^A-Za-z]?[A-Za-z]$/;
    for (var i=0; i<this.length; i++) {
        i0 = Math.max(0, i-1);
        if (tester.test(this.slice(i0, i+1))) res.push(this[i].toUpperCase());
        else res.push(this[i].toLowerCase());
    } return res.join('');
};
var _pymeth_translate = function (table) { // nargs: 1
    if (this.constructor !== String) return this.translate.apply(this, arguments);
    var c, res = [];
    for (var i=0; i<this.length; i++) {
        c = table[this[i]];
        if (c === undefined) res.push(this[i]);
        else if (c !== null) res.push(c);
    } return res.join('');
};
var _pymeth_update = function (other) { // nargs: 1
    if (this.constructor !== Object) return this.update.apply(this, arguments);
    var key, keys = Object.keys(other);
    for (var i=0; i<keys.length; i++) {key = keys[i]; this[key] = other[key];}
};
var _pymeth_upper = function () { // nargs: 0
    if (this.constructor !== String) return this.upper.apply(this, arguments);
    return this.toUpperCase();
};
var _pymeth_values = function () { // nargs: 0
    if (this.constructor !== Object) return this.values.apply(this, arguments);
    var key, keys = Object.keys(this), res = [];
    for (var i=0; i<keys.length; i++) {key = keys[i]; res.push(this[key]);}
    return res;
};
var _pymeth_zfill = function (width) { // nargs: 1
    if (this.constructor !== String) return this.zfill.apply(this, arguments);
    return _pymeth_rjust.call(this, width, '0');
};
var _pyimp_sys__path = [];
var _pyimp_sys__version = '2.7.12 [PyScript]';
var _pyimp_sys__version_info = [2, 7, 12];
var _pyimp_time__clock = function() {
    if (typeof(process) === "undefined"){return performance.now()*1e-3;}
    else {var t = process.hrtime(); return t[0] + t[1]*1e-9;}
};
var _pyimp_time__perf_counter = function() {
    if (typeof(process) === "undefined"){return performance.now()*1e-3;}
    else {var t = process.hrtime(); return t[0] + t[1]*1e-9;}
};
var _pyimp_time__sleep = function(secs) {
    var msecs = secs * 1000, start = new Date();
    while (new Date() - start < msecs) {}
};
var _pyimp_time__time = function () {return new Date().getTime() / 1000;};
</script>
<script>
/* JS for flexx-app.js */
/* Autogenerated code from Flexx. Code Subject to the new BSD license.*/

"use strict";

var FlexxJS;
FlexxJS = function () {
    // JavaScript Flexx module. This provides the connection between
    // the Python and JS (via a websocket).
    _pyfunc_instantiate(this, arguments);
}
FlexxJS.prototype._base_class = Object;
FlexxJS.prototype._class_name = "FlexxJS";

FlexxJS.prototype.__init__ = function () {
    var address;
    this.ws = null;
    this.last_msg = null;
    this.is_notebook = false;
    address = location.hostname;
    if (_pyfunc_truthy(location.port)) {
        address=_pyfunc_add(address, ":" + location.port)
    }
    if (_pyfunc_truthy(location.pathname)) {
        address=_pyfunc_add(address, "/" + location.pathname)
    }
    this.ws_url = "ws://" + address + "/ws";
    this.is_exported = false;
    this.classes = {};
    this.instances = {};
    if ((((typeof(window) === "undefined")) && ((typeof(module) === "object")))) {
        this._set_window_as_global();
        this.nodejs = true;
        window.setTimeout(this.init, 1);
        window.process.on("exit", this.exit, false);
        window.process.on("SIGINT", this.exit, false);
        window.setTimeout(this.exit, 10000000);
    } else {
        window.addEventListener("load", this.init, false);
        window.addEventListener("beforeunload", this.exit, false);
    }
    window.flexx = this;
    return null;
};

FlexxJS.prototype._set_window_as_global = function () {
    global.window = global;
    return null;
};

FlexxJS.prototype.init = function () {
    // Called after document is loaded.
    if (_pyfunc_truthy(window.flexx.is_exported)) {
        window.flexx.runExportedApp();
    } else if ((_pyfunc_truthy(window.flexx.is_notebook) && ((!(_pyfunc_truthy(window.IPython) && _pyfunc_truthy(window.IPython.notebook) && _pyfunc_truthy(window.IPython.notebook.session)))))) {
        console.log("Flexx: hey, I am in an exported notebook!");
    } else {
        window.flexx.initSocket();
        window.flexx.initLogging();
    }
    return null;
};

FlexxJS.prototype.exit = function () {
    // Called when runtime is about to quit.
    if (_pyfunc_truthy(this.ws)) {
        this.ws.close();
        this.ws = null;
    }
    return null;
};

FlexxJS.prototype.get = function (id) {
    // Get instance of a Model class.
    if (_pyfunc_equals(id, "body")) {
        return window.document.body;
    } else {
        return this.instances[id];
    }
    return null;
};

FlexxJS.prototype.initSocket = function () {
    var WebSocket, err_3, err_4, on_ws_close, on_ws_error, on_ws_message, on_ws_open, ws;
    // Make the connection to Python.
    if (_pyfunc_truthy(this.nodejs)) {
        try {
            WebSocket = require("ws");
        } catch(err_3) {
            {
                throw "FAIL: you need to 'npm install -g ws' (or 'websocket').";
            }
        }
    } else {
        WebSocket = window.WebSocket;
        if ((WebSocket === undefined)) {
            window.document.body.innerHTML = "Browser does not support WebSockets";
            throw "FAIL: need websocket";
        }
    }
    this.ws = ws = new WebSocket(window.flexx.ws_url);
    on_ws_open = (function (evt) {
        window.console.info("Socket connected");
        ws.send("hiflexx " + flexx_session_id);
        return null;
    }).bind(this);

    on_ws_message = (function (evt) {
        var msg;
        window.flexx.last_msg = msg = _pyfunc_truthy(evt.data) || evt;
        window.flexx.command(msg);
        return null;
    }).bind(this);

    on_ws_close = (function (evt) {
        var msg;
        this.ws = null;
        msg = "Lost connection with server";
        if ((_pyfunc_truthy(evt) && _pyfunc_truthy(evt.reason))) {
            msg=_pyfunc_add(msg, ": " + evt.reason + " (" + evt.code + ")")
        }
        if (_pyfunc_truthy(((!_pyfunc_truthy(window.flexx.is_notebook))) && ((!_pyfunc_truthy(this.nodejs))))) {
            window.document.body.innerHTML = msg;
        } else {
            window.console.info(msg);
        }
        return null;
    }).bind(this);

    on_ws_error = function (evt) {
        this.ws = null;
        window.console.error("Socket error");
        return null;
    };

    if (_pyfunc_truthy(this.nodejs)) {
        ws.on("open", on_ws_open);
        ws.on("message", on_ws_message);
        ws.on("close", on_ws_close);
        ws.on("error", on_ws_error);
    } else {
        ws.onopen = on_ws_open;
        ws.onmessage = on_ws_message;
        ws.onclose = on_ws_close;
        ws.onerror = on_ws_error;
    }
    return null;
};

FlexxJS.prototype.initLogging = function () {
    var error, info, log, on_error, warn;
    // Setup logging so that messages are proxied to Python.
    if (_pyfunc_truthy(window.console.ori_log)) {
        return null;
    }
    window.console.ori_log = window.console.log;
    window.console.ori_info = _pyfunc_truthy(window.console.info) || window.console.log;
    window.console.ori_warn = _pyfunc_truthy(window.console.warn) || window.console.log;
    window.console.ori_error = _pyfunc_truthy(window.console.error) || window.console.log;
    log = function (msg) {
        window.console.ori_log(msg);
        if ((window.flexx.ws !== null)) {
            window.flexx.ws.send("PRINT " + msg);
        }
        return null;
    };

    info = function (msg) {
        window.console.ori_info(msg);
        if ((window.flexx.ws !== null)) {
            window.flexx.ws.send("INFO " + msg);
        }
        return null;
    };

    warn = function (msg) {
        window.console.ori_warn(msg);
        if ((window.flexx.ws !== null)) {
            window.flexx.ws.send("WARN " + msg);
        }
        return null;
    };

    error = function (msg) {
        window.console.ori_error(msg);
        if ((window.flexx.ws !== null)) {
            window.flexx.ws.send("ERROR " + msg);
        }
        return null;
    };

    on_error = function (evt) {
        var msg, stack;
        msg = evt.message;
        if (_pyfunc_truthy(evt.error.stack)) {
            stack = (function list_comprehenson () {var res = [];var x, iter0, i0;iter0 = _pymeth_splitlines.call(evt.error.stack);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {x = iter0[i0];{res.push((_pyfunc_contains(".js", x))? (_pymeth_replace.call(x, "@", " @ ")) : (_pymeth_split.call(x, "@")[0]));}}return res;}).apply(this);
            msg=_pyfunc_add(msg, "\n" + _pymeth_join.call("\n", stack))
        } else if ((_pyfunc_truthy(evt.message) && _pyfunc_truthy(evt.lineno))) {
            msg=_pyfunc_add(msg, "\nIn " + evt.filename + ":" + evt.lineno + "")
        }
        window.console.error(msg);
        evt.preventDefault();
        return null;
    };

    window.console.log = log;
    window.console.info = info;
    window.console.warn = warn;
    window.console.error = error;
    if (_pyfunc_truthy(this.nodejs)) {
        window.process.on("uncaughtException", on_error, false);
    } else {
        window.addEventListener("error", on_error, false);
    }
    return null;
};

FlexxJS.prototype.command = function (msg) {
    var el, link;
    // Execute a command received from the server.
    if (_pymeth_startswith.call(msg, "PRINT ")) {
        window.console.ori_log(msg.slice(6));
    } else if (_pymeth_startswith.call(msg, "EVAL ")) {
        window._ = eval(msg.slice(5));
        window.flexx.ws.send("RET " + window._);
    } else if (_pymeth_startswith.call(msg, "EXEC ")) {
        eval(msg.slice(5));
    } else if (_pymeth_startswith.call(msg, "DEFINE-JS ")) {
        if (_pyfunc_truthy(this.nodejs)) {
            eval(msg.slice(10));
        } else {
            el = window.document.createElement("script");
            el.innerHTML = msg.slice(10);
            window.document.body.appendChild(el);
        }
    } else if (_pymeth_startswith.call(msg, "DEFINE-CSS ")) {
        el = window.document.createElement("style");
        el.type = "text/css";
        el.innerHTML = msg.slice(11);
        window.document.body.appendChild(el);
    } else if (_pymeth_startswith.call(msg, "TITLE ")) {
        if ((!_pyfunc_truthy(this.nodejs))) {
            window.document.title = msg.slice(6);
        }
    } else if (_pymeth_startswith.call(msg, "ICON ")) {
        if ((!_pyfunc_truthy(this.nodejs))) {
            link = window.document.createElement("link");
            link.rel = "icon";
            link.href = msg.slice(5);
            window.document.head.appendChild(link);
        }
    } else if (_pymeth_startswith.call(msg, "OPEN ")) {
        window.win1 = window.open(msg.slice(5), "new", "chrome");
    } else {
        window.console.warn((("Invalid command: \"") + msg) + ("\""));
    }
    return null;
};

FlexxJS.prototype.decodeUtf8 = function (arrayBuffer) {
    var result = "",
            i = 0,
            c = 0,
            c1 = 0,
            c2 = 0,
            c3 = 0,
            data = new Uint8Array(arrayBuffer);
    
        // If we have a BOM skip it
        if (data.length >= 3 &&
            data[0] === 0xef && data[1] === 0xbb && data[2] === 0xbf) {
            i = 3;
        }
    
        while (i < data.length) {
            c = data[i];
    
            if (c < 128) {
                result += String.fromCharCode(c);
                i += 1;
            } else if (c > 191 && c < 224) {
                if (i + 1 >= data.length) {
                    throw "UTF-8 Decode failed. Two byte character was truncated.";
                }
                c2 = data[i + 1];
                result += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
                i += 2;
            } else {
                if (i + 2 >= data.length) {
                    throw "UTF-8 Decode failed. Multi byte character was truncated.";
                }
                c2 = data[i + 1];
                c3 = data[i + 2];
                result += String.fromCharCode(((c & 15) << 12) |
                                              ((c2 & 63) << 6) | (c3 & 63));
                i += 3;
            }
        }
        return result;
};


var flexx = new FlexxJS();

flexx.Serializer = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.Serializer.prototype._base_class = Object;
flexx.Serializer.prototype._class_name = "flexx.Serializer";

flexx.Serializer.prototype.__init__ = function () {
    var _replacer, _reviver, _revivers, add_reviver, loads, saves;
    this._revivers = _revivers = {};
    loads = (function (text) {
        return JSON.parse(text, _reviver);
    }).bind(this);

    saves = (function (obj) {
        return JSON.stringify(obj, _replacer);
    }).bind(this);

    add_reviver = (function (type_name, func) {
        if (!(({}).toString.call(type_name).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'string')) {throw "AssertionError: " + "({}).toString.call(type_name).match(/\\s([a-zA-Z]+)/)[1].toLowerCase() === 'string'";}
        _revivers[type_name] = func;
        return null;
    }).bind(this);

    _reviver = (function (dct, val) {
        var func, type;
        val = (val === undefined) ? undefined: val;
        if ((val !== undefined)) {
            dct = val;
        }
        if ((({}).toString.call(dct).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'object')) {
            type = _pymeth_get.call(dct, "__type__", null);
            if ((type !== null)) {
                func = _pymeth_get.call(_revivers, type, null);
                if ((func !== null)) {
                    return func(dct);
                }
            }
        }
        return dct;
    }).bind(this);

    _replacer = (function (obj, val) {
        var err_5;
        val = (val === undefined) ? undefined: val;
        if ((val === undefined)) {
            try {
                return obj.__json__();
            } catch(err_4) {
                if (err_4 instanceof Error && err_4.name === "AttributeError") {
                    err_5 = new Error('TypeError:' + ("Cannot serialize object to JSON: " + JSON.stringify(obj) + "")); err_5.name = "TypeError"; throw err_5;
                }
            }
        } else {
            if (((val !== null) && (val.__json__ !== undefined))) {
                return val.__json__();
            }
            return val;
        }
        return null;
    }).bind(this);

    this.loads = loads;
    this.saves = saves;
    this.add_reviver = add_reviver;
    return null;
};


flexx.serializer = new flexx.Serializer();


flexx.classes.HasEvents = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.HasEvents.prototype._base_class = Object;
flexx.classes.HasEvents.prototype._class_name = "flexx.classes.HasEvents";

flexx.classes.HasEvents.prototype._HANDLER_COUNT = 0;
flexx.classes.HasEvents.prototype._IS_HASEVENTS = true;
flexx.classes.HasEvents.prototype.__init__ = function (init_handlers) {
    var creator, func, name, stub1_seq, stub2_itr, stub3_seq, stub4_itr, stub5_seq, stub6_itr;
    init_handlers = (init_handlers === undefined) ? true: init_handlers;
    this.__handlers = {};
    this.__props_being_set = {};
    this.__initial_pending_events = [];
    stub1_seq = this.__properties__;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        name = stub1_seq[stub2_itr];
        _pymeth_setdefault.call(this.__handlers, name, []);
        this[("_" + name) + "_value"] = null;
    }
    stub3_seq = this.__properties__;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        name = stub3_seq[stub4_itr];
        func = this[("_" + name) + "_func"];
        creator = this["__create_" + func.emitter_type];
        creator(name);
        if ((func.default !== undefined)) {
            this._set_prop(name, func.default, true);
        }
    }
    stub5_seq = this.__emitters__;
    if ((typeof stub5_seq === "object") && (!Array.isArray(stub5_seq))) {
        stub5_seq = Object.keys(stub5_seq);
    }
    for (stub6_itr = 0; stub6_itr < stub5_seq.length; stub6_itr += 1) {
        name = stub5_seq[stub6_itr];
        _pymeth_setdefault.call(this.__handlers, name, []);
        func = this[("_" + name) + "_func"];
        this.__create_Emitter(name);
    }
    if (_pyfunc_truthy(init_handlers)) {
        this._init_handlers();
    }
    return null;
};

flexx.classes.HasEvents.prototype.__init_handlers = function (initial_pending_events) {
    var ev, func, name, stub10_itr, stub7_seq, stub8_itr, stub9_seq;
    stub7_seq = this.__handlers__;
    if ((typeof stub7_seq === "object") && (!Array.isArray(stub7_seq))) {
        stub7_seq = Object.keys(stub7_seq);
    }
    for (stub8_itr = 0; stub8_itr < stub7_seq.length; stub8_itr += 1) {
        name = stub7_seq[stub8_itr];
        func = this[name];
        this[name] = this.__create_Handler(func, name, func._connection_strings);
    }
    stub9_seq = initial_pending_events;
    if ((typeof stub9_seq === "object") && (!Array.isArray(stub9_seq))) {
        stub9_seq = Object.keys(stub9_seq);
    }
    for (stub10_itr = 0; stub10_itr < stub9_seq.length; stub10_itr += 1) {
        ev = stub9_seq[stub10_itr];
        this._emit(ev);
    }
    return null;
};

flexx.classes.HasEvents.prototype.__connect = function () {
    var connection_strings, err_2, err_3, func, s, stub11_seq, stub12_itr;
    connection_strings = Array.prototype.slice.call(arguments);
    if (_pyfunc_truthy(connection_strings.length < 2)) {
        err_2 = new Error('RuntimeError:' + ("connect() (js) needs a function and one or " + "more connection strings.")); err_2.name = "RuntimeError"; throw err_2;
    }
    if ((typeof connection_strings[0] === "function")) {
        func = connection_strings[0];
        connection_strings = connection_strings.slice(1);
    } else if ((typeof connection_strings[connection_strings.length -1] === "function")) {
        func = connection_strings[connection_strings.length -1];
        connection_strings = connection_strings.slice(0,-1);
    } else {
        err_2 = new Error('TypeError:' + "connect() decorator requires a callable."); err_2.name = "TypeError"; throw err_2;
    }
    stub11_seq = connection_strings;
    if ((typeof stub11_seq === "object") && (!Array.isArray(stub11_seq))) {
        stub11_seq = Object.keys(stub11_seq);
    }
    for (stub12_itr = 0; stub12_itr < stub11_seq.length; stub12_itr += 1) {
        s = stub11_seq[stub12_itr];
        if ((!(((({}).toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'string')) && s.length))) {
            err_3 = new Error('ValueError:' + "Connection string must be nonempty strings."); err_3.name = "ValueError"; throw err_3;
        }
    }
    return this.__create_Handler(func, _pyfunc_truthy(func.name) || "anonymous", connection_strings);
};

flexx.classes.HasEvents.prototype.__create_PyProperty = function (name) {
    this.__create_Property(name);
    return null;
};

flexx.classes.HasEvents.prototype.__create_Property = function (name) {
    var getter, opts, private_name, setter;
    private_name = ("_" + name) + "_value";
    getter = (function () {
        return this[private_name];
    }).bind(this);

    setter = (function (x) {
        this._set_prop(name, x);
        return null;
    }).bind(this);

    opts = {"enumerable": true, "configurable": true, "get": getter, "set": setter};
    Object.defineProperty(this, name, opts);
    return null;
};

flexx.classes.HasEvents.prototype.__create_Readonly = function (name) {
    var getter, opts, private_name, setter;
    private_name = ("_" + name) + "_value";
    getter = (function () {
        return this[private_name];
    }).bind(this);

    setter = (function (x) {
        var err_2;
        err_2 = new Error('AttributeError:' + ("Readonly " + name + " is not settable")); err_2.name = "AttributeError"; throw err_2;
        return null;
    }).bind(this);

    opts = {"enumerable": true, "configurable": true, "get": getter, "set": setter};
    Object.defineProperty(this, name, opts);
    return null;
};

flexx.classes.HasEvents.prototype.__create_Emitter = function (name) {
    var getter, opts, setter;
    getter = (function () {
        return this._get_emitter(name);
    }).bind(this);

    setter = (function (x) {
        var err_2;
        err_2 = new Error('AttributeError:' + ("Emitter " + name + " is not settable")); err_2.name = "AttributeError"; throw err_2;
        return null;
    }).bind(this);

    opts = {"enumerable": true, "configurable": true, "get": getter, "set": setter};
    Object.defineProperty(this, name, opts);
    return null;
};

flexx.classes.HasEvents.prototype.__create_Handler = function (func, name, connection_strings) {
    var handler, that;
    handler = (function () {
        var events;
        events = Array.prototype.slice.call(arguments);
        return func.apply(this, events);
    }).bind(this);

    
    handler._add_pending_event = function (label, ev) {
        if ((!_pyfunc_truthy(this._scheduled_update))) {
            this._scheduled_update = true;
            { /* if this_is_js() */
            setTimeout(this._handle_now_callback.bind(this), 0);
            }
        }
        _pymeth_append.call(this._pending, [label, ev]);
        return null;
    };

    handler._clear_hasevents_refs = function (ob) {
        var connection, i, stub1_seq, stub2_itr, stub3_seq, stub4_itr;
        stub3_seq = this._connections;
        if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
            stub3_seq = Object.keys(stub3_seq);
        }
        for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
            connection = stub3_seq[stub4_itr];
            stub1_seq = _pyfunc_reversed(_pyfunc_range(0, connection.objects.length, 1));
            if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
                stub1_seq = Object.keys(stub1_seq);
            }
            for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
                i = stub1_seq[stub2_itr];
                if (((connection.objects[i][0]) === ob)) {
                    _pymeth_pop.call(connection.objects, i);
                }
            }
        }
        return null;
    };

    handler._connect_to_event = function (index) {
        var connection, err_3, name, ob, path, stub1_, stub2_seq, stub3_itr, stub4_tgt, type;
        connection = this._connections[index];
        while (connection.objects.length) {
            stub1_ = _pymeth_pop.call(connection.objects, 0);
            ob = stub1_[0];name = stub1_[1];
            ob.disconnect(name, this);
        }
        path = _pymeth_split.call(connection.fullname, ".").slice(0,-1);
        ob = this._ob();
        if ((ob !== null)) {
            this._seek_event_object(index, path, ob);
        }
        if ((!_pyfunc_truthy(connection.objects))) {
            err_3 = new Error('RuntimeError:' + ("Could not connect to " + JSON.stringify(connection.fullname) + "")); err_3.name = "RuntimeError"; throw err_3;
        }
        stub2_seq = connection.objects;
        if ((typeof stub2_seq === "object") && (!Array.isArray(stub2_seq))) {
            stub2_seq = Object.keys(stub2_seq);
        }
        for (stub3_itr = 0; stub3_itr < stub2_seq.length; stub3_itr += 1) {
            stub4_tgt = stub2_seq[stub3_itr];
            ob = stub4_tgt[0]; type = stub4_tgt[1];
            ob._register_handler(type, this);
        }
        return null;
    };

    handler._handle_now_callback = function () {
        this._scheduled_update = false;
        this.handle_now();
        return null;
    };

    handler._init = function (connection_strings) {
        var d, index, s, stub1_seq, stub2_itr;
        this._connections = [];
        stub1_seq = connection_strings;
        if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
            stub1_seq = Object.keys(stub1_seq);
        }
        for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
            s = stub1_seq[stub2_itr];
            d = {};
            _pymeth_append.call(this._connections, d);
            d.fullname = s;
            d.type = _pymeth_split.call(s, ".")[_pymeth_split.call(s, ".").length -1];
            d.objects = [];
        }
        this._scheduled_update = false;
        this._pending = [];
        for (index = 0; index < this._connections.length; index += 1) {
            this._connect_to_event(index);
        }
        return null;
    };

    handler._seek_event_object = function (index, path, ob) {
        var connection, name_label, obname, stub1_, stub2_seq, stub3_itr, sub_ob;
        connection = this._connections[index];
        if (((ob === null) || (!path.length))) {
            if (((ob === null) || (!_pyfunc_hasattr(ob, "_IS_HASEVENTS")))) {
                return null;
            }
            _pymeth_append.call(connection.objects, [ob, connection.type]);
            return null;
        }
        stub1_ = [path[0], path.slice(1)];
        obname = stub1_[0];path = stub1_[1];
        if ((_pyfunc_hasattr(ob, "_IS_HASEVENTS") && _pyfunc_contains(obname, ob.__properties__))) {
            name_label = _pyfunc_add((obname + ":reconnect_"), _pyfunc_str(index));
            _pymeth_append.call(connection.objects, [ob, name_label]);
            ob = _pyfunc_getattr(ob, obname, null);
        } else if ((_pyfunc_equals(obname, "*") && ((({}).toString.call(ob).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'array')))) {
            stub2_seq = ob;
            if ((typeof stub2_seq === "object") && (!Array.isArray(stub2_seq))) {
                stub2_seq = Object.keys(stub2_seq);
            }
            for (stub3_itr = 0; stub3_itr < stub2_seq.length; stub3_itr += 1) {
                sub_ob = stub2_seq[stub3_itr];
                this._seek_event_object(index, path, sub_ob);
            }
            return null;
        } else {
            ob = _pyfunc_getattr(ob, obname, null);
        }
        return this._seek_event_object(index, path, ob);
    };

    handler._use_once = function (func) {
        this._func_once = func;
        return null;
    };

    handler.dispose = function () {
        var connection, name, ob, stub1_, stub2_seq, stub3_itr;
        if ((!"this_is_js()")) {
            logger.debug("Disposing Handler " + JSON.stringify(this) + " ");
        }
        stub2_seq = this._connections;
        if ((typeof stub2_seq === "object") && (!Array.isArray(stub2_seq))) {
            stub2_seq = Object.keys(stub2_seq);
        }
        for (stub3_itr = 0; stub3_itr < stub2_seq.length; stub3_itr += 1) {
            connection = stub2_seq[stub3_itr];
            while (connection.objects.length) {
                stub1_ = _pymeth_pop.call(connection.objects, 0);
                ob = stub1_[0];name = stub1_[1];
                ob.disconnect(name, this);
            }
        }
        while (this._pending.length) {
            this._pending.pop();
        }
        return null;
    };

    handler.get_connection_info = function () {
        return (function list_comprehenson () {var res = [];var c, iter0, i0;iter0 = this._connections;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {c = iter0[i0];{res.push([c.fullname, (function list_comprehenson () {var res = [];var u, iter0, i0;iter0 = c.objects;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {u = iter0[i0];{res.push(u[1]);}}return res;}).apply(this)]);}}return res;}).apply(this);
    };

    handler.get_name = function () {
        return this._name;
    };

    handler.handle_now = function () {
        var err, ev, events, index, label, reconnect, stub1_seq, stub2_itr, stub3_tgt, stub4_seq, stub5_itr;
        events = [];
        reconnect = [];
        stub1_seq = this._pending;
        if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
            stub1_seq = Object.keys(stub1_seq);
        }
        for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
            stub3_tgt = stub1_seq[stub2_itr];
            label = stub3_tgt[0]; ev = stub3_tgt[1];
            if (_pymeth_startswith.call(label, "reconnect_")) {
                index = _pyfunc_int((_pymeth_split.call(label, "_")[_pymeth_split.call(label, "_").length -1]));
                _pymeth_append.call(reconnect, index);
            } else {
                _pymeth_append.call(events, ev);
            }
        }
        this._pending = [];
        stub4_seq = reconnect;
        if ((typeof stub4_seq === "object") && (!Array.isArray(stub4_seq))) {
            stub4_seq = Object.keys(stub4_seq);
        }
        for (stub5_itr = 0; stub5_itr < stub4_seq.length; stub5_itr += 1) {
            index = stub4_seq[stub5_itr];
            this._connect_to_event(index);
        }
        if (events.length) {
            if ((!"this_is_js()")) {
                logger.debug("Handler " + this._name + " is processing " + events.length + " events");
            }
            try {
                this.apply(null, events);
            } catch(err_4) {
                {
                    err = err_4;
                    { /* if this_is_js() */
                    console.log(err);
                    }
                }
            }
        }
        return null;
    };

;
    that = this;
    flexx.classes.HasEvents.prototype._HANDLER_COUNT=_pyfunc_add(flexx.classes.HasEvents.prototype._HANDLER_COUNT, 1)
    handler._name = name;
    handler._id = "h" + _pyfunc_str(flexx.classes.HasEvents.prototype._HANDLER_COUNT);
    handler._ob = (function () {return that;}).bind(this);
    handler._init(connection_strings, this);
    return handler;
};


flexx.classes.HasEvents.prototype._emit = function (ev) {
    var handler, label, stub1_seq, stub2_itr, stub3_tgt;
    stub1_seq = _pymeth_get.call(this.__handlers, ev.type, []);
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        stub3_tgt = stub1_seq[stub2_itr];
        label = stub3_tgt[0]; handler = stub3_tgt[1];
        handler._add_pending_event(label, ev);
    }
    return null;
};

flexx.classes.HasEvents.prototype._get_emitter = function (emitter_name) {
    var emitter_func, func, func_name;
    func_name = ("_" + emitter_name) + "_func";
    func = _pyfunc_getattr(this, func_name);
    emitter_func = (function () {
        var args, ev;
        args = Array.prototype.slice.call(arguments);
        { /* if this_is_js() */
        ev = func.apply(this, args);
        }
        this.emit(emitter_name, ev);
        return null;
    }).bind(this);

    return emitter_func;
};

flexx.classes.HasEvents.prototype._handlers_changed_hook = function () {
    return null;
};

flexx.classes.HasEvents.prototype._init_handlers = function () {
    var err_2, events;
    if ((this.__initial_pending_events === null)) {
        err_2 = new Error('RuntimeError:' + "Cannot initialize handlers twice"); err_2.name = "RuntimeError"; throw err_2;
    }
    events = this.__initial_pending_events;
    this.__initial_pending_events = null;
    this.__init_handlers(events);
    return null;
};

flexx.classes.HasEvents.prototype._register_handler = function (type, handler) {
    var _, entry, handlers, label, stub1_;
    stub1_ = _pymeth_partition.call(type, ":");
    type = stub1_[0];_ = stub1_[1];label = stub1_[2];
    label = _pyfunc_truthy(label) || handler._name;
    handlers = _pymeth_setdefault.call(this.__handlers, type, []);
    entry = [label, handler];
    if ((!_pyfunc_contains(entry, handlers))) {
        _pymeth_append.call(handlers, entry);
    }
    _pymeth_sort.call(handlers, ((function (x) {return _pyfunc_add((x[0] + "-"), (x[1]._id));}).bind(this)), false);
    this._handlers_changed_hook();
    return null;
};

flexx.classes.HasEvents.prototype._set_prop = function (prop_name, value, _initial) {
    var cname, err_2, func, func_name, is_equal, old, private_name, prop_being_set, value2;
    _initial = (_initial === undefined) ? false: _initial;
    if ((!(({}).toString.call(prop_name).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'string'))) {
        err_2 = new Error('TypeError:' + ("_set_prop's first arg must be str, not " + prop_name.constructor.prototype + "")); err_2.name = "TypeError"; throw err_2;
    }
    if ((!_pyfunc_contains(prop_name, this.__properties__))) {
        cname = this.constructor.prototype.__name__;
        err_2 = new Error('AttributeError:' + ("" + cname + " object has no property " + JSON.stringify(prop_name) + "")); err_2.name = "AttributeError"; throw err_2;
    }
    prop_being_set = _pymeth_get.call(this.__props_being_set, prop_name, null);
    if (_pyfunc_truthy(prop_being_set)) {
        return null;
    }
    private_name = ("_" + prop_name) + "_value";
    func_name = ("_" + prop_name) + "_func";
    this.__props_being_set[prop_name] = true;
    func = _pyfunc_getattr(this, func_name);
    try {
        { /* if this_is_js() */
        value2 = func.apply(this, [value]);
        }
    } finally {
        this.__props_being_set[prop_name] = false;
    }
    if ((prop_being_set === null)) {
        _pyfunc_setattr(this, private_name, value2);
        this.emit(prop_name, {new_value:value2, old_value:value2});
        return true;
    }
    old = _pyfunc_getattr(this, private_name);
    { /* if this_is_js() */
    is_equal = _pyfunc_equals(old, value2);
    }
    if ((!_pyfunc_truthy(is_equal))) {
        _pyfunc_setattr(this, private_name, value2);
        this.emit(prop_name, {new_value:value2, old_value:old});
        return true;
    }
    return null;
};

flexx.classes.HasEvents.prototype.connect = function () {
    var connection_strings;
    connection_strings = Array.prototype.slice.call(arguments);
    return this.__connect.apply(this, connection_strings);
};

flexx.classes.HasEvents.prototype.disconnect = function (type, handler) {
    var _, entry, handlers, i, label, stub1_, stub2_seq, stub3_itr;
    handler = (handler === undefined) ? null: handler;
    stub1_ = _pymeth_partition.call(type, ":");
    type = stub1_[0];_ = stub1_[1];label = stub1_[2];
    handlers = _pymeth_get.call(this.__handlers, type, []);
    stub2_seq = _pyfunc_reversed(_pyfunc_range(0, handlers.length, 1));
    if ((typeof stub2_seq === "object") && (!Array.isArray(stub2_seq))) {
        stub2_seq = Object.keys(stub2_seq);
    }
    for (stub3_itr = 0; stub3_itr < stub2_seq.length; stub3_itr += 1) {
        i = stub2_seq[stub3_itr];
        entry = handlers[i];
        if ((!(((_pyfunc_truthy(label) && ((!_pyfunc_equals(label, entry[0]))))) || (_pyfunc_truthy(handler) && (handler !== entry[1]))))) {
            _pymeth_pop.call(handlers, i);
        }
    }
    this._handlers_changed_hook();
    return null;
};

flexx.classes.HasEvents.prototype.dispose = function () {
    var handler, handlers, label, name, stub1_seq, stub2_itr, stub3_tgt, stub4_seq, stub5_seq, stub6_itr;
    if ((!"this_is_js()")) {
        logger.debug("Disposing HasEvents instance " + JSON.stringify(this) + "");
    }
    stub4_seq = this.__handlers;
    for (name in stub4_seq) {
        if (!stub4_seq.hasOwnProperty(name)){ continue; }
        handlers = stub4_seq[name];
        stub1_seq = handlers;
        if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
            stub1_seq = Object.keys(stub1_seq);
        }
        for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
            stub3_tgt = stub1_seq[stub2_itr];
            label = stub3_tgt[0]; handler = stub3_tgt[1];
            handler._clear_hasevents_refs(this);
        }
        while (handlers.length) {
            handlers.pop();
        }
    }
    stub5_seq = this.__handlers__;
    if ((typeof stub5_seq === "object") && (!Array.isArray(stub5_seq))) {
        stub5_seq = Object.keys(stub5_seq);
    }
    for (stub6_itr = 0; stub6_itr < stub5_seq.length; stub6_itr += 1) {
        name = stub5_seq[stub6_itr];
        _pyfunc_getattr(this, name).dispose();
    }
    return null;
};

flexx.classes.HasEvents.prototype.emit = function (type, info) {
    var _, err_2, ev, label, stub1_;
    info = (info === undefined) ? null: info;
    info = ((info === null))? ({}) : (info);
    stub1_ = _pymeth_partition.call(type, ":");
    type = stub1_[0];_ = stub1_[1];label = stub1_[2];
    if (label.length) {
        err_2 = new Error('ValueError:' + "The type given to emit() should not include a label."); err_2.name = "ValueError"; throw err_2;
    }
    if ((!(({}).toString.call(info).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'object'))) {
        err_2 = new Error('TypeError:' + ("Info object (for " + JSON.stringify(type) + ") must be a dict, not " + JSON.stringify(info) + "")); err_2.name = "TypeError"; throw err_2;
    }
    ev = _pyfunc_dict(info);
    ev.type = type;
    ev.source = this;
    if ((this.__initial_pending_events !== null)) {
        _pymeth_append.call(this.__initial_pending_events, ev);
    } else {
        this._emit(ev);
    }
    return ev;
};

flexx.classes.HasEvents.prototype.get_event_handlers = function (type) {
    var _, err_2, handlers, label, stub1_;
    if ((!_pyfunc_truthy(type))) {
        err_2 = new Error('TypeError:' + ("get_event_handlers() missing \"type\" argument.")); err_2.name = "TypeError"; throw err_2;
    }
    stub1_ = _pymeth_partition.call(type, ":");
    type = stub1_[0];_ = stub1_[1];label = stub1_[2];
    if (label.length) {
        err_2 = new Error('ValueError:' + "The type given to get_event_handlers() should not include a label."); err_2.name = "ValueError"; throw err_2;
    }
    handlers = _pymeth_get.call(this.__handlers, type, []);
    return (function list_comprehenson () {var res = [];var h, iter0, i0;iter0 = handlers;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {h = iter0[i0];{res.push(h[1]);}}return res;}).apply(this);
};

flexx.classes.HasEvents.prototype.get_event_types = function () {
    return _pyfunc_list((_pyfunc_sorted(_pymeth_keys.call(this.__handlers), undefined, false)));
};


flexx.classes.Model = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Model.prototype = Object.create(flexx.classes.HasEvents.prototype);
flexx.classes.Model.prototype._base_class = flexx.classes.HasEvents.prototype;
flexx.classes.Model.prototype._class_name = "Model";

flexx.classes.Model.prototype.__emitters__ = [];
flexx.classes.Model.prototype.__handlers__ = [];
flexx.classes.Model.prototype.__local_properties__ = [];
flexx.classes.Model.prototype.__properties__ = [];

flexx.classes.Model.prototype.__from_json__ = function (dct) {
    return window.flexx.instances[dct.id];
};

flexx.classes.Model.prototype.__init__ = function (id, py_events) {
    py_events = (py_events === undefined) ? null: py_events;
    if (!(id)) {throw "AssertionError: " + "id";}
    this.__id = this._id = this.id = id;
    this.__event_types_py = (_pyfunc_truthy(py_events))? (py_events) : ([]);
    this._sync_props = true;
    flexx.classes.HasEvents.prototype.__init__.call(this, false);
    return null;
};

flexx.classes.Model.prototype.__json__ = function () {
    return {"__type__": "Flexx-Model", "id": this.id};
};

flexx.classes.Model.prototype._emit_from_py = function (type, text) {
    var ev;
    ev = window.flexx.serializer.loads(text);
    this.emit(type, ev, true);
    return null;
};

flexx.classes.Model.prototype._handlers_changed_hook = function () {
    var handlers, text, types;
    handlers = this.__handlers;
    types = (function list_comprehenson () {var res = [];var name, iter0, i0;iter0 = _pymeth_keys.call(handlers);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {name = iter0[i0];if (!((handlers[name].length))) {continue;}{res.push(name);}}return res;}).apply(this);
    text = window.flexx.serializer.saves(types);
    if (_pyfunc_truthy(window.flexx.ws)) {
        window.flexx.ws.send("SET_EVENT_TYPES " + _pymeth_join.call([this.id, text], " "));
    }
    return null;
};

flexx.classes.Model.prototype._set_event_types_py = function (event_types) {
    this.__event_types_py = event_types;
    return null;
};

flexx.classes.Model.prototype._set_prop = function (name, value, _initial, frompy) {
    var ischanged, islocal, issyncable, txt;
    _initial = (_initial === undefined) ? false: _initial;
    frompy = (frompy === undefined) ? false: frompy;
    islocal = this.__local_properties__.indexOf(name) >= 0;
    issyncable = ((!_pyfunc_truthy(_initial))) && ((!_pyfunc_truthy(islocal))) && _pyfunc_truthy(this._sync_props);
    if ((window.flexx.ws === null)) {
        flexx.classes.HasEvents.prototype._set_prop.call(this, name, value, _initial);
        return null;
    }
    ischanged = flexx.classes.HasEvents.prototype._set_prop.call(this, name, value, _initial);
    if ((_pyfunc_truthy(ischanged) && _pyfunc_truthy(issyncable))) {
        value = this[name];
        txt = window.flexx.serializer.saves(value);
        window.flexx.ws.send("SET_PROP " + _pymeth_join.call([this.id, name, txt], " "));
    }
    return null;
};

flexx.classes.Model.prototype._set_prop_from_py = function (name, text) {
    var value;
    value = window.flexx.serializer.loads(text);
    this._set_prop(name, value, false, true);
    return null;
};

flexx.classes.Model.prototype.emit = function (type, ev, frompy) {
    var isprop, txt;
    frompy = (frompy === undefined) ? false: frompy;
    ev = flexx.classes.HasEvents.prototype.emit.call(this, type, ev);
    isprop = (_pyfunc_truthy(this.__properties__.indexOf(type) >= 0)) && (_pyfunc_truthy(this.__local_properties__.indexOf(type) < 0)) && _pyfunc_truthy(this._sync_props);
    if (_pyfunc_truthy(((!_pyfunc_truthy(frompy))) && ((!_pyfunc_truthy(isprop))) && _pyfunc_contains(type, this.__event_types_py))) {
        txt = window.flexx.serializer.saves(ev);
        if (_pyfunc_truthy(window.flexx.ws)) {
            window.flexx.ws.send("EVENT " + _pymeth_join.call([this.id, type, txt], " "));
        }
    }
    return null;
};

flexx.classes.Model.prototype.init = function () {
    return null;
};


flexx.serializer.add_reviver("Flexx-Model", flexx.classes.Model.prototype.__from_json__);

</script>
<script>
/* JS for phosphor-all.js */
/*
Copyright (c) 2014-2016, PhosphorJS Contributors
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the copyright holder nor the names of its
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
window.phosphor = {};
window.phosphor.disposable = require("phosphor-disposable");
window.phosphor.messaging = require("phosphor-messaging");
window.phosphor.properties = require("phosphor-properties");
window.phosphor.signaling = require("phosphor-signaling");
window.phosphor.boxengine = require("phosphor-boxengine");
window.phosphor.domutil = require("phosphor-domutil");
window.phosphor.nodewrapper = require("phosphor-nodewrapper");
window.phosphor.widget = require("phosphor-widget");
window.phosphor.panel = require("phosphor-panel");
window.phosphor.menus = require("phosphor-menus");
window.phosphor.boxpanel = require("phosphor-boxpanel");
window.phosphor.splitpanel = require("phosphor-splitpanel");
window.phosphor.stackedpanel = require("phosphor-stackedpanel");
window.phosphor.tabs = require("phosphor-tabs");
window.phosphor.dockpanel = require("phosphor-dockpanel");

window.phosphor.createWidget = function (name) {
	var ori = phosphor.widget.Widget.createNode;
	phosphor.widget.Widget.createNode = function() {
		return document.createElement(name);
	};
	var w = new phosphor.widget.Widget();
	phosphor.widget.Widget.createNode = ori;
	return w;
};

},{"phosphor-boxengine":3,"phosphor-boxpanel":4,"phosphor-disposable":11,"phosphor-dockpanel":13,"phosphor-domutil":17,"phosphor-menus":20,"phosphor-messaging":25,"phosphor-nodewrapper":27,"phosphor-panel":28,"phosphor-properties":32,"phosphor-signaling":33,"phosphor-splitpanel":35,"phosphor-stackedpanel":39,"phosphor-tabs":43,"phosphor-widget":48}],2:[function(require,module,exports){
'use strict';


module.exports = {

	createLink: function(href, attributes) {
		var head = document.head || document.getElementsByTagName('head')[0];
		var link = document.createElement('link');

		link.href = href;
		link.rel = 'stylesheet';

		for (var key in attributes) {
			if ( ! attributes.hasOwnProperty(key)) {
				continue;
			}
			var value = attributes[key];
			link.setAttribute('data-' + key, value);
		}

		head.appendChild(link);
	},

	createStyle: function(cssText, attributes) {
		var head = document.head || document.getElementsByTagName('head')[0],
			style = document.createElement('style');

		style.type = 'text/css';

		for (var key in attributes) {
			if ( ! attributes.hasOwnProperty(key)) {
				continue;
			}
			var value = attributes[key];
			style.setAttribute('data-' + key, value);
		}

		if (style.sheet) {
			style.innerHTML = cssText;
			style.sheet.cssText = cssText;
			head.appendChild(style);
		} else if (style.styleSheet) {
			head.appendChild(style);
			style.styleSheet.cssText = cssText;
		} else {
			style.appendChild(document.createTextNode(cssText));
			head.appendChild(style);
		}
	}
};

},{}],3:[function(require,module,exports){

'use strict';

var BoxSizer = (function () {
	function BoxSizer() {

		this.sizeHint = 0;

		this.minSize = 0;

		this.maxSize = Infinity;

		this.stretch = 1;

		this.size = 0;

		this.done = false;
	}
	return BoxSizer;
})();
exports.BoxSizer = BoxSizer;

function boxCalc(sizers, space) {

	var count = sizers.length;
	if (count === 0) {
		return;
	}

	var totalMin = 0;
	var totalMax = 0;
	var totalSize = 0;
	var totalStretch = 0;
	var stretchCount = 0;

	for (var i = 0; i < count; ++i) {
		var sizer = sizers[i];
		initSizer(sizer);
		totalSize += sizer.size;
		totalMin += sizer.minSize;
		totalMax += sizer.maxSize;
		if (sizer.stretch > 0) {
			totalStretch += sizer.stretch;
			stretchCount++;
		}
	}

	if (space === totalSize) {
		return;
	}

	if (space <= totalMin) {
		for (var i = 0; i < count; ++i) {
			var sizer = sizers[i];
			sizer.size = sizer.minSize;
		}
		return;
	}

	if (space >= totalMax) {
		for (var i = 0; i < count; ++i) {
			var sizer = sizers[i];
			sizer.size = sizer.maxSize;
		}
		return;
	}



	var nearZero = 0.01;



	var notDoneCount = count;

	if (space < totalSize) {






		var freeSpace = totalSize - space;
		while (stretchCount > 0 && freeSpace > nearZero) {
			var distSpace = freeSpace;
			var distStretch = totalStretch;
			for (var i = 0; i < count; ++i) {
				var sizer = sizers[i];
				if (sizer.done || sizer.stretch === 0) {
					continue;
				}
				var amt = sizer.stretch * distSpace / distStretch;
				if (sizer.size - amt <= sizer.minSize) {
					freeSpace -= sizer.size - sizer.minSize;
					totalStretch -= sizer.stretch;
					sizer.size = sizer.minSize;
					sizer.done = true;
					notDoneCount--;
					stretchCount--;
				}
				else {
					freeSpace -= amt;
					sizer.size -= amt;
				}
			}
		}


		while (notDoneCount > 0 && freeSpace > nearZero) {
			var amt = freeSpace / notDoneCount;
			for (var i = 0; i < count; ++i) {
				var sizer = sizers[i];
				if (sizer.done) {
					continue;
				}
				if (sizer.size - amt <= sizer.minSize) {
					freeSpace -= sizer.size - sizer.minSize;
					sizer.size = sizer.minSize;
					sizer.done = true;
					notDoneCount--;
				}
				else {
					freeSpace -= amt;
					sizer.size -= amt;
				}
			}
		}
	}
	else {






		var freeSpace = space - totalSize;
		while (stretchCount > 0 && freeSpace > nearZero) {
			var distSpace = freeSpace;
			var distStretch = totalStretch;
			for (var i = 0; i < count; ++i) {
				var sizer = sizers[i];
				if (sizer.done || sizer.stretch === 0) {
					continue;
				}
				var amt = sizer.stretch * distSpace / distStretch;
				if (sizer.size + amt >= sizer.maxSize) {
					freeSpace -= sizer.maxSize - sizer.size;
					totalStretch -= sizer.stretch;
					sizer.size = sizer.maxSize;
					sizer.done = true;
					notDoneCount--;
					stretchCount--;
				}
				else {
					freeSpace -= amt;
					sizer.size += amt;
				}
			}
		}


		while (notDoneCount > 0 && freeSpace > nearZero) {
			var amt = freeSpace / notDoneCount;
			for (var i = 0; i < count; ++i) {
				var sizer = sizers[i];
				if (sizer.done) {
					continue;
				}
				if (sizer.size + amt >= sizer.maxSize) {
					freeSpace -= sizer.maxSize - sizer.size;
					sizer.size = sizer.maxSize;
					sizer.done = true;
					notDoneCount--;
				}
				else {
					freeSpace -= amt;
					sizer.size += amt;
				}
			}
		}
	}
}
exports.boxCalc = boxCalc;

function initSizer(sizer) {
	sizer.size = Math.max(sizer.minSize, Math.min(sizer.sizeHint, sizer.maxSize));
	sizer.done = false;
}

},{}],4:[function(require,module,exports){

'use strict';
function __export(m) {
	for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(require('./layout'));
__export(require('./panel'));

},{"./layout":5,"./panel":6}],5:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_boxengine_1 = require('phosphor-boxengine');
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_panel_1 = require('phosphor-panel');
var phosphor_widget_1 = require('phosphor-widget');

var LEFT_TO_RIGHT_CLASS = 'p-mod-left-to-right';

var RIGHT_TO_LEFT_CLASS = 'p-mod-right-to-left';

var TOP_TO_BOTTOM_CLASS = 'p-mod-top-to-bottom';

var BOTTOM_TO_TOP_CLASS = 'p-mod-bottom-to-top';

(function (Direction) {

	Direction[Direction["LeftToRight"] = 0] = "LeftToRight";

	Direction[Direction["RightToLeft"] = 1] = "RightToLeft";

	Direction[Direction["TopToBottom"] = 2] = "TopToBottom";

	Direction[Direction["BottomToTop"] = 3] = "BottomToTop";
})(exports.Direction || (exports.Direction = {}));
var Direction = exports.Direction;

var BoxLayout = (function (_super) {
	__extends(BoxLayout, _super);
	function BoxLayout() {
		_super.apply(this, arguments);
		this._fixed = 0;
		this._spacing = 8;
		this._box = null;
		this._sizers = [];
		this._direction = Direction.TopToBottom;
	}
	Object.defineProperty(BoxLayout.prototype, "direction", {

		get: function () {
			return this._direction;
		},

		set: function (value) {
			if (this._direction === value) {
				return;
			}
			this._direction = value;
			if (!this.parent) {
				return;
			}
			BoxLayoutPrivate.toggleDirection(this.parent, value);
			this.parent.fit();
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(BoxLayout.prototype, "spacing", {

		get: function () {
			return this._spacing;
		},

		set: function (value) {
			value = Math.max(0, value | 0);
			if (this._spacing === value) {
				return;
			}
			this._spacing = value;
			if (!this.parent) {
				return;
			}
			this.parent.fit();
		},
		enumerable: true,
		configurable: true
	});

	BoxLayout.prototype.initialize = function () {
		BoxLayoutPrivate.toggleDirection(this.parent, this.direction);
		_super.prototype.initialize.call(this);
	};

	BoxLayout.prototype.attachChild = function (index, child) {
		arrays.insert(this._sizers, index, new phosphor_boxengine_1.BoxSizer());
		BoxLayoutPrivate.prepareGeometry(child);
		this.parent.node.appendChild(child.node);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
		this.parent.fit();
	};

	BoxLayout.prototype.moveChild = function (fromIndex, toIndex, child) {
		arrays.move(this._sizers, fromIndex, toIndex);
		this.parent.update();
	};

	BoxLayout.prototype.detachChild = function (index, child) {
		arrays.removeAt(this._sizers, index);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
		BoxLayoutPrivate.resetGeometry(child);
		this.parent.fit();
	};

	BoxLayout.prototype.onAfterShow = function (msg) {
		_super.prototype.onAfterShow.call(this, msg);
		this.parent.update();
	};

	BoxLayout.prototype.onAfterAttach = function (msg) {
		_super.prototype.onAfterAttach.call(this, msg);
		this.parent.fit();
	};

	BoxLayout.prototype.onChildShown = function (msg) {
		if (BoxLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	BoxLayout.prototype.onChildHidden = function (msg) {
		if (BoxLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	BoxLayout.prototype.onResize = function (msg) {
		if (this.parent.isVisible) {
			this._update(msg.width, msg.height);
		}
	};

	BoxLayout.prototype.onUpdateRequest = function (msg) {
		if (this.parent.isVisible) {
			this._update(-1, -1);
		}
	};

	BoxLayout.prototype.onFitRequest = function (msg) {
		if (this.parent.isAttached) {
			this._fit();
		}
	};

	BoxLayout.prototype._fit = function () {

		var nVisible = 0;
		for (var i = 0, n = this.childCount(); i < n; ++i) {
			if (!this.childAt(i).isHidden)
				nVisible++;
		}

		this._fixed = this._spacing * Math.max(0, nVisible - 1);

		var minW = 0;
		var minH = 0;
		var maxW = Infinity;
		var maxH = Infinity;
		var horz = BoxLayoutPrivate.isHorizontal(this._direction);
		if (horz) {
			minW = this._fixed;
			maxW = nVisible > 0 ? minW : maxW;
		}
		else {
			minH = this._fixed;
			maxH = nVisible > 0 ? minH : maxH;
		}

		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			var sizer = this._sizers[i];
			if (child.isHidden) {
				sizer.minSize = 0;
				sizer.maxSize = 0;
				continue;
			}
			var limits = phosphor_domutil_1.sizeLimits(child.node);
			sizer.sizeHint = BoxLayout.getSizeBasis(child);
			sizer.stretch = BoxLayout.getStretch(child);
			if (horz) {
				sizer.minSize = limits.minWidth;
				sizer.maxSize = limits.maxWidth;
				minW += limits.minWidth;
				maxW += limits.maxWidth;
				minH = Math.max(minH, limits.minHeight);
				maxH = Math.min(maxH, limits.maxHeight);
			}
			else {
				sizer.minSize = limits.minHeight;
				sizer.maxSize = limits.maxHeight;
				minH += limits.minHeight;
				maxH += limits.maxHeight;
				minW = Math.max(minW, limits.minWidth);
				maxW = Math.min(maxW, limits.maxWidth);
			}
		}

		var box = this._box = phosphor_domutil_1.boxSizing(this.parent.node);
		minW += box.horizontalSum;
		minH += box.verticalSum;
		maxW += box.horizontalSum;
		maxH += box.verticalSum;

		var style = this.parent.node.style;
		style.minWidth = minW + "px";
		style.minHeight = minH + "px";
		style.maxWidth = maxW === Infinity ? 'none' : maxW + "px";
		style.maxHeight = maxH === Infinity ? 'none' : maxH + "px";

		var ancestor = this.parent.parent;
		if (ancestor)
			phosphor_messaging_1.sendMessage(ancestor, phosphor_widget_1.Widget.MsgFitRequest);

		phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgUpdateRequest);
	};

	BoxLayout.prototype._update = function (offsetWidth, offsetHeight) {

		if (this.childCount() === 0) {
			return;
		}

		if (offsetWidth < 0) {
			offsetWidth = this.parent.node.offsetWidth;
		}
		if (offsetHeight < 0) {
			offsetHeight = this.parent.node.offsetHeight;
		}

		var box = this._box || (this._box = phosphor_domutil_1.boxSizing(this.parent.node));

		var top = box.paddingTop;
		var left = box.paddingLeft;
		var width = offsetWidth - box.horizontalSum;
		var height = offsetHeight - box.verticalSum;

		switch (this._direction) {
			case Direction.LeftToRight:
				phosphor_boxengine_1.boxCalc(this._sizers, Math.max(0, width - this._fixed));
				break;
			case Direction.TopToBottom:
				phosphor_boxengine_1.boxCalc(this._sizers, Math.max(0, height - this._fixed));
				break;
			case Direction.RightToLeft:
				phosphor_boxengine_1.boxCalc(this._sizers, Math.max(0, width - this._fixed));
				left += width;
				break;
			case Direction.BottomToTop:
				phosphor_boxengine_1.boxCalc(this._sizers, Math.max(0, height - this._fixed));
				top += height;
				break;
		}

		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			if (child.isHidden) {
				continue;
			}
			var size = this._sizers[i].size;
			switch (this._direction) {
				case Direction.LeftToRight:
					BoxLayoutPrivate.setGeometry(child, left, top, size, height);
					left += size + this._spacing;
					break;
				case Direction.TopToBottom:
					BoxLayoutPrivate.setGeometry(child, left, top, width, size);
					top += size + this._spacing;
					break;
				case Direction.RightToLeft:
					BoxLayoutPrivate.setGeometry(child, left - size, top, size, height);
					left -= size + this._spacing;
					break;
				case Direction.BottomToTop:
					BoxLayoutPrivate.setGeometry(child, left, top - size, width, size);
					top -= size + this._spacing;
					break;
			}
		}
	};
	return BoxLayout;
})(phosphor_panel_1.PanelLayout);
exports.BoxLayout = BoxLayout;

var BoxLayout;
(function (BoxLayout) {

	BoxLayout.LeftToRight = Direction.LeftToRight;

	BoxLayout.RightToLeft = Direction.RightToLeft;

	BoxLayout.TopToBottom = Direction.TopToBottom;

	BoxLayout.BottomToTop = Direction.BottomToTop;

	function getStretch(widget) {
		return BoxLayoutPrivate.stretchProperty.get(widget);
	}
	BoxLayout.getStretch = getStretch;

	function setStretch(widget, value) {
		BoxLayoutPrivate.stretchProperty.set(widget, value);
	}
	BoxLayout.setStretch = setStretch;

	function getSizeBasis(widget) {
		return BoxLayoutPrivate.sizeBasisProperty.get(widget);
	}
	BoxLayout.getSizeBasis = getSizeBasis;

	function setSizeBasis(widget, value) {
		BoxLayoutPrivate.sizeBasisProperty.set(widget, value);
	}
	BoxLayout.setSizeBasis = setSizeBasis;
})(BoxLayout = exports.BoxLayout || (exports.BoxLayout = {}));

var BoxLayoutPrivate;
(function (BoxLayoutPrivate) {

	BoxLayoutPrivate.IsIE = /Trident/.test(navigator.userAgent);

	BoxLayoutPrivate.stretchProperty = new phosphor_properties_1.Property({
		name: 'stretch',
		value: 0,
		coerce: function (owner, value) { return Math.max(0, value | 0); },
		changed: onChildPropertyChanged,
	});

	BoxLayoutPrivate.sizeBasisProperty = new phosphor_properties_1.Property({
		name: 'sizeBasis',
		value: 0,
		coerce: function (owner, value) { return Math.max(0, value | 0); },
		changed: onChildPropertyChanged,
	});

	function isHorizontal(dir) {
		return dir === Direction.LeftToRight || dir === Direction.RightToLeft;
	}
	BoxLayoutPrivate.isHorizontal = isHorizontal;

	function toggleDirection(widget, dir) {
		widget.toggleClass(LEFT_TO_RIGHT_CLASS, dir === Direction.LeftToRight);
		widget.toggleClass(RIGHT_TO_LEFT_CLASS, dir === Direction.RightToLeft);
		widget.toggleClass(TOP_TO_BOTTOM_CLASS, dir === Direction.TopToBottom);
		widget.toggleClass(BOTTOM_TO_TOP_CLASS, dir === Direction.BottomToTop);
	}
	BoxLayoutPrivate.toggleDirection = toggleDirection;

	function prepareGeometry(widget) {
		widget.node.style.position = 'absolute';
	}
	BoxLayoutPrivate.prepareGeometry = prepareGeometry;

	function resetGeometry(widget) {
		var rect = rectProperty.get(widget);
		var style = widget.node.style;
		rect.top = NaN;
		rect.left = NaN;
		rect.width = NaN;
		rect.height = NaN;
		style.position = '';
		style.top = '';
		style.left = '';
		style.width = '';
		style.height = '';
	}
	BoxLayoutPrivate.resetGeometry = resetGeometry;

	function setGeometry(widget, left, top, width, height) {
		var resized = false;
		var style = widget.node.style;
		var rect = rectProperty.get(widget);
		if (rect.top !== top) {
			rect.top = top;
			style.top = top + "px";
		}
		if (rect.left !== left) {
			rect.left = left;
			style.left = left + "px";
		}
		if (rect.width !== width) {
			resized = true;
			rect.width = width;
			style.width = width + "px";
		}
		if (rect.height !== height) {
			resized = true;
			rect.height = height;
			style.height = height + "px";
		}
		if (resized) {
			phosphor_messaging_1.sendMessage(widget, new phosphor_widget_1.ResizeMessage(width, height));
		}
	}
	BoxLayoutPrivate.setGeometry = setGeometry;

	var rectProperty = new phosphor_properties_1.Property({
		name: 'rect',
		create: function () { return ({ top: NaN, left: NaN, width: NaN, height: NaN }); },
	});

	function onChildPropertyChanged(child) {
		var parent = child.parent;
		var layout = parent && parent.layout;
		if (layout instanceof BoxLayout)
			parent.fit();
	}
})(BoxLayoutPrivate || (BoxLayoutPrivate = {}));

},{"phosphor-arrays":7,"phosphor-boxengine":3,"phosphor-domutil":17,"phosphor-messaging":25,"phosphor-panel":8,"phosphor-properties":32,"phosphor-widget":48}],6:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_panel_1 = require('phosphor-panel');
var layout_1 = require('./layout');

var BOX_PANEL_CLASS = 'p-BoxPanel';

var CHILD_CLASS = 'p-BoxPanel-child';

var BoxPanel = (function (_super) {
	__extends(BoxPanel, _super);

	function BoxPanel() {
		_super.call(this);
		this.addClass(BOX_PANEL_CLASS);
	}

	BoxPanel.createLayout = function () {
		return new layout_1.BoxLayout();
	};
	Object.defineProperty(BoxPanel.prototype, "direction", {

		get: function () {
			return this.layout.direction;
		},

		set: function (value) {
			this.layout.direction = value;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(BoxPanel.prototype, "spacing", {

		get: function () {
			return this.layout.spacing;
		},

		set: function (value) {
			this.layout.spacing = value;
		},
		enumerable: true,
		configurable: true
	});

	BoxPanel.prototype.onChildAdded = function (msg) {
		msg.child.addClass(CHILD_CLASS);
	};

	BoxPanel.prototype.onChildRemoved = function (msg) {
		msg.child.removeClass(CHILD_CLASS);
	};
	return BoxPanel;
})(phosphor_panel_1.Panel);
exports.BoxPanel = BoxPanel;

var BoxPanel;
(function (BoxPanel) {

	BoxPanel.LeftToRight = layout_1.Direction.LeftToRight;

	BoxPanel.RightToLeft = layout_1.Direction.RightToLeft;

	BoxPanel.TopToBottom = layout_1.Direction.TopToBottom;

	BoxPanel.BottomToTop = layout_1.Direction.BottomToTop;

	function getStretch(widget) {
		return layout_1.BoxLayout.getStretch(widget);
	}
	BoxPanel.getStretch = getStretch;

	function setStretch(widget, value) {
		layout_1.BoxLayout.setStretch(widget, value);
	}
	BoxPanel.setStretch = setStretch;

	function getSizeBasis(widget) {
		return layout_1.BoxLayout.getSizeBasis(widget);
	}
	BoxPanel.getSizeBasis = getSizeBasis;

	function setSizeBasis(widget, value) {
		layout_1.BoxLayout.setSizeBasis(widget, value);
	}
	BoxPanel.setSizeBasis = setSizeBasis;
})(BoxPanel = exports.BoxPanel || (exports.BoxPanel = {}));

},{"./layout":5,"phosphor-panel":8}],7:[function(require,module,exports){

'use strict';

function forEach(array, callback, fromIndex, wrap) {
	if (fromIndex === void 0) { fromIndex = 0; }
	if (wrap === void 0) { wrap = false; }
	var start = fromIndex | 0;
	if (start < 0 || start >= array.length) {
		return void 0;
	}
	if (wrap) {
		for (var i = 0, n = array.length; i < n; ++i) {
			var j = (start + i) % n;
			var result = callback(array[j], j);
			if (result !== void 0)
				return result;
		}
	}
	else {
		for (var i = start, n = array.length; i < n; ++i) {
			var result = callback(array[i], i);
			if (result !== void 0)
				return result;
		}
	}
	return void 0;
}
exports.forEach = forEach;

function rforEach(array, callback, fromIndex, wrap) {
	if (fromIndex === void 0) { fromIndex = array.length - 1; }
	if (wrap === void 0) { wrap = false; }
	var start = fromIndex | 0;
	if (start < 0 || start >= array.length) {
		return void 0;
	}
	if (wrap) {
		for (var i = 0, n = array.length; i < n; ++i) {
			var j = (start - i + n) % n;
			var result = callback(array[j], j);
			if (result !== void 0)
				return result;
		}
	}
	else {
		for (var i = start; i >= 0; --i) {
			var result = callback(array[i], i);
			if (result !== void 0)
				return result;
		}
	}
	return void 0;
}
exports.rforEach = rforEach;

function findIndex(array, pred, fromIndex, wrap) {
	if (fromIndex === void 0) { fromIndex = 0; }
	if (wrap === void 0) { wrap = false; }
	var start = fromIndex | 0;
	if (start < 0 || start >= array.length) {
		return -1;
	}
	if (wrap) {
		for (var i = 0, n = array.length; i < n; ++i) {
			var j = (start + i) % n;
			if (pred(array[j], j))
				return j;
		}
	}
	else {
		for (var i = start, n = array.length; i < n; ++i) {
			if (pred(array[i], i))
				return i;
		}
	}
	return -1;
}
exports.findIndex = findIndex;

function rfindIndex(array, pred, fromIndex, wrap) {
	if (fromIndex === void 0) { fromIndex = array.length - 1; }
	if (wrap === void 0) { wrap = false; }
	var start = fromIndex | 0;
	if (start < 0 || start >= array.length) {
		return -1;
	}
	if (wrap) {
		for (var i = 0, n = array.length; i < n; ++i) {
			var j = (start - i + n) % n;
			if (pred(array[j], j))
				return j;
		}
	}
	else {
		for (var i = start; i >= 0; --i) {
			if (pred(array[i], i))
				return i;
		}
	}
	return -1;
}
exports.rfindIndex = rfindIndex;

function find(array, pred, fromIndex, wrap) {
	var i = findIndex(array, pred, fromIndex, wrap);
	return i !== -1 ? array[i] : void 0;
}
exports.find = find;

function rfind(array, pred, fromIndex, wrap) {
	var i = rfindIndex(array, pred, fromIndex, wrap);
	return i !== -1 ? array[i] : void 0;
}
exports.rfind = rfind;

function insert(array, index, value) {
	var j = Math.max(0, Math.min(index | 0, array.length));
	for (var i = array.length; i > j; --i) {
		array[i] = array[i - 1];
	}
	array[j] = value;
	return j;
}
exports.insert = insert;

function move(array, fromIndex, toIndex) {
	var j = fromIndex | 0;
	if (j < 0 || j >= array.length) {
		return false;
	}
	var k = toIndex | 0;
	if (k < 0 || k >= array.length) {
		return false;
	}
	var value = array[j];
	if (j > k) {
		for (var i = j; i > k; --i) {
			array[i] = array[i - 1];
		}
	}
	else if (j < k) {
		for (var i = j; i < k; ++i) {
			array[i] = array[i + 1];
		}
	}
	array[k] = value;
	return true;
}
exports.move = move;

function removeAt(array, index) {
	var j = index | 0;
	if (j < 0 || j >= array.length) {
		return void 0;
	}
	var value = array[j];
	for (var i = j + 1, n = array.length; i < n; ++i) {
		array[i - 1] = array[i];
	}
	array.length -= 1;
	return value;
}
exports.removeAt = removeAt;

function remove(array, value) {
	var j = -1;
	for (var i = 0, n = array.length; i < n; ++i) {
		if (array[i] === value) {
			j = i;
			break;
		}
	}
	if (j === -1) {
		return -1;
	}
	for (var i = j + 1, n = array.length; i < n; ++i) {
		array[i - 1] = array[i];
	}
	array.length -= 1;
	return j;
}
exports.remove = remove;

function reverse(array, fromIndex, toIndex) {
	if (fromIndex === void 0) { fromIndex = 0; }
	if (toIndex === void 0) { toIndex = array.length; }
	var i = Math.max(0, Math.min(fromIndex | 0, array.length - 1));
	var j = Math.max(0, Math.min(toIndex | 0, array.length - 1));
	if (j < i)
		i = j + (j = i, 0);
	while (i < j) {
		var tmpval = array[i];
		array[i++] = array[j];
		array[j--] = tmpval;
	}
	return array;
}
exports.reverse = reverse;

function rotate(array, delta) {
	var n = array.length;
	if (n <= 1) {
		return array;
	}
	var d = delta | 0;
	if (d > 0) {
		d = d % n;
	}
	else if (d < 0) {
		d = ((d % n) + n) % n;
	}
	if (d === 0) {
		return array;
	}
	reverse(array, 0, d - 1);
	reverse(array, d, n - 1);
	reverse(array, 0, n - 1);
	return array;
}
exports.rotate = rotate;

function lowerBound(array, value, cmp) {
	var begin = 0;
	var half;
	var middle;
	var n = array.length;
	while (n > 0) {
		half = n >> 1;
		middle = begin + half;
		if (cmp(array[middle], value)) {
			begin = middle + 1;
			n -= half + 1;
		}
		else {
			n = half;
		}
	}
	return begin;
}
exports.lowerBound = lowerBound;

function upperBound(array, value, cmp) {
	var begin = 0;
	var half;
	var middle;
	var n = array.length;
	while (n > 0) {
		half = n >> 1;
		middle = begin + half;
		if (cmp(value, array[middle])) {
			n = half;
		}
		else {
			begin = middle + 1;
			n -= half + 1;
		}
	}
	return begin;
}
exports.upperBound = upperBound;

},{}],8:[function(require,module,exports){
arguments[4][4][0].apply(exports,arguments)
},{"./layout":9,"./panel":10,"dup":4}],9:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_widget_1 = require('phosphor-widget');

var PanelLayout = (function (_super) {
	__extends(PanelLayout, _super);
	function PanelLayout() {
		_super.apply(this, arguments);
		this._children = [];
	}

	PanelLayout.prototype.dispose = function () {
		while (this._children.length > 0) {
			this._children.pop().dispose();
		}
		_super.prototype.dispose.call(this);
	};

	PanelLayout.prototype.childCount = function () {
		return this._children.length;
	};

	PanelLayout.prototype.childAt = function (index) {
		return this._children[index];
	};

	PanelLayout.prototype.addChild = function (child) {
		this.insertChild(this.childCount(), child);
	};

	PanelLayout.prototype.insertChild = function (index, child) {
		child.parent = this.parent;
		var n = this._children.length;
		var i = this._children.indexOf(child);
		var j = Math.max(0, Math.min(index | 0, n));
		if (i !== -1) {
			if (j === n)
				j--;
			if (i === j)
				return;
			arrays.move(this._children, i, j);
			if (this.parent)
				this.moveChild(i, j, child);
		}
		else {
			arrays.insert(this._children, j, child);
			if (this.parent)
				this.attachChild(j, child);
		}
	};

	PanelLayout.prototype.initialize = function () {
		for (var i = 0; i < this.childCount(); ++i) {
			var child = this.childAt(i);
			child.parent = this.parent;
			this.attachChild(i, child);
		}
	};

	PanelLayout.prototype.attachChild = function (index, child) {
		var ref = this.childAt(index + 1);
		this.parent.node.insertBefore(child.node, ref && ref.node);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
	};

	PanelLayout.prototype.moveChild = function (fromIndex, toIndex, child) {
		var ref = this.childAt(toIndex + 1);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.insertBefore(child.node, ref && ref.node);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
	};

	PanelLayout.prototype.detachChild = function (index, child) {
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
	};

	PanelLayout.prototype.onChildRemoved = function (msg) {
		var i = arrays.remove(this._children, msg.child);
		if (i !== -1)
			this.detachChild(i, msg.child);
	};
	return PanelLayout;
})(phosphor_widget_1.AbstractLayout);
exports.PanelLayout = PanelLayout;

},{"phosphor-arrays":7,"phosphor-messaging":25,"phosphor-widget":48}],10:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_widget_1 = require('phosphor-widget');
var layout_1 = require('./layout');

var PANEL_CLASS = 'p-Panel';

var Panel = (function (_super) {
	__extends(Panel, _super);

	function Panel() {
		_super.call(this);
		this.addClass(PANEL_CLASS);
		this.layout = this.constructor.createLayout();
	}

	Panel.createLayout = function () {
		return new layout_1.PanelLayout();
	};

	Panel.prototype.childCount = function () {
		return this.layout.childCount();
	};

	Panel.prototype.childAt = function (index) {
		return this.layout.childAt(index);
	};

	Panel.prototype.childIndex = function (child) {
		return this.layout.childIndex(child);
	};

	Panel.prototype.addChild = function (child) {
		this.layout.addChild(child);
	};

	Panel.prototype.insertChild = function (index, child) {
		this.layout.insertChild(index, child);
	};
	return Panel;
})(phosphor_widget_1.Widget);
exports.Panel = Panel;

},{"./layout":9,"phosphor-widget":48}],11:[function(require,module,exports){

'use strict';

var DisposableDelegate = (function () {

	function DisposableDelegate(callback) {
		this._callback = callback || null;
	}
	Object.defineProperty(DisposableDelegate.prototype, "isDisposed", {

		get: function () {
			return this._callback === null;
		},
		enumerable: true,
		configurable: true
	});

	DisposableDelegate.prototype.dispose = function () {
		if (this._callback === null) {
			return;
		}
		var callback = this._callback;
		this._callback = null;
		callback();
	};
	return DisposableDelegate;
})();
exports.DisposableDelegate = DisposableDelegate;

var DisposableSet = (function () {

	function DisposableSet(items) {
		var _this = this;
		this._set = new Set();
		if (items)
			items.forEach(function (item) { _this._set.add(item); });
	}
	Object.defineProperty(DisposableSet.prototype, "isDisposed", {

		get: function () {
			return this._set === null;
		},
		enumerable: true,
		configurable: true
	});

	DisposableSet.prototype.dispose = function () {
		if (this._set === null) {
			return;
		}
		var set = this._set;
		this._set = null;
		set.forEach(function (item) { item.dispose(); });
	};

	DisposableSet.prototype.add = function (item) {
		if (this._set === null) {
			throw new Error('object is disposed');
		}
		this._set.add(item);
	};

	DisposableSet.prototype.remove = function (item) {
		if (this._set === null) {
			throw new Error('object is disposed');
		}
		this._set.delete(item);
	};

	DisposableSet.prototype.clear = function () {
		if (this._set === null) {
			throw new Error('object is disposed');
		}
		this._set.clear();
	};
	return DisposableSet;
})();
exports.DisposableSet = DisposableSet;

},{}],12:[function(require,module,exports){
var css = ".p-DockPanel{position:relative;z-index:0}.p-DockPanel>.p-Widget{position:absolute;z-index:0}.p-DockPanel-overlay{box-sizing:border-box;position:absolute;top:0;left:0;width:0;height:0;z-index:1;pointer-events:none}.p-DockPanel-overlay.p-mod-hidden,.p-TabBar-tab.p-mod-hidden{display:none}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-dockpanel\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],13:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_dragdrop_1 = require('phosphor-dragdrop');
var phosphor_nodewrapper_1 = require('phosphor-nodewrapper');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_splitpanel_1 = require('phosphor-splitpanel');
var phosphor_stackedpanel_1 = require('phosphor-stackedpanel');
var phosphor_tabs_1 = require('phosphor-tabs');
var phosphor_widget_1 = require('phosphor-widget');
require('./index.css');


var DOCK_PANEL_CLASS = 'p-DockPanel';

var TAB_PANEL_CLASS = 'p-DockTabPanel';

var SPLIT_PANEL_CLASS = 'p-DockSplitPanel';

var OVERLAY_CLASS = 'p-DockPanel-overlay';

var HIDDEN_CLASS = 'p-mod-hidden';

var ROOT_TOP_CLASS = 'p-mod-root-top';

var ROOT_LEFT_CLASS = 'p-mod-root-left';

var ROOT_RIGHT_CLASS = 'p-mod-root-right';

var ROOT_BOTTOM_CLASS = 'p-mod-root-bottom';

var ROOT_CENTER_CLASS = 'p-mod-root-center';

var PANEL_TOP_CLASS = 'p-mod-panel-top';

var PANEL_LEFT_CLASS = 'p-mod-panel-left';

var PANEL_RIGHT_CLASS = 'p-mod-panel-right';

var PANEL_BOTTOM_CLASS = 'p-mod-panel-bottom';

var PANEL_CENTER_CLASS = 'p-mod-panel-center';

var FACTORY_MIME = 'application/x-phosphor-widget-factory';

var EDGE_SIZE = 30;

var DockPanel = (function (_super) {
	__extends(DockPanel, _super);

	function DockPanel() {
		_super.call(this);
		this.addClass(DOCK_PANEL_CLASS);
		this.layout = new phosphor_stackedpanel_1.StackedLayout();
	}
	Object.defineProperty(DockPanel.prototype, "spacing", {

		get: function () {
			return DockPanelPrivate.spacingProperty.get(this);
		},

		set: function (value) {
			DockPanelPrivate.spacingProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});

	DockPanel.prototype.insertTop = function (widget, ref) {
		DockPanelPrivate.insertSplit(this, widget, ref, phosphor_splitpanel_1.Orientation.Vertical, false);
	};

	DockPanel.prototype.insertLeft = function (widget, ref) {
		DockPanelPrivate.insertSplit(this, widget, ref, phosphor_splitpanel_1.Orientation.Horizontal, false);
	};

	DockPanel.prototype.insertRight = function (widget, ref) {
		DockPanelPrivate.insertSplit(this, widget, ref, phosphor_splitpanel_1.Orientation.Horizontal, true);
	};

	DockPanel.prototype.insertBottom = function (widget, ref) {
		DockPanelPrivate.insertSplit(this, widget, ref, phosphor_splitpanel_1.Orientation.Vertical, true);
	};

	DockPanel.prototype.insertTabBefore = function (widget, ref) {
		DockPanelPrivate.insertTab(this, widget, ref, false);
	};

	DockPanel.prototype.insertTabAfter = function (widget, ref) {
		DockPanelPrivate.insertTab(this, widget, ref, true);
	};

	DockPanel.prototype.selectWidget = function (widget) {
		DockPanelPrivate.selectWidget(this, widget);
	};

	DockPanel.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'p-dragenter':
				this._evtDragEnter(event);
				break;
			case 'p-dragleave':
				this._evtDragLeave(event);
				break;
			case 'p-dragover':
				this._evtDragOver(event);
				break;
			case 'p-drop':
				this._evtDrop(event);
				break;
		}
	};

	DockPanel.prototype.onAfterAttach = function (msg) {
		var node = this.node;
		node.addEventListener('p-dragenter', this);
		node.addEventListener('p-dragleave', this);
		node.addEventListener('p-dragover', this);
		node.addEventListener('p-drop', this);
	};

	DockPanel.prototype.onBeforeDetach = function (msg) {
		var node = this.node;
		node.removeEventListener('p-dragenter', this);
		node.removeEventListener('p-dragleave', this);
		node.removeEventListener('p-dragover', this);
		node.removeEventListener('p-drop', this);
	};

	DockPanel.prototype._evtDragEnter = function (event) {
		if (event.mimeData.hasData(FACTORY_MIME)) {
			event.preventDefault();
			event.stopPropagation();
		}
	};

	DockPanel.prototype._evtDragLeave = function (event) {
		event.preventDefault();
		event.stopPropagation();
		var related = event.relatedTarget;
		if (!related || !this.node.contains(related)) {
			DockPanelPrivate.hideOverlay(this);
		}
	};

	DockPanel.prototype._evtDragOver = function (event) {
		event.preventDefault();
		event.stopPropagation();
		var x = event.clientX;
		var y = event.clientY;
		var zone = DockPanelPrivate.showOverlay(this, x, y);
		if (zone === 10 ) {
			event.dropAction = phosphor_dragdrop_1.DropAction.None;
		}
		else {
			event.dropAction = event.proposedAction;
		}
	};

	DockPanel.prototype._evtDrop = function (event) {
		event.preventDefault();
		event.stopPropagation();
		DockPanelPrivate.hideOverlay(this);
		if (event.proposedAction === phosphor_dragdrop_1.DropAction.None) {
			event.dropAction = phosphor_dragdrop_1.DropAction.None;
			return;
		}
		var x = event.clientX;
		var y = event.clientY;
		var target = DockPanelPrivate.findDockTarget(this, x, y);
		if (target.zone === 10 ) {
			event.dropAction = phosphor_dragdrop_1.DropAction.None;
			return;
		}
		var factory = event.mimeData.getData(FACTORY_MIME);
		if (typeof factory !== 'function') {
			event.dropAction = phosphor_dragdrop_1.DropAction.None;
			return;
		}
		var widget = factory();
		if (!(widget instanceof phosphor_widget_1.Widget)) {
			event.dropAction = phosphor_dragdrop_1.DropAction.None;
			return;
		}
		DockPanelPrivate.handleDrop(this, widget, target);
		event.dropAction = event.proposedAction;
	};
	return DockPanel;
})(phosphor_widget_1.Widget);
exports.DockPanel = DockPanel;

var DockTabPanel = (function (_super) {
	__extends(DockTabPanel, _super);

	function DockTabPanel() {
		_super.call(this);
		this.addClass(TAB_PANEL_CLASS);
		this.tabBar.tabsMovable = true;
	}
	return DockTabPanel;
})(phosphor_tabs_1.TabPanel);

var DockSplitPanel = (function (_super) {
	__extends(DockSplitPanel, _super);

	function DockSplitPanel(orientation, spacing) {
		_super.call(this);
		this.addClass(SPLIT_PANEL_CLASS);
		this.orientation = orientation;
		this.spacing = spacing;
	}
	return DockSplitPanel;
})(phosphor_splitpanel_1.SplitPanel);

var DockPanelOverlay = (function (_super) {
	__extends(DockPanelOverlay, _super);

	function DockPanelOverlay() {
		_super.call(this);
		this._zone = 10 ;
		this.addClass(OVERLAY_CLASS);
		this.addClass(HIDDEN_CLASS);
	}

	DockPanelOverlay.prototype.show = function (zone, left, top, width, height) {
		var style = this.node.style;
		style.top = top + 'px';
		style.left = left + 'px';
		style.width = width + 'px';
		style.height = height + 'px';
		this.removeClass(HIDDEN_CLASS);
		this._setZone(zone);
	};

	DockPanelOverlay.prototype.hide = function () {
		this.addClass(HIDDEN_CLASS);
		this._setZone(10 );
	};

	DockPanelOverlay.prototype._setZone = function (zone) {
		if (zone === this._zone) {
			return;
		}
		var oldClass = DockPanelOverlay.zoneMap[this._zone];
		var newClass = DockPanelOverlay.zoneMap[zone];
		if (oldClass)
			this.removeClass(oldClass);
		if (newClass)
			this.addClass(newClass);
		this._zone = zone;
	};

	DockPanelOverlay.zoneMap = [
		ROOT_TOP_CLASS,
		ROOT_LEFT_CLASS,
		ROOT_RIGHT_CLASS,
		ROOT_BOTTOM_CLASS,
		ROOT_CENTER_CLASS,
		PANEL_TOP_CLASS,
		PANEL_LEFT_CLASS,
		PANEL_RIGHT_CLASS,
		PANEL_BOTTOM_CLASS,
		PANEL_CENTER_CLASS
	];
	return DockPanelOverlay;
})(phosphor_nodewrapper_1.NodeWrapper);

var DockPanelPrivate;
(function (DockPanelPrivate) {

	DockPanelPrivate.spacingProperty = new phosphor_properties_1.Property({
		name: 'spacing',
		value: 3,
		coerce: function (owner, value) { return Math.max(0, value | 0); },
		changed: onSpacingChanged,
	});

	function insertSplit(owner, widget, ref, orientation, after) {

		validateInsertArgs(owner, widget, ref);

		if (widget === ref) {
			return;
		}



		widget.parent = null;

		var tabPanel = createTabPanel();
		tabPanel.addChild(widget);

		if (!getRoot(owner)) {
			setRoot(owner, tabPanel);
			return;
		}

		if (!ref) {
			var root = ensureSplitRoot(owner, orientation);
			var sizes_1 = root.sizes();
			var count = sizes_1.length;
			arrays.insert(sizes_1, after ? count : 0, 0.5);
			root.insertChild(after ? count : 0, tabPanel);
			root.setSizes(sizes_1);
			return;
		}

		var refTabPanel = findTabPanel(ref);

		if (refTabPanel.parent === owner) {
			var root = ensureSplitRoot(owner, orientation);
			root.insertChild(after ? 1 : 0, tabPanel);
			root.setSizes([1, 1]);
			return;
		}

		if (!(refTabPanel.parent instanceof DockSplitPanel)) {
			internalError();
		}

		var splitPanel = refTabPanel.parent;


		if (splitPanel.orientation === orientation) {
			var i_1 = splitPanel.childIndex(refTabPanel);
			var sizes_2 = splitPanel.sizes();
			var size = sizes_2[i_1] = sizes_2[i_1] / 2;
			arrays.insert(sizes_2, after ? i_1 + 1 : i_1, size);
			splitPanel.insertChild(after ? i_1 + 1 : i_1, tabPanel);
			splitPanel.setSizes(sizes_2);
			return;
		}


		if (splitPanel.childCount() === 1) {
			splitPanel.orientation = orientation;
			splitPanel.insertChild(after ? 1 : 0, tabPanel);
			splitPanel.setSizes([1, 1]);
			return;
		}

		if (splitPanel.childCount() === 0) {
			internalError();
		}



		var sizes = splitPanel.sizes();
		var i = splitPanel.childIndex(refTabPanel);
		var childSplit = new DockSplitPanel(orientation, owner.spacing);
		childSplit.addChild(refTabPanel);
		childSplit.insertChild(after ? 1 : 0, tabPanel);
		splitPanel.insertChild(i, childSplit);
		splitPanel.setSizes(sizes);
		childSplit.setSizes([1, 1]);
	}
	DockPanelPrivate.insertSplit = insertSplit;

	function insertTab(owner, widget, ref, after) {

		validateInsertArgs(owner, widget, ref);

		if (widget === ref) {
			return;
		}



		widget.parent = null;

		var index;
		var tabPanel;
		if (ref) {
			tabPanel = findTabPanel(ref);
			index = tabPanel.childIndex(ref) + (after ? 1 : 0);
		}
		else {
			tabPanel = ensureFirstTabPanel(owner);
			index = after ? tabPanel.childCount() : 0;
		}

		tabPanel.insertChild(index, widget);
	}
	DockPanelPrivate.insertTab = insertTab;

	function selectWidget(owner, widget) {
		if (!dockPanelContains(owner, widget))
			return;
		widget.parent.parent.currentWidget = widget;
	}
	DockPanelPrivate.selectWidget = selectWidget;

	function hideOverlay(owner) {
		getOverlay(owner).hide();
	}
	DockPanelPrivate.hideOverlay = hideOverlay;

	function showOverlay(owner, clientX, clientY) {

		var target = findDockTarget(owner, clientX, clientY);

		if (target.zone === 10 ) {
			hideOverlay(owner);
			return target.zone;
		}

		var top;
		var left;
		var width;
		var height;
		var pcr;
		var box = phosphor_domutil_1.boxSizing(owner.node);
		var rect = owner.node.getBoundingClientRect();

		switch (target.zone) {
			case 0 :
				top = box.paddingTop;
				left = box.paddingLeft;
				width = rect.width - box.horizontalSum;
				height = (rect.height - box.verticalSum) / 3;
				break;
			case 1 :
				top = box.paddingTop;
				left = box.paddingLeft;
				width = (rect.width - box.horizontalSum) / 3;
				height = rect.height - box.verticalSum;
				break;
			case 2 :
				top = box.paddingTop;
				width = (rect.width - box.horizontalSum) / 3;
				left = box.paddingLeft + 2 * width;
				height = rect.height - box.verticalSum;
				break;
			case 3 :
				height = (rect.height - box.verticalSum) / 3;
				top = box.paddingTop + 2 * height;
				left = box.paddingLeft;
				width = rect.width - box.horizontalSum;
				break;
			case 4 :
				top = box.paddingTop;
				left = box.paddingLeft;
				width = rect.width - box.horizontalSum;
				height = rect.height - box.verticalSum;
				break;
			case 5 :
				pcr = target.panel.node.getBoundingClientRect();
				top = pcr.top - rect.top - box.borderTop;
				left = pcr.left - rect.left - box.borderLeft;
				width = pcr.width;
				height = pcr.height / 2;
				break;
			case 6 :
				pcr = target.panel.node.getBoundingClientRect();
				top = pcr.top - rect.top - box.borderTop;
				left = pcr.left - rect.left - box.borderLeft;
				width = pcr.width / 2;
				height = pcr.height;
				break;
			case 7 :
				pcr = target.panel.node.getBoundingClientRect();
				top = pcr.top - rect.top - box.borderTop;
				left = pcr.left - rect.left - box.borderLeft + pcr.width / 2;
				width = pcr.width / 2;
				height = pcr.height;
				break;
			case 8 :
				pcr = target.panel.node.getBoundingClientRect();
				top = pcr.top - rect.top - box.borderTop + pcr.height / 2;
				left = pcr.left - rect.left - box.borderLeft;
				width = pcr.width;
				height = pcr.height / 2;
				break;
			case 9 :
				pcr = target.panel.node.getBoundingClientRect();
				top = pcr.top - rect.top - box.borderTop;
				left = pcr.left - rect.left - box.borderLeft;
				width = pcr.width;
				height = pcr.height;
				break;
		}

		getOverlay(owner).show(target.zone, left, top, width, height);
		return target.zone;
	}
	DockPanelPrivate.showOverlay = showOverlay;

	function findDockTarget(owner, clientX, clientY) {
		var root = getRoot(owner);
		if (!root) {
			return { zone: 4 , panel: null };
		}
		if (!phosphor_domutil_1.hitTest(root.node, clientX, clientY)) {
			return { zone: 10 , panel: null };
		}
		var edgeZone = getEdgeZone(root.node, clientX, clientY);
		if (edgeZone !== 10 ) {
			return { zone: edgeZone, panel: null };
		}
		var hitPanel = iterTabPanels(root, function (tabs) {
			return phosphor_domutil_1.hitTest(tabs.node, clientX, clientY) ? tabs : void 0;
		});
		if (!hitPanel) {
			return { zone: 10 , panel: null };
		}
		var panelZone = getPanelZone(hitPanel.node, clientX, clientY);
		return { zone: panelZone, panel: hitPanel };
	}
	DockPanelPrivate.findDockTarget = findDockTarget;

	function handleDrop(owner, widget, target) {

		if (target.zone === 10 ) {
			return;
		}

		switch (target.zone) {
			case 0 :
				owner.insertTop(widget);
				return;
			case 1 :
				owner.insertLeft(widget);
				return;
			case 2 :
				owner.insertRight(widget);
				return;
			case 3 :
				owner.insertBottom(widget);
				return;
			case 4 :
				owner.insertLeft(widget);
				return;
		}


		if (target.zone === 9 ) {
			if (target.panel.childIndex(widget) !== -1) {
				return;
			}
		}

		if (target.panel.childCount() === 1) {
			if (target.panel.childAt(0) === widget) {
				return;
			}
		}

		var n = target.panel.childCount();
		var ref = target.panel.childAt(n - 1);
		if (ref === widget) {
			ref = target.panel.childAt(n - 2);
		}

		switch (target.zone) {
			case 5 :
				owner.insertTop(widget, ref);
				return;
			case 6 :
				owner.insertLeft(widget, ref);
				return;
			case 7 :
				owner.insertRight(widget, ref);
				return;
			case 8 :
				owner.insertBottom(widget, ref);
				return;
			case 9 :
				owner.insertTabAfter(widget, ref);
				selectWidget(owner, widget);
				return;
		}
	}
	DockPanelPrivate.handleDrop = handleDrop;

	var rootProperty = new phosphor_properties_1.Property({
		name: 'root',
		value: null,
		changed: onRootChanged,
	});

	var overlayProperty = new phosphor_properties_1.Property({
		name: 'overlay',
		create: createOverlay,
	});

	function getRoot(owner) {
		return rootProperty.get(owner);
	}

	function setRoot(owner, root) {
		rootProperty.set(owner, root);
	}

	function getOverlay(owner) {
		return overlayProperty.get(owner);
	}

	function onRootChanged(owner, old, root) {
		if (!root)
			return;
		var layout = owner.layout;
		layout.addChild(root);
		root.show();
	}

	function createOverlay(owner) {
		var overlay = new DockPanelOverlay();
		owner.node.appendChild(overlay.node);
		return overlay;
	}

	function onSpacingChanged(owner, old, spacing) {
		var root = getRoot(owner);
		if (root instanceof DockSplitPanel) {
			updateSpacing(root, spacing);
		}
	}

	function updateSpacing(panel, spacing) {
		for (var i = 0, n = panel.childCount(); i < n; ++i) {
			var child = panel.childAt(i);
			if (child instanceof DockSplitPanel) {
				updateSpacing(child, spacing);
			}
		}
		panel.spacing = spacing;
	}

	function internalError() {
		throw new Error('Internal DockPanel Error.');
	}

	function dockPanelContains(owner, widget) {
		var stack = widget.parent;
		if (!stack) {
			return false;
		}
		var tabs = stack.parent;
		if (!(tabs instanceof DockTabPanel)) {
			return false;
		}
		var parent = tabs.parent;
		while (parent) {
			if (parent === owner) {
				return true;
			}
			if (!(parent instanceof DockSplitPanel)) {
				return false;
			}
			parent = parent.parent;
		}
		return false;
	}

	function findTabPanel(widget) {
		var stack = widget.parent;
		if (!stack) {
			internalError();
		}
		var tabs = stack.parent;
		if (!(tabs instanceof DockTabPanel)) {
			internalError();
		}
		return tabs;
	}

	function findFirstTabPanel(owner) {
		var root = getRoot(owner);
		while (root) {
			if (root instanceof DockTabPanel) {
				return root;
			}
			if (!(root instanceof DockSplitPanel) || root.childCount() === 0) {
				internalError();
			}
			root = root.childAt(0);
		}
		return null;
	}

	function ensureFirstTabPanel(owner) {
		var tabs = findFirstTabPanel(owner);
		if (!tabs) {
			tabs = createTabPanel();
			setRoot(owner, tabs);
		}
		return tabs;
	}

	function ensureSplitRoot(owner, orientation) {
		var oldRoot = getRoot(owner);
		if (!oldRoot) {
			internalError();
		}
		if (oldRoot instanceof DockSplitPanel) {
			if (oldRoot.orientation === orientation) {
				return oldRoot;
			}
			if (oldRoot.childCount() <= 1) {
				oldRoot.orientation = orientation;
				return oldRoot;
			}
		}
		var newRoot = new DockSplitPanel(orientation, owner.spacing);
		newRoot.addChild(oldRoot);
		setRoot(owner, newRoot);
		return newRoot;
	}

	function validateInsertArgs(owner, widget, ref) {
		if (!widget) {
			throw new Error('Target widget is null.');
		}
		if (ref && !dockPanelContains(owner, ref)) {
			throw new Error('Reference widget not contained by the dock panel.');
		}
	}

	function iterTabPanels(root, callback) {
		if (root instanceof DockTabPanel) {
			return callback(root);
		}
		if (!(root instanceof DockSplitPanel)) {
			internalError();
		}
		for (var i = 0; i < root.childCount(); ++i) {
			var child = root.childAt(i);
			var result = iterTabPanels(child, callback);
			if (result !== void 0)
				return result;
		}
		return void 0;
	}

	function getEdgeZone(node, x, y) {
		var zone;
		var rect = node.getBoundingClientRect();
		if (x < rect.left + EDGE_SIZE) {
			if (y - rect.top < x - rect.left) {
				zone = 0 ;
			}
			else if (rect.bottom - y < x - rect.left) {
				zone = 3 ;
			}
			else {
				zone = 1 ;
			}
		}
		else if (x >= rect.right - EDGE_SIZE) {
			if (y - rect.top < rect.right - x) {
				zone = 0 ;
			}
			else if (rect.bottom - y < rect.right - x) {
				zone = 3 ;
			}
			else {
				zone = 2 ;
			}
		}
		else if (y < rect.top + EDGE_SIZE) {
			zone = 0 ;
		}
		else if (y >= rect.bottom - EDGE_SIZE) {
			zone = 3 ;
		}
		else {
			zone = 10 ;
		}
		return zone;
	}

	function getPanelZone(node, x, y) {
		var zone;
		var rect = node.getBoundingClientRect();
		var fracX = (x - rect.left) / rect.width;
		var fracY = (y - rect.top) / rect.height;
		if (fracX < 1 / 3) {
			if (fracY < fracX) {
				zone = 5 ;
			}
			else if (1 - fracY < fracX) {
				zone = 8 ;
			}
			else {
				zone = 6 ;
			}
		}
		else if (fracX < 2 / 3) {
			if (fracY < 1 / 3) {
				zone = 5 ;
			}
			else if (fracY < 2 / 3) {
				zone = 9 ;
			}
			else {
				zone = 8 ;
			}
		}
		else {
			if (fracY < 1 - fracX) {
				zone = 5 ;
			}
			else if (fracY > fracX) {
				zone = 8 ;
			}
			else {
				zone = 7 ;
			}
		}
		return zone;
	}

	var currentDrag = null;

	function createTabPanel() {
		var panel = new DockTabPanel();
		panel.tabBar.tabDetachRequested.connect(onTabDetachRequested);
		panel.stackedPanel.widgetRemoved.connect(onWidgetRemoved);
		return panel;
	}

	function removeTabPanel(tabPanel) {

		if (tabPanel.childCount() !== 0) {
			internalError();
		}

		if (tabPanel.parent instanceof DockPanel) {
			setRoot(tabPanel.parent, null);
			tabPanel.dispose();
			return;
		}

		if (!(tabPanel.parent instanceof DockSplitPanel)) {
			internalError();
		}

		var splitPanel = tabPanel.parent;

		if (splitPanel.childCount() < 2) {
			internalError();
		}

		tabPanel.dispose();


		if (splitPanel.childCount() > 1) {
			return;
		}

		var child = splitPanel.childAt(0);

		if (!(child instanceof DockTabPanel) && !(child instanceof DockSplitPanel)) {
			internalError();
		}

		if (splitPanel.parent instanceof DockPanel) {
			setRoot(splitPanel.parent, child);
			splitPanel.dispose();
			return;
		}

		if (!(splitPanel.parent instanceof DockSplitPanel)) {
			internalError();
		}

		var grandPanel = splitPanel.parent;

		if (child instanceof DockTabPanel) {
			var sizes = grandPanel.sizes();
			var index_1 = grandPanel.childIndex(splitPanel);
			splitPanel.parent = null;
			grandPanel.insertChild(index_1, child);
			grandPanel.setSizes(sizes);
			splitPanel.dispose();
			return;
		}

		var childSplit = child;


		if (childSplit.orientation !== grandPanel.orientation) {
			internalError();
		}


		var index = grandPanel.childIndex(splitPanel);
		var childSizes = childSplit.sizes();
		var grandSizes = grandPanel.sizes();

		splitPanel.parent = null;
		var sizeShare = arrays.removeAt(grandSizes, index);

		for (var i = 0; childSplit.childCount() !== 0; ++i) {
			grandPanel.insertChild(index + i, childSplit.childAt(0));
			arrays.insert(grandSizes, index + i, sizeShare * childSizes[i]);
		}

		grandPanel.setSizes(grandSizes);
		splitPanel.dispose();
	}

	function onTabDetachRequested(sender, args) {

		if (currentDrag) {
			return;
		}

		sender.releaseMouse();

		var mimeData = new phosphor_dragdrop_1.MimeData();
		var widget = args.item;
		mimeData.setData(FACTORY_MIME, function () { return widget; });

		var tab = sender.tabAt(args.index);
		var dragImage = tab.cloneNode(true);

		currentDrag = new phosphor_dragdrop_1.Drag({
			mimeData: mimeData,
			dragImage: dragImage,
			proposedAction: phosphor_dragdrop_1.DropAction.Move,
			supportedActions: phosphor_dragdrop_1.DropActions.Move,
		});

		tab.classList.add(HIDDEN_CLASS);
		currentDrag.start(args.clientX, args.clientY).then(function () {
			currentDrag = null;
			tab.classList.remove(HIDDEN_CLASS);
		});
	}

	function onWidgetRemoved(sender, widget) {
		if (sender.childCount() === 0) {
			removeTabPanel(sender.parent);
		}
	}
})(DockPanelPrivate || (DockPanelPrivate = {}));

},{"./index.css":12,"phosphor-arrays":14,"phosphor-domutil":17,"phosphor-dragdrop":15,"phosphor-nodewrapper":27,"phosphor-properties":32,"phosphor-splitpanel":35,"phosphor-stackedpanel":39,"phosphor-tabs":43,"phosphor-widget":48}],14:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"dup":7}],15:[function(require,module,exports){

'use strict';
var phosphor_domutil_1 = require('phosphor-domutil');

var DRAG_IMAGE_CLASS = 'p-mod-drag-image';

(function (DropAction) {

	DropAction[DropAction["None"] = 0] = "None";

	DropAction[DropAction["Copy"] = 1] = "Copy";

	DropAction[DropAction["Link"] = 2] = "Link";

	DropAction[DropAction["Move"] = 4] = "Move";
})(exports.DropAction || (exports.DropAction = {}));
var DropAction = exports.DropAction;

(function (DropActions) {

	DropActions[DropActions["None"] = 0] = "None";

	DropActions[DropActions["Copy"] = 1] = "Copy";

	DropActions[DropActions["Link"] = 2] = "Link";

	DropActions[DropActions["Move"] = 4] = "Move";

	DropActions[DropActions["CopyLink"] = 3] = "CopyLink";

	DropActions[DropActions["CopyMove"] = 5] = "CopyMove";

	DropActions[DropActions["LinkMove"] = 6] = "LinkMove";

	DropActions[DropActions["All"] = 7] = "All";
})(exports.DropActions || (exports.DropActions = {}));
var DropActions = exports.DropActions;

var MimeData = (function () {
	function MimeData() {
		this._types = [];
		this._values = [];
	}

	MimeData.prototype.types = function () {
		return this._types.slice();
	};

	MimeData.prototype.hasData = function (mime) {
		return this._types.indexOf(mime) !== -1;
	};

	MimeData.prototype.getData = function (mime) {
		var i = this._types.indexOf(mime);
		return i !== -1 ? this._values[i] : void 0;
	};

	MimeData.prototype.setData = function (mime, data) {
		this.clearData(mime);
		this._types.push(mime);
		this._values.push(data);
	};

	MimeData.prototype.clearData = function (mime) {
		var i = this._types.indexOf(mime);
		if (i === -1)
			return;
		this._types.splice(i, 1);
		this._values.splice(i, 1);
	};

	MimeData.prototype.clear = function () {
		this._types.length = 0;
		this._values.length = 0;
	};
	return MimeData;
})();
exports.MimeData = MimeData;

var Drag = (function () {

	function Drag(options) {
		this._disposed = false;
		this._source = null;
		this._mimeData = null;
		this._dragImage = null;
		this._dropAction = DropAction.None;
		this._proposedAction = DropAction.Copy;
		this._supportedActions = DropActions.Copy;
		this._override = null;
		this._currentTarget = null;
		this._currentElement = null;
		this._promise = null;
		this._resolve = null;
		this._mimeData = options.mimeData;
		if (options.dragImage !== void 0) {
			this._dragImage = options.dragImage;
		}
		if (options.proposedAction !== void 0) {
			this._proposedAction = options.proposedAction;
		}
		if (options.supportedActions !== void 0) {
			this._supportedActions = options.supportedActions;
		}
		if (options.source !== void 0) {
			this._source = options.source;
		}
	}

	Drag.prototype.dispose = function () {

		if (this._disposed) {
			return;
		}
		this._disposed = true;

		if (this._currentTarget) {
			var event_1 = createMouseEvent('mouseup', -1, -1);
			dispatchDragLeave(this, this._currentTarget, null, event_1);
		}

		this._finalize(DropAction.None);
	};
	Object.defineProperty(Drag.prototype, "isDisposed", {

		get: function () {
			return this._disposed;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Drag.prototype, "mimeData", {

		get: function () {
			return this._mimeData;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Drag.prototype, "dragImage", {

		get: function () {
			return this._dragImage;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Drag.prototype, "proposedAction", {

		get: function () {
			return this._proposedAction;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Drag.prototype, "supportedActions", {

		get: function () {
			return this._supportedActions;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Drag.prototype, "source", {

		get: function () {
			return this._source;
		},
		enumerable: true,
		configurable: true
	});

	Drag.prototype.start = function (clientX, clientY) {
		var _this = this;

		if (this._disposed) {
			return Promise.resolve(DropAction.None);
		}

		if (this._promise) {
			return this._promise;
		}

		this._addListeners();

		this._attachDragImage(clientX, clientY);

		this._promise = new Promise(function (resolve, reject) {
			_this._resolve = resolve;
		});

		var event = createMouseEvent('mousemove', clientX, clientY);
		document.dispatchEvent(event);

		return this._promise;
	};

	Drag.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'mousemove':
				this._evtMouseMove(event);
				break;
			case 'mouseup':
				this._evtMouseUp(event);
				break;
			case 'keydown':
				this._evtKeyDown(event);
				break;
			case 'keyup':
			case 'keypress':
			case 'mousedown':
			case 'contextmenu':

				event.preventDefault();
				event.stopPropagation();
				break;
		}
	};

	Drag.prototype._evtMouseMove = function (event) {

		event.preventDefault();
		event.stopPropagation();

		var prevTarget = this._currentTarget;

		var currTarget = this._currentTarget;

		var prevElem = this._currentElement;

		var currElem = document.elementFromPoint(event.clientX, event.clientY);

		this._currentElement = currElem;





		if (currElem !== prevElem && currElem !== currTarget) {
			currTarget = dispatchDragEnter(this, currElem, currTarget, event);
		}


		if (currTarget !== prevTarget) {
			this._currentTarget = currTarget;
			dispatchDragLeave(this, prevTarget, currTarget, event);
		}

		var action = dispatchDragOver(this, currTarget, event);
		this._setDropAction(action);


		this._moveDragImage(event.clientX, event.clientY);
	};

	Drag.prototype._evtMouseUp = function (event) {

		event.preventDefault();
		event.stopPropagation();

		if (event.button !== 0) {
			return;
		}

		if (!this._currentTarget) {
			this._finalize(DropAction.None);
			return;
		}


		if (this._dropAction === DropAction.None) {
			dispatchDragLeave(this, this._currentTarget, null, event);
			this._finalize(DropAction.None);
			return;
		}


		var action = dispatchDrop(this, this._currentTarget, event);
		this._finalize(action);
	};

	Drag.prototype._evtKeyDown = function (event) {

		event.preventDefault();
		event.stopPropagation();

		if (event.keyCode === 27)
			this.dispose();
	};

	Drag.prototype._addListeners = function () {
		document.addEventListener('mousedown', this, true);
		document.addEventListener('mousemove', this, true);
		document.addEventListener('mouseup', this, true);
		document.addEventListener('keydown', this, true);
		document.addEventListener('keyup', this, true);
		document.addEventListener('keypress', this, true);
		document.addEventListener('contextmenu', this, true);
	};

	Drag.prototype._removeListeners = function () {
		document.removeEventListener('mousedown', this, true);
		document.removeEventListener('mousemove', this, true);
		document.removeEventListener('mouseup', this, true);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('keyup', this, true);
		document.removeEventListener('keypress', this, true);
		document.removeEventListener('contextmenu', this, true);
	};

	Drag.prototype._attachDragImage = function (clientX, clientY) {
		if (!this._dragImage) {
			return;
		}
		this._dragImage.classList.add(DRAG_IMAGE_CLASS);
		var style = this._dragImage.style;
		style.pointerEvents = 'none';
		style.position = 'absolute';
		style.top = clientY + "px";
		style.left = clientX + "px";
		document.body.appendChild(this._dragImage);
	};

	Drag.prototype._moveDragImage = function (clientX, clientY) {
		if (!this._dragImage) {
			return;
		}
		var style = this._dragImage.style;
		style.top = clientY + "px";
		style.left = clientX + "px";
	};

	Drag.prototype._detachDragImage = function () {
		if (!this._dragImage) {
			return;
		}
		var parent = this._dragImage.parentNode;
		if (!parent) {
			return;
		}
		parent.removeChild(this._dragImage);
	};

	Drag.prototype._setDropAction = function (action) {
		if ((action & this._supportedActions) === 0) {
			action = DropAction.None;
		}
		if (this._override && this._dropAction === action) {
			return;
		}
		switch (action) {
			case DropAction.None:
				this._dropAction = action;
				this._override = phosphor_domutil_1.overrideCursor('no-drop');
				break;
			case DropAction.Copy:
				this._dropAction = action;
				this._override = phosphor_domutil_1.overrideCursor('copy');
				break;
			case DropAction.Link:
				this._dropAction = action;
				this._override = phosphor_domutil_1.overrideCursor('alias');
				break;
			case DropAction.Move:
				this._dropAction = action;
				this._override = phosphor_domutil_1.overrideCursor('move');
				break;
		}
	};

	Drag.prototype._finalize = function (action) {

		var resolve = this._resolve;

		this._removeListeners();

		this._detachDragImage();

		if (this._override)
			this._override.dispose();

		if (this._mimeData)
			this._mimeData.clear();

		this._disposed = true;
		this._source = null;
		this._mimeData = null;
		this._dragImage = null;
		this._dropAction = DropAction.None;
		this._proposedAction = DropAction.None;
		this._supportedActions = DropActions.None;
		this._override = null;
		this._currentTarget = null;
		this._currentElement = null;
		this._promise = null;
		this._resolve = null;

		if (resolve)
			resolve(action);
	};
	return Drag;
})();
exports.Drag = Drag;

function createMouseEvent(type, clientX, clientY) {
	var event = document.createEvent('MouseEvent');
	event.initMouseEvent(type, true, true, window, 0, 0, 0, clientX, clientY, false, false, false, false, 0, null);
	return event;
}

function createDragEvent(type, drag, event, related) {

	var dragEvent = document.createEvent('MouseEvent');

	dragEvent.initMouseEvent(type, true, true, window, 0, event.screenX, event.screenY, event.clientX, event.clientY, event.ctrlKey, event.altKey, event.shiftKey, event.metaKey, event.button, related);

	dragEvent.mimeData = drag.mimeData;
	dragEvent.dropAction = DropAction.None;
	dragEvent.proposedAction = drag.proposedAction;
	dragEvent.supportedActions = drag.supportedActions;
	dragEvent.source = drag.source;

	return dragEvent;
}

function dispatchDragEnter(drag, currElem, currTarget, event) {

	if (!currElem) {
		return null;
	}

	var dragEvent = createDragEvent('p-dragenter', drag, event, currTarget);
	var canceled = !currElem.dispatchEvent(dragEvent);

	if (canceled) {
		return currElem;
	}

	if (currElem === document.body) {
		return currTarget;
	}

	dragEvent = createDragEvent('p-dragenter', drag, event, currTarget);
	document.body.dispatchEvent(dragEvent);

	return document.body;
}

function dispatchDragLeave(drag, prevTarget, currTarget, event) {

	if (!prevTarget) {
		return;
	}

	var dragEvent = createDragEvent('p-dragleave', drag, event, currTarget);
	prevTarget.dispatchEvent(dragEvent);
}

function dispatchDragOver(drag, currTarget, event) {

	if (!currTarget) {
		return DropAction.None;
	}

	var dragEvent = createDragEvent('p-dragover', drag, event, null);
	var canceled = !currTarget.dispatchEvent(dragEvent);

	if (canceled) {
		return dragEvent.dropAction;
	}

	return DropAction.None;
}

function dispatchDrop(drag, currTarget, event) {

	if (!currTarget) {
		return DropAction.None;
	}

	var dragEvent = createDragEvent('p-drop', drag, event, null);
	var canceled = !currTarget.dispatchEvent(dragEvent);

	if (canceled) {
		return dragEvent.dropAction;
	}

	return DropAction.None;
}

},{"phosphor-domutil":17}],16:[function(require,module,exports){
var css = "body.p-mod-override-cursor *{cursor:inherit!important}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-domutil\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],17:[function(require,module,exports){

'use strict';
var phosphor_disposable_1 = require('phosphor-disposable');
require('./index.css');

var OVERRIDE_CURSOR_CLASS = 'p-mod-override-cursor';

var overrideID = 0;

function overrideCursor(cursor) {
	var id = ++overrideID;
	var body = document.body;
	body.style.cursor = cursor;
	body.classList.add(OVERRIDE_CURSOR_CLASS);
	return new phosphor_disposable_1.DisposableDelegate(function () {
		if (id === overrideID) {
			body.style.cursor = '';
			body.classList.remove(OVERRIDE_CURSOR_CLASS);
		}
	});
}
exports.overrideCursor = overrideCursor;

function hitTest(node, clientX, clientY) {
	var rect = node.getBoundingClientRect();
	return (clientX >= rect.left &&
		clientX < rect.right &&
		clientY >= rect.top &&
		clientY < rect.bottom);
}
exports.hitTest = hitTest;

function boxSizing(node) {
	var cstyle = window.getComputedStyle(node);
	var bt = parseInt(cstyle.borderTopWidth, 10) || 0;
	var bl = parseInt(cstyle.borderLeftWidth, 10) || 0;
	var br = parseInt(cstyle.borderRightWidth, 10) || 0;
	var bb = parseInt(cstyle.borderBottomWidth, 10) || 0;
	var pt = parseInt(cstyle.paddingTop, 10) || 0;
	var pl = parseInt(cstyle.paddingLeft, 10) || 0;
	var pr = parseInt(cstyle.paddingRight, 10) || 0;
	var pb = parseInt(cstyle.paddingBottom, 10) || 0;
	var hs = bl + pl + pr + br;
	var vs = bt + pt + pb + bb;
	return {
		borderTop: bt,
		borderLeft: bl,
		borderRight: br,
		borderBottom: bb,
		paddingTop: pt,
		paddingLeft: pl,
		paddingRight: pr,
		paddingBottom: pb,
		horizontalSum: hs,
		verticalSum: vs,
	};
}
exports.boxSizing = boxSizing;

function sizeLimits(node) {
	var cstyle = window.getComputedStyle(node);
	return {
		minWidth: parseInt(cstyle.minWidth, 10) || 0,
		minHeight: parseInt(cstyle.minHeight, 10) || 0,
		maxWidth: parseInt(cstyle.maxWidth, 10) || Infinity,
		maxHeight: parseInt(cstyle.maxHeight, 10) || Infinity,
	};
}
exports.sizeLimits = sizeLimits;

},{"./index.css":16,"phosphor-disposable":11}],18:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_widget_1 = require('phosphor-widget');

var AbstractMenu = (function (_super) {
	__extends(AbstractMenu, _super);
	function AbstractMenu() {
		_super.apply(this, arguments);
		this._activeIndex = -1;
		this._items = Object.freeze([]);
	}
	Object.defineProperty(AbstractMenu.prototype, "items", {

		get: function () {
			return this._items;
		},

		set: function (value) {
			if (this._items === value) {
				return;
			}
			this._activeIndex = -1;
			var oldItems = this._items;
			this._items = Object.freeze(value.slice());
			this.onItemsChanged(oldItems, this._items);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(AbstractMenu.prototype, "activeIndex", {

		get: function () {
			return this._activeIndex;
		},

		set: function (value) {
			var newIndex = value | 0;
			var item = this._items[newIndex];
			if (!item || !this.isSelectable(item)) {
				newIndex = -1;
			}
			var oldIndex = this._activeIndex;
			if (oldIndex === newIndex) {
				return;
			}
			this._activeIndex = newIndex;
			this.onActiveIndexChanged(oldIndex, newIndex);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(AbstractMenu.prototype, "activeItem", {

		get: function () {
			return this._items[this._activeIndex] || null;
		},

		set: function (value) {
			this.activeIndex = this._items.indexOf(value);
		},
		enumerable: true,
		configurable: true
	});

	AbstractMenu.prototype.activateNextItem = function () {
		var _this = this;
		var k = this.activeIndex + 1;
		var i = k >= this.items.length ? 0 : k;
		var pred = function (item) { return _this.isSelectable(item); };
		this.activeIndex = arrays.findIndex(this.items, pred, i, true);
	};

	AbstractMenu.prototype.activatePreviousItem = function () {
		var _this = this;
		var k = this.activeIndex;
		var i = k <= 0 ? this.items.length - 1 : k - 1;
		var pred = function (item) { return _this.isSelectable(item); };
		this.activeIndex = arrays.rfindIndex(this.items, pred, i, true);
	};

	AbstractMenu.prototype.activateMnemonicItem = function (char) {
		var _this = this;
		var c = char.toUpperCase();
		var k = this.activeIndex + 1;
		var i = k >= this.items.length ? 0 : k;
		this.activeIndex = arrays.findIndex(this.items, function (item) {
			if (!_this.isSelectable(item)) {
				return false;
			}
			var match = item.text.match(/&\w/);
			if (!match) {
				return false;
			}
			return match[0][1].toUpperCase() === c;
		}, i, true);
	};
	return AbstractMenu;
})(phosphor_widget_1.Widget);
exports.AbstractMenu = AbstractMenu;

},{"phosphor-arrays":24,"phosphor-widget":48}],19:[function(require,module,exports){
var css = ".p-MenuBar-content{margin:0;padding:0;display:flex;flex-direction:row;list-style-type:none}.p-MenuBar-item{box-sizing:border-box}.p-MenuBar-item.p-mod-hidden{display:none}.p-Menu{position:absolute;white-space:nowrap;overflow-x:hidden;overflow-y:auto}.p-Menu-content{margin:0;padding:0;display:table;list-style-type:none}.p-Menu-item{display:table-row}.p-Menu-item.p-mod-hidden{display:none}.p-Menu-itemIcon,.p-Menu-itemSubmenuIcon{display:table-cell;text-align:center}.p-Menu-itemText{display:table-cell;text-align:left}.p-Menu-itemShortcut{display:table-cell;text-align:right}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-menus\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],20:[function(require,module,exports){

'use strict';
function __export(m) {
	for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(require('./base'));
__export(require('./menu'));
__export(require('./menubar'));
__export(require('./menuitem'));
require('./index.css');

},{"./base":18,"./index.css":19,"./menu":21,"./menubar":22,"./menuitem":23}],21:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_signaling_1 = require('phosphor-signaling');
var phosphor_widget_1 = require('phosphor-widget');
var base_1 = require('./base');
var menuitem_1 = require('./menuitem');

var MENU_CLASS = 'p-Menu';

var CONTENT_CLASS = 'p-Menu-content';

var ITEM_CLASS = 'p-Menu-item';

var ICON_CLASS = 'p-Menu-itemIcon';

var TEXT_CLASS = 'p-Menu-itemText';

var SHORTCUT_CLASS = 'p-Menu-itemShortcut';

var SUBMENU_CLASS = 'p-Menu-itemSubmenuIcon';

var CHECK_TYPE_CLASS = 'p-type-check';

var SEPARATOR_TYPE_CLASS = 'p-type-separator';

var SUBMENU_TYPE_CLASS = 'p-type-submenu';

var ACTIVE_CLASS = 'p-mod-active';

var DISABLED_CLASS = 'p-mod-disabled';

var CHECKED_CLASS = 'p-mod-checked';

var HIDDEN_CLASS = 'p-mod-hidden';

var OPEN_DELAY = 300;

var CLOSE_DELAY = 300;

var SUBMENU_OVERLAP = 3;

var Menu = (function (_super) {
	__extends(Menu, _super);

	function Menu(items) {
		_super.call(this);
		this._openTimerId = 0;
		this._closeTimerId = 0;
		this._parentMenu = null;
		this._childMenu = null;
		this._childItem = null;
		this._nodes = [];
		this.addClass(MENU_CLASS);
		if (items)
			this.items = items;
	}

	Menu.createNode = function () {
		var node = document.createElement('div');
		var content = document.createElement('ul');
		content.className = CONTENT_CLASS;
		node.appendChild(content);
		return node;
	};

	Menu.createItemNode = function () {
		var node = document.createElement('li');
		var icon = document.createElement('span');
		var text = document.createElement('span');
		var shortcut = document.createElement('span');
		var submenu = document.createElement('span');
		node.className = ITEM_CLASS;
		text.className = TEXT_CLASS;
		shortcut.className = SHORTCUT_CLASS;
		submenu.className = SUBMENU_CLASS;
		node.appendChild(icon);
		node.appendChild(text);
		node.appendChild(shortcut);
		node.appendChild(submenu);
		return node;
	};

	Menu.updateItemNode = function (node, item) {
		var sep = item.type === menuitem_1.MenuItem.Separator;
		var sub = item.type === menuitem_1.MenuItem.Submenu;
		var icon = node.firstChild;
		var text = icon.nextSibling;
		var shortcut = text.nextSibling;
		node.className = MenuPrivate.createItemClass(item);
		icon.className = ICON_CLASS + (item.icon ? ' ' + item.icon : '');
		text.textContent = sep ? '' : item.text.replace(/&/g, '');
		shortcut.textContent = (sep || sub) ? '' : item.shortcut;
	};

	Menu.prototype.dispose = function () {
		this.close();
		_super.prototype.dispose.call(this);
	};
	Object.defineProperty(Menu.prototype, "closed", {

		get: function () {
			return MenuPrivate.closedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Menu.prototype, "parentMenu", {

		get: function () {
			return this._parentMenu;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Menu.prototype, "childMenu", {

		get: function () {
			return this._childMenu;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Menu.prototype, "rootMenu", {

		get: function () {
			var menu = this;
			while (menu._parentMenu) {
				menu = menu._parentMenu;
			}
			return menu;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Menu.prototype, "leafMenu", {

		get: function () {
			var menu = this;
			while (menu._childMenu) {
				menu = menu._childMenu;
			}
			return menu;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Menu.prototype, "contentNode", {

		get: function () {
			return this.node.getElementsByClassName(CONTENT_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});

	Menu.prototype.openActiveItem = function () {
		if (!this.isVisible) {
			return;
		}
		var index = this.activeIndex;
		if (index === -1) {
			return;
		}
		var item = this.items[index];
		if (item.disabled || !item.submenu) {
			return;
		}
		this._openChildMenu(item, this._nodes[index], false);
		this._childMenu.activateNextItem();
	};

	Menu.prototype.triggerActiveItem = function () {
		if (!this.isVisible) {
			return;
		}
		var index = this.activeIndex;
		if (index === -1) {
			return;
		}
		var item = this.items[index];
		if (item.disabled) {
			return;
		}
		if (item.submenu) {
			this._openChildMenu(item, this._nodes[index], false);
			this._childMenu.activateNextItem();
			return;
		}
		var handler = item.handler;
		if (!handler) {
			return;
		}
		this.rootMenu.close();
		handler(item);
	};

	Menu.prototype.popup = function (x, y, forceX, forceY) {
		if (forceX === void 0) { forceX = false; }
		if (forceY === void 0) { forceY = false; }
		if (!this.isAttached) {
			document.addEventListener('keydown', this, true);
			document.addEventListener('keypress', this, true);
			document.addEventListener('mousedown', this, true);
			MenuPrivate.openRootMenu(this, x, y, forceX, forceY);
		}
	};

	Menu.prototype.open = function (x, y, forceX, forceY) {
		if (forceX === void 0) { forceX = false; }
		if (forceY === void 0) { forceY = false; }
		if (!this.isAttached) {
			MenuPrivate.openRootMenu(this, x, y, forceX, forceY);
		}
	};

	Menu.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'mousemove':
				this._evtMouseMove(event);
				break;
			case 'mouseleave':
				this._evtMouseLeave(event);
				break;
			case 'mousedown':
				this._evtMouseDown(event);
				break;
			case 'mouseup':
				this._evtMouseUp(event);
				break;
			case 'keydown':
				this._evtKeyDown(event);
				break;
			case 'keypress':
				this._evtKeyPress(event);
				break;
			case 'contextmenu':
				event.preventDefault();
				event.stopPropagation();
				break;
		}
	};

	Menu.prototype.isSelectable = function (item) {
		if (item.disabled || item.type === menuitem_1.MenuItem.Separator) {
			return false;
		}
		if (item.type === menuitem_1.MenuItem.Submenu) {
			return !!item.submenu;
		}
		return !!item.handler;
	};

	Menu.prototype.onItemsChanged = function (oldItems, newItems) {

		this.close();

		var nodes = this._nodes;
		var content = this.contentNode;
		var constructor = this.constructor;

		while (nodes.length > newItems.length) {
			var node = nodes.pop();
			content.removeChild(node);
		}

		while (nodes.length < newItems.length) {
			var node = constructor.createItemNode();
			content.appendChild(node);
			nodes.push(node);
		}


	};

	Menu.prototype.onActiveIndexChanged = function (oldIndex, newIndex) {
		var oldNode = this._nodes[oldIndex];
		var newNode = this._nodes[newIndex];
		if (oldNode)
			oldNode.classList.remove(ACTIVE_CLASS);
		if (newNode)
			newNode.classList.add(ACTIVE_CLASS);
	};

	Menu.prototype.onCloseRequest = function (msg) {

		this._cancelPendingOpen();
		this._cancelPendingClose();
		this.activeIndex = -1;

		var childMenu = this._childMenu;
		if (childMenu) {
			this._childMenu = null;
			this._childItem = null;
			childMenu._parentMenu = null;
			childMenu.close();
		}

		var parentMenu = this._parentMenu;
		if (parentMenu) {
			this._parentMenu = null;
			parentMenu._cancelPendingOpen();
			parentMenu._cancelPendingClose();
			parentMenu._childMenu = null;
			parentMenu._childItem = null;
		}

		if (this.parent) {
			this.parent = null;
			this.closed.emit(void 0);
		}
		else if (this.isAttached) {
			this.detach();
			this.closed.emit(void 0);
		}
	};

	Menu.prototype.onUpdateRequest = function (msg) {

		var items = this.items;
		var nodes = this._nodes;
		var constructor = this.constructor;

		for (var i = 0, n = items.length; i < n; ++i) {
			constructor.updateItemNode(nodes[i], items[i]);
		}

		var active = nodes[this.activeIndex];
		if (active)
			active.classList.add(ACTIVE_CLASS);

		MenuPrivate.hideUselessItems(nodes, items);
	};

	Menu.prototype.onAfterAttach = function (msg) {
		this.node.addEventListener('mouseup', this);
		this.node.addEventListener('mousemove', this);
		this.node.addEventListener('mouseleave', this);
		this.node.addEventListener('contextmenu', this);
	};

	Menu.prototype.onBeforeDetach = function (msg) {
		this.node.removeEventListener('mouseup', this);
		this.node.removeEventListener('mousemove', this);
		this.node.removeEventListener('mouseleave', this);
		this.node.removeEventListener('contextmenu', this);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('keypress', this, true);
		document.removeEventListener('mousedown', this, true);
	};

	Menu.prototype._evtMouseMove = function (event) {
		var x = event.clientX;
		var y = event.clientY;
		var i = arrays.findIndex(this._nodes, function (node) { return phosphor_domutil_1.hitTest(node, x, y); });
		if (i === this.activeIndex) {
			return;
		}
		this.activeIndex = i;
		this._syncAncestors();
		this._closeChildMenu();
		this._cancelPendingOpen();
		var item = this.activeItem;
		if (item && item.submenu) {
			if (item === this._childItem) {
				this._cancelPendingClose();
			}
			else {
				this._openChildMenu(item, this._nodes[i], true);
			}
		}
	};

	Menu.prototype._evtMouseLeave = function (event) {
		this._cancelPendingOpen();
		var x = event.clientX;
		var y = event.clientY;
		var child = this._childMenu;
		if (!child || !phosphor_domutil_1.hitTest(child.node, x, y)) {
			this.activeIndex = -1;
			this._closeChildMenu();
		}
	};

	Menu.prototype._evtMouseDown = function (event) {
		var menu = this;
		var hit = false;
		var x = event.clientX;
		var y = event.clientY;
		while (!hit && menu) {
			hit = phosphor_domutil_1.hitTest(menu.node, x, y);
			menu = menu._childMenu;
		}
		if (!hit)
			this.close();
	};

	Menu.prototype._evtMouseUp = function (event) {
		if (event.button !== 0) {
			return;
		}
		event.preventDefault();
		event.stopPropagation();
		var node = this._nodes[this.activeIndex];
		if (node && node.contains(event.target)) {
			this.triggerActiveItem();
		}
	};

	Menu.prototype._evtKeyDown = function (event) {
		event.stopPropagation();
		var leaf = this.leafMenu;
		switch (event.keyCode) {
			case 13:
				event.preventDefault();
				leaf.triggerActiveItem();
				break;
			case 27:
				event.preventDefault();
				leaf.close();
				break;
			case 37:
				event.preventDefault();
				if (leaf !== this)
					leaf.close();
				break;
			case 38:
				event.preventDefault();
				leaf.activatePreviousItem();
				break;
			case 39:
				event.preventDefault();
				leaf.openActiveItem();
				break;
			case 40:
				event.preventDefault();
				leaf.activateNextItem();
				break;
		}
	};

	Menu.prototype._evtKeyPress = function (event) {
		event.preventDefault();
		event.stopPropagation();
		var key = String.fromCharCode(event.charCode);
		this.leafMenu.activateMnemonicItem(key);
	};

	Menu.prototype._syncAncestors = function () {
		var menu = this._parentMenu;
		while (menu) {
			menu._syncChildItem();
			menu = menu._parentMenu;
		}
	};

	Menu.prototype._syncChildItem = function () {
		this._cancelPendingOpen();
		this._cancelPendingClose();
		this.activeIndex = this.items.indexOf(this._childItem);
	};

	Menu.prototype._openChildMenu = function (item, node, delayed) {
		var _this = this;
		if (item === this._childItem) {
			return;
		}
		this._cancelPendingOpen();
		if (delayed) {
			this._openTimerId = setTimeout(function () {
				var menu = item.submenu;
				_this._openTimerId = 0;
				_this._childItem = item;
				_this._childMenu = menu;
				menu._parentMenu = _this;
				MenuPrivate.openSubmenu(menu, node);
			}, OPEN_DELAY);
		}
		else {
			var menu = item.submenu;
			this._childItem = item;
			this._childMenu = menu;
			menu._parentMenu = this;
			MenuPrivate.openSubmenu(menu, node);
		}
	};

	Menu.prototype._closeChildMenu = function () {
		var _this = this;
		if (this._closeTimerId || !this._childMenu) {
			return;
		}
		this._closeTimerId = setTimeout(function () {
			_this._closeTimerId = 0;
			var childMenu = _this._childMenu;
			if (childMenu) {
				_this._childMenu = null;
				_this._childItem = null;
				childMenu._parentMenu = null;
				childMenu.close();
			}
		}, CLOSE_DELAY);
	};

	Menu.prototype._cancelPendingOpen = function () {
		if (this._openTimerId) {
			clearTimeout(this._openTimerId);
			this._openTimerId = 0;
		}
	};

	Menu.prototype._cancelPendingClose = function () {
		if (this._closeTimerId) {
			clearTimeout(this._closeTimerId);
			this._closeTimerId = 0;
		}
	};
	return Menu;
})(base_1.AbstractMenu);
exports.Menu = Menu;

var MenuPrivate;
(function (MenuPrivate) {

	MenuPrivate.closedSignal = new phosphor_signaling_1.Signal();

	function createItemClass(item) {
		var name = ITEM_CLASS;
		if (item.className) {
			name += ' ' + item.className;
		}
		if (item.type === menuitem_1.MenuItem.Separator) {
			return name + ' ' + SEPARATOR_TYPE_CLASS;
		}
		if (item.type === menuitem_1.MenuItem.Submenu) {
			name += ' ' + SUBMENU_TYPE_CLASS;
			if (item.disabled || !item.submenu) {
				name += ' ' + DISABLED_CLASS;
			}
			return name;
		}
		if (item.type === menuitem_1.MenuItem.Check) {
			name += ' ' + CHECK_TYPE_CLASS;
			if (item.checked) {
				name += ' ' + CHECKED_CLASS;
			}
		}
		if (item.disabled || !item.handler) {
			name += ' ' + DISABLED_CLASS;
		}
		return name;
	}
	MenuPrivate.createItemClass = createItemClass;

	function hideUselessItems(nodes, items) {

		var k1;
		for (k1 = 0; k1 < items.length; ++k1) {
			if (items[k1].type !== menuitem_1.MenuItem.Separator) {
				break;
			}
			nodes[k1].classList.add(HIDDEN_CLASS);
		}

		var k2;
		for (k2 = items.length - 1; k2 >= 0; --k2) {
			if (items[k2].type !== menuitem_1.MenuItem.Separator) {
				break;
			}
			nodes[k2].classList.add(HIDDEN_CLASS);
		}

		var hide = false;
		while (++k1 < k2) {
			if (items[k1].type !== menuitem_1.MenuItem.Separator) {
				hide = false;
			}
			else if (hide) {
				nodes[k1].classList.add(HIDDEN_CLASS);
			}
			else {
				hide = true;
			}
		}
	}
	MenuPrivate.hideUselessItems = hideUselessItems;

	function openRootMenu(menu, x, y, forceX, forceY) {
		phosphor_messaging_1.sendMessage(menu, phosphor_widget_1.Widget.MsgUpdateRequest);
		var rect = clientViewportRect();
		var size = mountAndMeasure(menu, rect.height - (forceY ? y : 0));
		if (!forceX && (x + size.width > rect.x + rect.width)) {
			x = rect.x + rect.width - size.width;
		}
		if (!forceY && (y + size.height > rect.y + rect.height)) {
			if (y > rect.y + rect.height) {
				y = rect.y + rect.height - size.height;
			}
			else {
				y = y - size.height;
			}
		}
		showMenu(menu, x, y);
	}
	MenuPrivate.openRootMenu = openRootMenu;

	function openSubmenu(menu, item) {
		phosphor_messaging_1.sendMessage(menu, phosphor_widget_1.Widget.MsgUpdateRequest);
		var rect = clientViewportRect();
		var size = mountAndMeasure(menu, rect.height);
		var box = phosphor_domutil_1.boxSizing(menu.node);
		var itemRect = item.getBoundingClientRect();
		var x = itemRect.right - SUBMENU_OVERLAP;
		var y = itemRect.top - box.borderTop - box.paddingTop;
		if (x + size.width > rect.x + rect.width) {
			x = itemRect.left + SUBMENU_OVERLAP - size.width;
		}
		if (y + size.height > rect.y + rect.height) {
			y = itemRect.bottom + box.borderBottom + box.paddingBottom - size.height;
		}
		showMenu(menu, x, y);
	}
	MenuPrivate.openSubmenu = openSubmenu;

	function clientViewportRect() {
		var elem = document.documentElement;
		var x = window.pageXOffset;
		var y = window.pageYOffset;
		var width = elem.clientWidth;
		var height = elem.clientHeight;
		return { x: x, y: y, width: width, height: height };
	}

	function mountAndMeasure(menu, maxHeight) {
		var node = menu.node;
		var style = node.style;
		style.top = '';
		style.left = '';
		style.width = '';
		style.height = '';
		style.visibility = 'hidden';
		style.maxHeight = maxHeight + "px";
		menu.attach(document.body);
		if (node.scrollHeight > maxHeight) {
			style.width = (2 * node.offsetWidth - node.clientWidth) + "px";
		}
		var rect = node.getBoundingClientRect();
		return { width: rect.width, height: rect.height };
	}

	function showMenu(menu, x, y) {
		var style = menu.node.style;
		style.top = Math.max(0, y) + "px";
		style.left = Math.max(0, x) + "px";
		style.visibility = '';
	}
})(MenuPrivate || (MenuPrivate = {}));

},{"./base":18,"./menuitem":23,"phosphor-arrays":24,"phosphor-domutil":17,"phosphor-messaging":25,"phosphor-signaling":33,"phosphor-widget":48}],22:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_domutil_1 = require('phosphor-domutil');
var base_1 = require('./base');
var menuitem_1 = require('./menuitem');

var MENU_BAR_CLASS = 'p-MenuBar';

var CONTENT_CLASS = 'p-MenuBar-content';

var MENU_CLASS = 'p-MenuBar-menu';

var ITEM_CLASS = 'p-MenuBar-item';

var ICON_CLASS = 'p-MenuBar-itemIcon';

var TEXT_CLASS = 'p-MenuBar-itemText';

var SEPARATOR_TYPE_CLASS = 'p-type-separator';

var ACTIVE_CLASS = 'p-mod-active';

var DISABLED_CLASS = 'p-mod-disabled';

var HIDDEN_CLASS = 'p-mod-hidden';

var MenuBar = (function (_super) {
	__extends(MenuBar, _super);

	function MenuBar(items) {
		_super.call(this);
		this._active = false;
		this._childMenu = null;
		this._nodes = [];
		this.addClass(MENU_BAR_CLASS);
		if (items)
			this.items = items;
	}

	MenuBar.createNode = function () {
		var node = document.createElement('div');
		var content = document.createElement('ul');
		content.className = CONTENT_CLASS;
		node.appendChild(content);
		return node;
	};

	MenuBar.createItemNode = function () {
		var node = document.createElement('li');
		var icon = document.createElement('span');
		var text = document.createElement('span');
		node.className = ITEM_CLASS;
		icon.className = ICON_CLASS;
		text.className = TEXT_CLASS;
		node.appendChild(icon);
		node.appendChild(text);
		return node;
	};

	MenuBar.updateItemNode = function (node, item) {
		var sep = item.type === menuitem_1.MenuItem.Separator;
		var icon = node.firstChild;
		var text = node.lastChild;
		node.className = MenuBarPrivate.createItemClass(item);
		icon.className = ICON_CLASS + (item.icon ? ' ' + item.icon : '');
		text.textContent = sep ? '' : item.text.replace(/&/g, '');
	};

	MenuBar.prototype.dispose = function () {
		this._reset();
		_super.prototype.dispose.call(this);
	};
	Object.defineProperty(MenuBar.prototype, "childMenu", {

		get: function () {
			return this._childMenu;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuBar.prototype, "contentNode", {

		get: function () {
			return this.node.getElementsByClassName(CONTENT_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});

	MenuBar.prototype.openActiveItem = function () {
		if (!this.isVisible) {
			return;
		}
		var index = this.activeIndex;
		if (index === -1) {
			return;
		}
		var item = this.items[index];
		if (item.disabled || !item.submenu) {
			return;
		}
		this._activate();
		this._closeChildMenu();
		this._openChildMenu(item.submenu, this._nodes[index]);
	};

	MenuBar.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'mousedown':
				this._evtMouseDown(event);
				break;
			case 'mousemove':
				this._evtMouseMove(event);
				break;
			case 'mouseleave':
				this._evtMouseLeave(event);
				break;
			case 'keydown':
				this._evtKeyDown(event);
				break;
			case 'keypress':
				this._evtKeyPress(event);
				break;
			case 'contextmenu':
				event.preventDefault();
				event.stopPropagation();
				break;
		}
	};

	MenuBar.prototype.isSelectable = function (item) {
		return !item.disabled && !!item.submenu;
	};

	MenuBar.prototype.onItemsChanged = function (oldItems, newItems) {

		this._reset();

		for (var _i = 0; _i < oldItems.length; _i++) {
			var item = oldItems[_i];
			if (newItems.indexOf(item) === -1) {
				item.changed.disconnect(this._onItemChanged, this);
			}
		}

		for (var _a = 0; _a < newItems.length; _a++) {
			var item = newItems[_a];
			if (oldItems.indexOf(item) === -1) {
				item.changed.connect(this._onItemChanged, this);
			}
		}

		var nodes = this._nodes;
		var content = this.contentNode;
		var constructor = this.constructor;

		while (nodes.length > newItems.length) {
			var node = nodes.pop();
			content.removeChild(node);
		}

		while (nodes.length < newItems.length) {
			var node = constructor.createItemNode();
			content.appendChild(node);
			nodes.push(node);
		}

		this.update();
	};

	MenuBar.prototype.onActiveIndexChanged = function (oldIndex, newIndex) {
		var oldNode = this._nodes[oldIndex];
		var newNode = this._nodes[newIndex];
		if (oldNode)
			oldNode.classList.remove(ACTIVE_CLASS);
		if (newNode)
			newNode.classList.add(ACTIVE_CLASS);
	};

	MenuBar.prototype.onUpdateRequest = function (msg) {

		var items = this.items;
		var nodes = this._nodes;
		var constructor = this.constructor;

		for (var i = 0, n = items.length; i < n; ++i) {
			constructor.updateItemNode(nodes[i], items[i]);
		}

		var active = nodes[this.activeIndex];
		if (active)
			active.classList.add(ACTIVE_CLASS);

		MenuBarPrivate.hideUselessItems(nodes, items);
	};

	MenuBar.prototype.onAfterAttach = function (msg) {
		this.node.addEventListener('mousedown', this);
		this.node.addEventListener('mousemove', this);
		this.node.addEventListener('mouseleave', this);
		this.node.addEventListener('contextmenu', this);
	};

	MenuBar.prototype.onBeforeDetach = function (msg) {
		this.node.removeEventListener('mousedown', this);
		this.node.removeEventListener('mousemove', this);
		this.node.removeEventListener('mouseleave', this);
		this.node.removeEventListener('contextmenu', this);
		this._reset();
	};

	MenuBar.prototype._evtMouseDown = function (event) {



		var x = event.clientX;
		var y = event.clientY;
		if (this._active && MenuBarPrivate.hitTestMenus(this._childMenu, x, y)) {
			return;
		}



		if (phosphor_domutil_1.hitTest(this.node, x, y)) {
			event.preventDefault();
			event.stopPropagation();
		}

		var i = arrays.findIndex(this._nodes, function (node) { return phosphor_domutil_1.hitTest(node, x, y); });

		if (i === -1) {
			this._deactivate();
			this._closeChildMenu();
			this.activeIndex = -1;
			return;
		}

		if (event.button !== 0) {
			return;
		}

		if (this._active) {
			this._deactivate();
			this._closeChildMenu();
			this.activeIndex = i;
			return;
		}

		this._activate();
		this.activeIndex = i;
		this.openActiveItem();
	};

	MenuBar.prototype._evtMouseMove = function (event) {

		var x = event.clientX;
		var y = event.clientY;
		var i = arrays.findIndex(this._nodes, function (node) { return phosphor_domutil_1.hitTest(node, x, y); });

		if (i === this.activeIndex) {
			return;
		}



		if (i === -1 && this._active) {
			return;
		}

		this.activeIndex = i;

		if (!this._active) {
			return;
		}

		this._closeChildMenu();
		this.openActiveItem();
	};

	MenuBar.prototype._evtMouseLeave = function (event) {
		if (!this._active)
			this.activeIndex = -1;
	};

	MenuBar.prototype._evtKeyDown = function (event) {
		event.stopPropagation();
		var menu = this._childMenu;
		var leaf = menu && menu.leafMenu;
		switch (event.keyCode) {
			case 13:
				event.preventDefault();
				if (leaf)
					leaf.triggerActiveItem();
				break;
			case 27:
				event.preventDefault();
				if (leaf)
					leaf.close();
				break;
			case 37:
				event.preventDefault();
				if (leaf && leaf !== menu) {
					leaf.close();
				}
				else {
					this._closeChildMenu();
					this.activatePreviousItem();
					this.openActiveItem();
				}
				break;
			case 38:
				event.preventDefault();
				if (leaf)
					leaf.activatePreviousItem();
				break;
			case 39:
				event.preventDefault();
				if (leaf && leaf.activeItem && leaf.activeItem.submenu) {
					leaf.openActiveItem();
				}
				else {
					this._closeChildMenu();
					this.activateNextItem();
					this.openActiveItem();
				}
				break;
			case 40:
				event.preventDefault();
				if (leaf)
					leaf.activateNextItem();
				break;
		}
	};

	MenuBar.prototype._evtKeyPress = function (event) {
		event.preventDefault();
		event.stopPropagation();
		var menu = this._childMenu;
		var leaf = menu && menu.leafMenu;
		var key = String.fromCharCode(event.charCode);
		(leaf || this).activateMnemonicItem(key);
	};

	MenuBar.prototype._activate = function () {
		if (this._active) {
			return;
		}
		this._active = true;
		this.addClass(ACTIVE_CLASS);
		document.addEventListener('mousedown', this, true);
		document.addEventListener('keydown', this, true);
		document.addEventListener('keypress', this, true);
	};

	MenuBar.prototype._deactivate = function () {
		if (!this._active) {
			return;
		}
		this._active = false;
		this.removeClass(ACTIVE_CLASS);
		document.removeEventListener('mousedown', this, true);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('keypress', this, true);
	};

	MenuBar.prototype._openChildMenu = function (menu, node) {
		var rect = node.getBoundingClientRect();
		this._childMenu = menu;
		menu.addClass(MENU_CLASS);
		menu.open(rect.left, rect.bottom, false, true);
		menu.closed.connect(this._onMenuClosed, this);
	};

	MenuBar.prototype._closeChildMenu = function () {
		var menu = this._childMenu;
		if (!menu) {
			return;
		}
		this._childMenu = null;
		menu.closed.disconnect(this._onMenuClosed, this);
		menu.removeClass(MENU_CLASS);
		menu.close();
	};

	MenuBar.prototype._reset = function () {
		this._deactivate();
		this._closeChildMenu();
		this.activeIndex = -1;
	};

	MenuBar.prototype._onItemChanged = function () {
		this._reset();
		this.update();
	};

	MenuBar.prototype._onMenuClosed = function (sender) {
		sender.closed.disconnect(this._onMenuClosed, this);
		sender.removeClass(MENU_CLASS);
		this._deactivate();
		this._childMenu = null;
		this.activeIndex = -1;
	};
	return MenuBar;
})(base_1.AbstractMenu);
exports.MenuBar = MenuBar;

var MenuBarPrivate;
(function (MenuBarPrivate) {

	function createItemClass(item) {
		var name = ITEM_CLASS;
		if (item.className) {
			name += ' ' + item.className;
		}
		if (item.type === menuitem_1.MenuItem.Separator) {
			return name + ' ' + SEPARATOR_TYPE_CLASS;
		}
		if (item.disabled || (item.type === menuitem_1.MenuItem.Submenu && !item.submenu)) {
			return name + ' ' + DISABLED_CLASS;
		}
		return name;
	}
	MenuBarPrivate.createItemClass = createItemClass;

	function hitTestMenus(menu, x, y) {
		while (menu) {
			if (phosphor_domutil_1.hitTest(menu.node, x, y)) {
				return true;
			}
			menu = menu.childMenu;
		}
		return false;
	}
	MenuBarPrivate.hitTestMenus = hitTestMenus;

	function hideUselessItems(nodes, items) {

		var k1;
		for (k1 = 0; k1 < items.length; ++k1) {
			if (items[k1].type === menuitem_1.MenuItem.Submenu) {
				break;
			}
			nodes[k1].classList.add(HIDDEN_CLASS);
		}

		var k2;
		for (k2 = items.length - 1; k2 >= 0; --k2) {
			if (items[k2].type === menuitem_1.MenuItem.Submenu) {
				break;
			}
			nodes[k2].classList.add(HIDDEN_CLASS);
		}

		var hide = false;
		while (++k1 < k2) {
			if (items[k1].type === menuitem_1.MenuItem.Submenu) {
				hide = false;
			}
			else if (items[k1].type !== menuitem_1.MenuItem.Separator) {
				nodes[k1].classList.add(HIDDEN_CLASS);
			}
			else if (hide) {
				nodes[k1].classList.add(HIDDEN_CLASS);
			}
			else {
				hide = true;
			}
		}
	}
	MenuBarPrivate.hideUselessItems = hideUselessItems;
})(MenuBarPrivate || (MenuBarPrivate = {}));

},{"./base":18,"./menuitem":23,"phosphor-arrays":24,"phosphor-domutil":17}],23:[function(require,module,exports){

'use strict';
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_signaling_1 = require('phosphor-signaling');

(function (MenuItemType) {

	MenuItemType[MenuItemType["Normal"] = 0] = "Normal";

	MenuItemType[MenuItemType["Check"] = 1] = "Check";

	MenuItemType[MenuItemType["Separator"] = 2] = "Separator";

	MenuItemType[MenuItemType["Submenu"] = 3] = "Submenu";
})(exports.MenuItemType || (exports.MenuItemType = {}));
var MenuItemType = exports.MenuItemType;

var MenuItem = (function () {

	function MenuItem(options) {
		if (options)
			MenuItemPrivate.initFrom(this, options);
	}
	Object.defineProperty(MenuItem.prototype, "changed", {

		get: function () {
			return MenuItemPrivate.changedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "type", {

		get: function () {
			return MenuItemPrivate.typeProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.typeProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "text", {

		get: function () {
			return MenuItemPrivate.textProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.textProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "icon", {

		get: function () {
			return MenuItemPrivate.iconProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.iconProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "shortcut", {

		get: function () {
			return MenuItemPrivate.shortcutProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.shortcutProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "checked", {

		get: function () {
			return MenuItemPrivate.checkedProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.checkedProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "disabled", {

		get: function () {
			return MenuItemPrivate.disabledProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.disabledProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "className", {

		get: function () {
			return MenuItemPrivate.classNameProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.classNameProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "handler", {

		get: function () {
			return MenuItemPrivate.handlerProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.handlerProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(MenuItem.prototype, "submenu", {

		get: function () {
			return MenuItemPrivate.submenuProperty.get(this);
		},

		set: function (value) {
			MenuItemPrivate.submenuProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	return MenuItem;
})();
exports.MenuItem = MenuItem;

var MenuItem;
(function (MenuItem) {

	MenuItem.Normal = MenuItemType.Normal;

	MenuItem.Check = MenuItemType.Check;

	MenuItem.Separator = MenuItemType.Separator;

	MenuItem.Submenu = MenuItemType.Submenu;
})(MenuItem = exports.MenuItem || (exports.MenuItem = {}));

var MenuItemPrivate;
(function (MenuItemPrivate) {

	MenuItemPrivate.changedSignal = new phosphor_signaling_1.Signal();

	MenuItemPrivate.typeProperty = new phosphor_properties_1.Property({
		name: 'type',
		value: MenuItemType.Normal,
		coerce: function (owner, value) { return owner.submenu ? MenuItemType.Submenu : value; },
		changed: function (owner) { MenuItemPrivate.checkedProperty.coerce(owner); },
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.textProperty = new phosphor_properties_1.Property({
		name: 'text',
		value: '',
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.iconProperty = new phosphor_properties_1.Property({
		name: 'icon',
		value: '',
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.shortcutProperty = new phosphor_properties_1.Property({
		name: 'shortcut',
		value: '',
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.checkedProperty = new phosphor_properties_1.Property({
		name: 'checked',
		value: false,
		coerce: function (owner, value) { return owner.type === MenuItemType.Check ? value : false; },
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.disabledProperty = new phosphor_properties_1.Property({
		name: 'disabled',
		value: false,
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.classNameProperty = new phosphor_properties_1.Property({
		name: 'className',
		value: '',
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.handlerProperty = new phosphor_properties_1.Property({
		name: 'handler',
		value: null,
		coerce: function (owner, value) { return value || null; },
		notify: MenuItemPrivate.changedSignal,
	});

	MenuItemPrivate.submenuProperty = new phosphor_properties_1.Property({
		name: 'submenu',
		value: null,
		coerce: function (owner, value) { return value || null; },
		changed: function (owner) { MenuItemPrivate.typeProperty.coerce(owner); },
		notify: MenuItemPrivate.changedSignal,
	});

	function initFrom(item, options) {
		if (options.type !== void 0) {
			item.type = options.type;
		}
		if (options.text !== void 0) {
			item.text = options.text;
		}
		if (options.icon !== void 0) {
			item.icon = options.icon;
		}
		if (options.shortcut !== void 0) {
			item.shortcut = options.shortcut;
		}
		if (options.checked !== void 0) {
			item.checked = options.checked;
		}
		if (options.disabled !== void 0) {
			item.disabled = options.disabled;
		}
		if (options.className !== void 0) {
			item.className = options.className;
		}
		if (options.handler !== void 0) {
			item.handler = options.handler;
		}
		if (options.submenu !== void 0) {
			item.submenu = options.submenu;
		}
	}
	MenuItemPrivate.initFrom = initFrom;
})(MenuItemPrivate || (MenuItemPrivate = {}));

},{"phosphor-properties":32,"phosphor-signaling":33}],24:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"dup":7}],25:[function(require,module,exports){

'use strict';
var phosphor_queue_1 = require('phosphor-queue');

var Message = (function () {

	function Message(type) {
		this._type = type;
	}
	Object.defineProperty(Message.prototype, "type", {

		get: function () {
			return this._type;
		},
		enumerable: true,
		configurable: true
	});
	return Message;
})();
exports.Message = Message;

function sendMessage(handler, msg) {
	getDispatcher(handler).sendMessage(handler, msg);
}
exports.sendMessage = sendMessage;

function postMessage(handler, msg) {
	getDispatcher(handler).postMessage(handler, msg);
}
exports.postMessage = postMessage;

function hasPendingMessages(handler) {
	return getDispatcher(handler).hasPendingMessages();
}
exports.hasPendingMessages = hasPendingMessages;

function sendPendingMessage(handler) {
	getDispatcher(handler).sendPendingMessage(handler);
}
exports.sendPendingMessage = sendPendingMessage;

function installMessageFilter(handler, filter) {
	getDispatcher(handler).installMessageFilter(filter);
}
exports.installMessageFilter = installMessageFilter;

function removeMessageFilter(handler, filter) {
	getDispatcher(handler).removeMessageFilter(filter);
}
exports.removeMessageFilter = removeMessageFilter;

function clearMessageData(handler) {
	var dispatcher = dispatcherMap.get(handler);
	if (dispatcher)
		dispatcher.clear();
	dispatchQueue.removeAll(handler);
}
exports.clearMessageData = clearMessageData;

var dispatcherMap = new WeakMap();

var dispatchQueue = new phosphor_queue_1.Queue();

var frameId = void 0;

var raf;
if (typeof requestAnimationFrame === 'function') {
	raf = requestAnimationFrame;
}
else {
	raf = setImmediate;
}

function getDispatcher(handler) {
	var dispatcher = dispatcherMap.get(handler);
	if (dispatcher)
		return dispatcher;
	dispatcher = new MessageDispatcher();
	dispatcherMap.set(handler, dispatcher);
	return dispatcher;
}

function wakeUpMessageLoop() {
	if (frameId === void 0 && !dispatchQueue.empty) {
		frameId = raf(runMessageLoop);
	}
}

function runMessageLoop() {

	frameId = void 0;

	if (dispatchQueue.empty) {
		return;
	}




	dispatchQueue.push(null);




	while (!dispatchQueue.empty) {
		var handler = dispatchQueue.pop();
		if (handler === null) {
			wakeUpMessageLoop();
			return;
		}
		getDispatcher(handler).sendPendingMessage(handler);
	}
}

function safeProcess(handler, msg) {
	try {
		handler.processMessage(msg);
	}
	catch (err) {
		console.error(err);
	}
}

function safeCompress(handler, msg, queue) {
	var result = false;
	try {
		result = handler.compressMessage(msg, queue);
	}
	catch (err) {
		console.error(err);
	}
	return result;
}

function safeFilter(filter, handler, msg) {
	var result = false;
	try {
		result = filter.filterMessage(handler, msg);
	}
	catch (err) {
		console.error(err);
	}
	return result;
}

var MessageDispatcher = (function () {
	function MessageDispatcher() {
		this._filters = null;
		this._messages = null;
	}

	MessageDispatcher.prototype.sendMessage = function (handler, msg) {
		if (!this._filterMessage(handler, msg)) {
			safeProcess(handler, msg);
		}
	};

	MessageDispatcher.prototype.postMessage = function (handler, msg) {
		if (!this._compressMessage(handler, msg)) {
			this._enqueueMessage(handler, msg);
		}
	};

	MessageDispatcher.prototype.hasPendingMessages = function () {
		return !!(this._messages && !this._messages.empty);
	};

	MessageDispatcher.prototype.sendPendingMessage = function (handler) {
		if (this._messages && !this._messages.empty) {
			this.sendMessage(handler, this._messages.pop());
		}
	};

	MessageDispatcher.prototype.installMessageFilter = function (filter) {
		this._filters = { next: this._filters, filter: filter };
	};

	MessageDispatcher.prototype.removeMessageFilter = function (filter) {
		var link = this._filters;
		var prev = null;
		while (link !== null) {
			if (link.filter === filter) {
				link.filter = null;
			}
			else if (prev === null) {
				this._filters = link;
				prev = link;
			}
			else {
				prev.next = link;
				prev = link;
			}
			link = link.next;
		}
		if (!prev) {
			this._filters = null;
		}
		else {
			prev.next = null;
		}
	};

	MessageDispatcher.prototype.clear = function () {
		if (this._messages) {
			this._messages.clear();
		}
		for (var link = this._filters; link !== null; link = link.next) {
			link.filter = null;
		}
		this._filters = null;
	};

	MessageDispatcher.prototype._filterMessage = function (handler, msg) {
		for (var link = this._filters; link !== null; link = link.next) {
			if (link.filter && safeFilter(link.filter, handler, msg)) {
				return true;
			}
		}
		return false;
	};

	MessageDispatcher.prototype._compressMessage = function (handler, msg) {
		if (!handler.compressMessage) {
			return false;
		}
		if (!this._messages || this._messages.empty) {
			return false;
		}
		return safeCompress(handler, msg, this._messages);
	};

	MessageDispatcher.prototype._enqueueMessage = function (handler, msg) {
		this._ensureMessages().push(msg);
		dispatchQueue.push(handler);
		wakeUpMessageLoop();
	};

	MessageDispatcher.prototype._ensureMessages = function () {
		return this._messages || (this._messages = new phosphor_queue_1.Queue());
	};
	return MessageDispatcher;
})();

},{"phosphor-queue":26}],26:[function(require,module,exports){

'use strict';

var Queue = (function () {

	function Queue(items) {
		var _this = this;
		this._size = 0;
		this._front = null;
		this._back = null;
		if (items)
			items.forEach(function (item) { return _this.push(item); });
	}
	Object.defineProperty(Queue.prototype, "size", {

		get: function () {
			return this._size;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Queue.prototype, "empty", {

		get: function () {
			return this._size === 0;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Queue.prototype, "front", {

		get: function () {
			return this._front !== null ? this._front.value : void 0;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Queue.prototype, "back", {

		get: function () {
			return this._back !== null ? this._back.value : void 0;
		},
		enumerable: true,
		configurable: true
	});

	Queue.prototype.push = function (value) {
		var link = { next: null, value: value };
		if (this._back === null) {
			this._front = link;
			this._back = link;
		}
		else {
			this._back.next = link;
			this._back = link;
		}
		this._size++;
	};

	Queue.prototype.pop = function () {
		var link = this._front;
		if (link === null) {
			return void 0;
		}
		if (link.next === null) {
			this._front = null;
			this._back = null;
		}
		else {
			this._front = link.next;
		}
		this._size--;
		return link.value;
	};

	Queue.prototype.remove = function (value) {
		var link = this._front;
		var prev = null;
		while (link !== null) {
			if (link.value === value) {
				if (prev === null) {
					this._front = link.next;
				}
				else {
					prev.next = link.next;
				}
				if (link.next === null) {
					this._back = prev;
				}
				this._size--;
				return true;
			}
			prev = link;
			link = link.next;
		}
		return false;
	};

	Queue.prototype.removeAll = function (value) {
		var count = 0;
		var link = this._front;
		var prev = null;
		while (link !== null) {
			if (link.value === value) {
				count++;
				this._size--;
			}
			else if (prev === null) {
				this._front = link;
				prev = link;
			}
			else {
				prev.next = link;
				prev = link;
			}
			link = link.next;
		}
		if (!prev) {
			this._front = null;
			this._back = null;
		}
		else {
			prev.next = null;
			this._back = prev;
		}
		return count;
	};

	Queue.prototype.clear = function () {
		this._size = 0;
		this._front = null;
		this._back = null;
	};

	Queue.prototype.toArray = function () {
		var result = new Array(this._size);
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			result[i] = link.value;
		}
		return result;
	};

	Queue.prototype.some = function (pred) {
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			if (pred(link.value, i))
				return true;
		}
		return false;
	};

	Queue.prototype.every = function (pred) {
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			if (!pred(link.value, i))
				return false;
		}
		return true;
	};

	Queue.prototype.filter = function (pred) {
		var result = [];
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			if (pred(link.value, i))
				result.push(link.value);
		}
		return result;
	};

	Queue.prototype.map = function (callback) {
		var result = new Array(this._size);
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			result[i] = callback(link.value, i);
		}
		return result;
	};

	Queue.prototype.forEach = function (callback) {
		for (var i = 0, link = this._front; link !== null; link = link.next, ++i) {
			var result = callback(link.value, i);
			if (result !== void 0)
				return result;
		}
		return void 0;
	};
	return Queue;
})();
exports.Queue = Queue;

},{}],27:[function(require,module,exports){

'use strict';

var NodeWrapper = (function () {

	function NodeWrapper() {
		this._node = this.constructor.createNode();
	}

	NodeWrapper.createNode = function () {
		return document.createElement('div');
	};
	Object.defineProperty(NodeWrapper.prototype, "node", {

		get: function () {
			return this._node;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(NodeWrapper.prototype, "id", {

		get: function () {
			return this._node.id;
		},

		set: function (value) {
			this._node.id = value;
		},
		enumerable: true,
		configurable: true
	});

	NodeWrapper.prototype.hasClass = function (name) {
		return this._node.classList.contains(name);
	};

	NodeWrapper.prototype.addClass = function (name) {
		this._node.classList.add(name);
	};

	NodeWrapper.prototype.removeClass = function (name) {
		this._node.classList.remove(name);
	};

	NodeWrapper.prototype.toggleClass = function (name, force) {
		var present;
		if (force === true) {
			this.addClass(name);
			present = true;
		}
		else if (force === false) {
			this.removeClass(name);
			present = false;
		}
		else if (this.hasClass(name)) {
			this.removeClass(name);
			present = false;
		}
		else {
			this.addClass(name);
			present = true;
		}
		return present;
	};
	return NodeWrapper;
})();
exports.NodeWrapper = NodeWrapper;

},{}],28:[function(require,module,exports){
arguments[4][4][0].apply(exports,arguments)
},{"./layout":29,"./panel":30,"dup":4}],29:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_widget_1 = require('phosphor-widget');

var PanelLayout = (function (_super) {
	__extends(PanelLayout, _super);
	function PanelLayout() {
		_super.apply(this, arguments);
		this._children = [];
	}

	PanelLayout.prototype.dispose = function () {
		while (this._children.length > 0) {
			this._children.pop().dispose();
		}
		_super.prototype.dispose.call(this);
	};

	PanelLayout.prototype.childCount = function () {
		return this._children.length;
	};

	PanelLayout.prototype.childAt = function (index) {
		return this._children[index];
	};

	PanelLayout.prototype.addChild = function (child) {
		this.insertChild(this.childCount(), child);
	};

	PanelLayout.prototype.insertChild = function (index, child) {
		child.parent = this.parent;
		var n = this._children.length;
		var i = this._children.indexOf(child);
		var j = Math.max(0, Math.min(index | 0, n));
		if (i !== -1) {
			if (j === n)
				j--;
			if (i === j)
				return;
			arrays.move(this._children, i, j);
			if (this.parent)
				this.moveChild(i, j, child);
		}
		else {
			arrays.insert(this._children, j, child);
			if (this.parent)
				this.attachChild(j, child);
		}
	};

	PanelLayout.prototype.removeChild = function (child) {
		var i = arrays.remove(this._children, child);
		if (i !== -1 && this.parent)
			this.detachChild(i, child);
	};

	PanelLayout.prototype.initialize = function () {
		for (var i = 0; i < this.childCount(); ++i) {
			var child = this.childAt(i);
			child.parent = this.parent;
			this.attachChild(i, child);
		}
	};

	PanelLayout.prototype.attachChild = function (index, child) {
		var ref = this.parent.node.children[index];
		this.parent.node.insertBefore(child.node, ref);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
	};

	PanelLayout.prototype.moveChild = function (fromIndex, toIndex, child) {
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
		var ref = this.parent.node.children[toIndex];
		this.parent.node.insertBefore(child.node, ref);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
	};

	PanelLayout.prototype.detachChild = function (index, child) {
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
	};

	PanelLayout.prototype.onChildRemoved = function (msg) {
		this.removeChild(msg.child);
	};
	return PanelLayout;
})(phosphor_widget_1.AbstractLayout);
exports.PanelLayout = PanelLayout;

},{"phosphor-arrays":31,"phosphor-messaging":25,"phosphor-widget":48}],30:[function(require,module,exports){
arguments[4][10][0].apply(exports,arguments)
},{"./layout":29,"dup":10,"phosphor-widget":48}],31:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"dup":7}],32:[function(require,module,exports){

'use strict';

var Property = (function () {

	function Property(options) {
		this._pid = nextPID();
		this._name = options.name;
		this._value = options.value;
		this._create = options.create;
		this._coerce = options.coerce;
		this._compare = options.compare;
		this._changed = options.changed;
		this._notify = options.notify;
	}
	Object.defineProperty(Property.prototype, "name", {

		get: function () {
			return this._name;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Property.prototype, "notify", {

		get: function () {
			return this._notify;
		},
		enumerable: true,
		configurable: true
	});

	Property.prototype.get = function (owner) {
		var value;
		var hash = lookupHash(owner);
		if (this._pid in hash) {
			value = hash[this._pid];
		}
		else {
			value = hash[this._pid] = this._createValue(owner);
		}
		return value;
	};

	Property.prototype.set = function (owner, value) {
		var oldValue;
		var hash = lookupHash(owner);
		if (this._pid in hash) {
			oldValue = hash[this._pid];
		}
		else {
			oldValue = hash[this._pid] = this._createValue(owner);
		}
		var newValue = this._coerceValue(owner, value);
		this._maybeNotify(owner, oldValue, hash[this._pid] = newValue);
	};

	Property.prototype.coerce = function (owner) {
		var oldValue;
		var hash = lookupHash(owner);
		if (this._pid in hash) {
			oldValue = hash[this._pid];
		}
		else {
			oldValue = hash[this._pid] = this._createValue(owner);
		}
		var newValue = this._coerceValue(owner, oldValue);
		this._maybeNotify(owner, oldValue, hash[this._pid] = newValue);
	};

	Property.prototype._createValue = function (owner) {
		var create = this._create;
		return create ? create(owner) : this._value;
	};

	Property.prototype._coerceValue = function (owner, value) {
		var coerce = this._coerce;
		return coerce ? coerce(owner, value) : value;
	};

	Property.prototype._compareValue = function (oldValue, newValue) {
		var compare = this._compare;
		return compare ? compare(oldValue, newValue) : oldValue === newValue;
	};

	Property.prototype._maybeNotify = function (owner, oldValue, newValue) {
		var changed = this._changed;
		var notify = this._notify;
		if (!changed && !notify) {
			return;
		}
		if (this._compareValue(oldValue, newValue)) {
			return;
		}
		if (changed) {
			changed(owner, oldValue, newValue);
		}
		if (notify) {
			notify.bind(owner).emit({ name: this._name, oldValue: oldValue, newValue: newValue });
		}
	};
	return Property;
})();
exports.Property = Property;

function clearPropertyData(owner) {
	ownerData.delete(owner);
}
exports.clearPropertyData = clearPropertyData;

var ownerData = new WeakMap();

var nextPID = (function () { var id = 0; return function () { return 'pid-' + id++; }; })();

function lookupHash(owner) {
	var hash = ownerData.get(owner);
	if (hash !== void 0)
		return hash;
	hash = Object.create(null);
	ownerData.set(owner, hash);
	return hash;
}

},{}],33:[function(require,module,exports){

'use strict';

var Signal = (function () {
	function Signal() {
	}

	Signal.prototype.bind = function (sender) {
		return new BoundSignal(this, sender);
	};
	return Signal;
})();
exports.Signal = Signal;

function disconnectSender(sender) {
	var list = senderMap.get(sender);
	if (!list) {
		return;
	}
	var conn = list.first;
	while (conn !== null) {
		removeFromSendersList(conn);
		conn.callback = null;
		conn.thisArg = null;
		conn = conn.nextReceiver;
	}
	senderMap.delete(sender);
}
exports.disconnectSender = disconnectSender;

function disconnectReceiver(receiver) {
	var conn = receiverMap.get(receiver);
	if (!conn) {
		return;
	}
	while (conn !== null) {
		var next = conn.nextSender;
		conn.callback = null;
		conn.thisArg = null;
		conn.prevSender = null;
		conn.nextSender = null;
		conn = next;
	}
	receiverMap.delete(receiver);
}
exports.disconnectReceiver = disconnectReceiver;

function clearSignalData(obj) {
	disconnectSender(obj);
	disconnectReceiver(obj);
}
exports.clearSignalData = clearSignalData;

var BoundSignal = (function () {

	function BoundSignal(signal, sender) {
		this._signal = signal;
		this._sender = sender;
	}

	BoundSignal.prototype.connect = function (callback, thisArg) {
		return connect(this._sender, this._signal, callback, thisArg);
	};

	BoundSignal.prototype.disconnect = function (callback, thisArg) {
		return disconnect(this._sender, this._signal, callback, thisArg);
	};

	BoundSignal.prototype.emit = function (args) {
		emit(this._sender, this._signal, args);
	};
	return BoundSignal;
})();

var Connection = (function () {
	function Connection() {

		this.signal = null;

		this.callback = null;

		this.thisArg = null;

		this.nextReceiver = null;

		this.nextSender = null;

		this.prevSender = null;
	}
	return Connection;
})();

var ConnectionList = (function () {
	function ConnectionList() {

		this.refs = 0;

		this.first = null;

		this.last = null;
	}
	return ConnectionList;
})();

var senderMap = new WeakMap();

var receiverMap = new WeakMap();

function connect(sender, signal, callback, thisArg) {

	thisArg = thisArg || void 0;

	var list = senderMap.get(sender);
	if (list && findConnection(list, signal, callback, thisArg)) {
		return false;
	}

	var conn = new Connection();
	conn.signal = signal;
	conn.callback = callback;
	conn.thisArg = thisArg;

	if (!list) {
		list = new ConnectionList();
		list.first = conn;
		list.last = conn;
		senderMap.set(sender, list);
	}
	else if (list.last === null) {
		list.first = conn;
		list.last = conn;
	}
	else {
		list.last.nextReceiver = conn;
		list.last = conn;
	}

	var receiver = thisArg || callback;
	var head = receiverMap.get(receiver);
	if (head) {
		head.prevSender = conn;
		conn.nextSender = head;
	}
	receiverMap.set(receiver, conn);
	return true;
}

function disconnect(sender, signal, callback, thisArg) {

	thisArg = thisArg || void 0;

	var list = senderMap.get(sender);
	if (!list) {
		return false;
	}
	var conn = findConnection(list, signal, callback, thisArg);
	if (!conn) {
		return false;
	}


	removeFromSendersList(conn);

	conn.callback = null;
	conn.thisArg = null;
	return true;
}

function emit(sender, signal, args) {

	var list = senderMap.get(sender);
	if (!list) {
		return;
	}



	list.refs++;
	var dirty = false;
	var last = list.last;
	var conn = list.first;




	while (conn !== null) {
		if (!conn.callback) {
			dirty = true;
		}
		else if (conn.signal === signal) {
			safeInvoke(conn, sender, args);
		}
		if (conn === last) {
			break;
		}
		conn = conn.nextReceiver;
	}

	list.refs--;

	if (dirty && list.refs === 0) {
		cleanList(list);
	}
}

function safeInvoke(conn, sender, args) {
	try {
		conn.callback.call(conn.thisArg, sender, args);
	}
	catch (err) {
		console.error('Exception in signal handler:', err);
	}
}

function findConnection(list, signal, callback, thisArg) {
	var conn = list.first;
	while (conn !== null) {
		if (conn.signal === signal &&
			conn.callback === callback &&
			conn.thisArg === thisArg) {
			return conn;
		}
		conn = conn.nextReceiver;
	}
	return null;
}

function cleanList(list) {
	var prev;
	var conn = list.first;
	while (conn !== null) {
		var next = conn.nextReceiver;
		if (!conn.callback) {
			conn.nextReceiver = null;
		}
		else if (!prev) {
			list.first = conn;
			prev = conn;
		}
		else {
			prev.nextReceiver = conn;
			prev = conn;
		}
		conn = next;
	}
	if (!prev) {
		list.first = null;
		list.last = null;
	}
	else {
		prev.nextReceiver = null;
		list.last = prev;
	}
}

function removeFromSendersList(conn) {
	var receiver = conn.thisArg || conn.callback;
	if (!receiver) {
		return;
	}
	var prev = conn.prevSender;
	var next = conn.nextSender;
	if (prev === null && next === null) {
		receiverMap.delete(receiver);
	}
	else if (prev === null) {
		receiverMap.set(receiver, next);
		next.prevSender = null;
	}
	else if (next === null) {
		prev.nextSender = null;
	}
	else {
		prev.nextSender = next;
		next.prevSender = prev;
	}
	conn.prevSender = null;
	conn.nextSender = null;
}

},{}],34:[function(require,module,exports){
var css = ".p-SplitPanel,.p-SplitPanel-child{z-index:0}.p-SplitPanel-handle{z-index:1}.p-SplitPanel-handle.p-mod-hidden{display:none}.p-SplitPanel-handle:after{position:absolute;top:0;left:0;width:100%;height:100%;content:''}.p-SplitPanel.p-mod-horizontal>.p-SplitPanel-handle{cursor:ew-resize}.p-SplitPanel.p-mod-vertical>.p-SplitPanel-handle{cursor:ns-resize}.p-SplitPanel.p-mod-horizontal>.p-SplitPanel-handle:after{left:50%;min-width:7px;transform:translateX(-50%)}.p-SplitPanel.p-mod-vertical>.p-SplitPanel-handle:after{top:50%;min-height:7px;transform:translateY(-50%)}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-splitpanel\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],35:[function(require,module,exports){

'use strict';
function __export(m) {
	for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(require('./layout'));
__export(require('./panel'));
require('./index.css');

},{"./index.css":34,"./layout":36,"./panel":37}],36:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_boxengine_1 = require('phosphor-boxengine');
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_panel_1 = require('phosphor-panel');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_widget_1 = require('phosphor-widget');

var HIDDEN_CLASS = 'p-mod-hidden';

var HORIZONTAL_CLASS = 'p-mod-horizontal';

var VERTICAL_CLASS = 'p-mod-vertical';

(function (Orientation) {

	Orientation[Orientation["Horizontal"] = 0] = "Horizontal";

	Orientation[Orientation["Vertical"] = 1] = "Vertical";
})(exports.Orientation || (exports.Orientation = {}));
var Orientation = exports.Orientation;

var SplitLayout = (function (_super) {
	__extends(SplitLayout, _super);

	function SplitLayout(factory) {
		_super.call(this);
		this._fixed = 0;
		this._spacing = 3;
		this._normed = false;
		this._box = null;
		this._sizers = [];
		this._handles = [];
		this._orientation = Orientation.Horizontal;
		this._factory = factory;
	}
	Object.defineProperty(SplitLayout.prototype, "orientation", {

		get: function () {
			return this._orientation;
		},

		set: function (value) {
			if (this._orientation === value) {
				return;
			}
			this._orientation = value;
			if (!this.parent) {
				return;
			}
			SplitLayoutPrivate.toggleOrientation(this.parent, value);
			this.parent.fit();
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(SplitLayout.prototype, "spacing", {

		get: function () {
			return this._spacing;
		},

		set: function (value) {
			value = Math.max(0, value | 0);
			if (this._spacing === value) {
				return;
			}
			this._spacing = value;
			if (!this.parent) {
				return;
			}
			this.parent.fit();
		},
		enumerable: true,
		configurable: true
	});

	SplitLayout.prototype.sizes = function () {
		return SplitLayoutPrivate.normalize(this._sizers.map(function (s) { return s.size; }));
	};

	SplitLayout.prototype.setSizes = function (sizes) {
		var normed = SplitLayoutPrivate.normalize(sizes);
		for (var i = 0, n = this._sizers.length; i < n; ++i) {
			var hint = Math.max(0, normed[i] || 0);
			var sizer = this._sizers[i];
			sizer.sizeHint = hint;
			sizer.size = hint;
		}
		this._normed = true;
		if (this.parent)
			this.parent.update();
	};

	SplitLayout.prototype.handleAt = function (index) {
		return this._handles[index];
	};

	SplitLayout.prototype.moveHandle = function (index, position) {

		var handle = this._handles[index];
		if (!handle || handle.classList.contains(HIDDEN_CLASS)) {
			return;
		}

		var delta;
		if (this._orientation === Orientation.Horizontal) {
			delta = position - handle.offsetLeft;
		}
		else {
			delta = position - handle.offsetTop;
		}

		if (delta === 0) {
			return;
		}

		for (var _i = 0, _a = this._sizers; _i < _a.length; _i++) {
			var sizer = _a[_i];
			if (sizer.size > 0)
				sizer.sizeHint = sizer.size;
		}

		if (delta > 0) {
			SplitLayoutPrivate.growSizer(this._sizers, index, delta);
		}
		else {
			SplitLayoutPrivate.shrinkSizer(this._sizers, index, -delta);
		}

		if (this.parent)
			this.parent.update();
	};

	SplitLayout.prototype.initialize = function () {
		SplitLayoutPrivate.toggleOrientation(this.parent, this.orientation);
		_super.prototype.initialize.call(this);
	};

	SplitLayout.prototype.attachChild = function (index, child) {
		var handle = SplitLayoutPrivate.createHandle(this._factory);
		var average = SplitLayoutPrivate.averageSize(this._sizers);
		var sizer = SplitLayoutPrivate.createSizer(average);
		arrays.insert(this._sizers, index, sizer);
		arrays.insert(this._handles, index, handle);
		SplitLayoutPrivate.prepareGeometry(child);
		this.parent.node.appendChild(child.node);
		this.parent.node.appendChild(handle);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
		this.parent.fit();
	};

	SplitLayout.prototype.moveChild = function (fromIndex, toIndex, child) {
		arrays.move(this._sizers, fromIndex, toIndex);
		arrays.move(this._handles, fromIndex, toIndex);
		this.parent.fit();
	};

	SplitLayout.prototype.detachChild = function (index, child) {
		var sizer = arrays.removeAt(this._sizers, index);
		var handle = arrays.removeAt(this._handles, index);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
		this.parent.node.removeChild(handle);
		SplitLayoutPrivate.resetGeometry(child);
		this.parent.fit();
	};

	SplitLayout.prototype.onAfterShow = function (msg) {
		_super.prototype.onAfterShow.call(this, msg);
		this.parent.update();
	};

	SplitLayout.prototype.onAfterAttach = function (msg) {
		_super.prototype.onAfterAttach.call(this, msg);
		this.parent.fit();
	};

	SplitLayout.prototype.onChildShown = function (msg) {
		if (SplitLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	SplitLayout.prototype.onChildHidden = function (msg) {
		if (SplitLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	SplitLayout.prototype.onResize = function (msg) {
		if (this.parent.isVisible) {
			this._update(msg.width, msg.height);
		}
	};

	SplitLayout.prototype.onUpdateRequest = function (msg) {
		if (this.parent.isVisible) {
			this._update(-1, -1);
		}
	};

	SplitLayout.prototype.onFitRequest = function (msg) {
		if (this.parent.isAttached) {
			this._fit();
		}
	};

	SplitLayout.prototype._fit = function () {

		var nVisible = 0;
		var lastHandle = null;
		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var handle = this._handles[i];
			if (this.childAt(i).isHidden) {
				handle.classList.add(HIDDEN_CLASS);
			}
			else {
				handle.classList.remove(HIDDEN_CLASS);
				lastHandle = handle;
				nVisible++;
			}
		}

		if (lastHandle)
			lastHandle.classList.add(HIDDEN_CLASS);

		this._fixed = this._spacing * Math.max(0, nVisible - 1);

		var minW = 0;
		var minH = 0;
		var maxW = Infinity;
		var maxH = Infinity;
		var horz = this._orientation === Orientation.Horizontal;
		if (horz) {
			minW = this._fixed;
			maxW = nVisible > 0 ? minW : maxW;
		}
		else {
			minH = this._fixed;
			maxH = nVisible > 0 ? minH : maxH;
		}

		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			var sizer = this._sizers[i];
			if (sizer.size > 0) {
				sizer.sizeHint = sizer.size;
			}
			if (child.isHidden) {
				sizer.minSize = 0;
				sizer.maxSize = 0;
				continue;
			}
			var limits = phosphor_domutil_1.sizeLimits(child.node);
			sizer.stretch = SplitLayout.getStretch(child);
			if (horz) {
				sizer.minSize = limits.minWidth;
				sizer.maxSize = limits.maxWidth;
				minW += limits.minWidth;
				maxW += limits.maxWidth;
				minH = Math.max(minH, limits.minHeight);
				maxH = Math.min(maxH, limits.maxHeight);
			}
			else {
				sizer.minSize = limits.minHeight;
				sizer.maxSize = limits.maxHeight;
				minH += limits.minHeight;
				maxH += limits.maxHeight;
				minW = Math.max(minW, limits.minWidth);
				maxW = Math.min(maxW, limits.maxWidth);
			}
		}

		var box = this._box = phosphor_domutil_1.boxSizing(this.parent.node);
		minW += box.horizontalSum;
		minH += box.verticalSum;
		maxW += box.horizontalSum;
		maxH += box.verticalSum;

		var style = this.parent.node.style;
		style.minWidth = minW + "px";
		style.minHeight = minH + "px";
		style.maxWidth = maxW === Infinity ? 'none' : maxW + "px";
		style.maxHeight = maxH === Infinity ? 'none' : maxH + "px";

		var ancestor = this.parent.parent;
		if (ancestor)
			phosphor_messaging_1.sendMessage(ancestor, phosphor_widget_1.Widget.MsgFitRequest);

		phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgUpdateRequest);
	};

	SplitLayout.prototype._update = function (offsetWidth, offsetHeight) {

		if (this.childCount() === 0) {
			return;
		}

		if (offsetWidth < 0) {
			offsetWidth = this.parent.node.offsetWidth;
		}
		if (offsetHeight < 0) {
			offsetHeight = this.parent.node.offsetHeight;
		}

		var box = this._box || (this._box = phosphor_domutil_1.boxSizing(this.parent.node));

		var top = box.paddingTop;
		var left = box.paddingLeft;
		var width = offsetWidth - box.horizontalSum;
		var height = offsetHeight - box.verticalSum;

		var space;
		var horz = this._orientation === Orientation.Horizontal;
		if (horz) {
			space = Math.max(0, width - this._fixed);
		}
		else {
			space = Math.max(0, height - this._fixed);
		}

		if (this._normed) {
			for (var _i = 0, _a = this._sizers; _i < _a.length; _i++) {
				var sizer = _a[_i];
				sizer.sizeHint *= space;
			}
			this._normed = false;
		}

		phosphor_boxengine_1.boxCalc(this._sizers, space);

		var spacing = this._spacing;
		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			if (child.isHidden) {
				continue;
			}
			var handle = this._handles[i];
			var size = this._sizers[i].size;
			if (horz) {
				SplitLayoutPrivate.setGeometry(child, left, top, size, height);
				left += size;
				SplitLayoutPrivate.setHandleGeo(handle, left, top, spacing, height);
				left += spacing;
			}
			else {
				SplitLayoutPrivate.setGeometry(child, left, top, width, size);
				top += size;
				SplitLayoutPrivate.setHandleGeo(handle, left, top, width, spacing);
				top += spacing;
			}
		}
	};
	return SplitLayout;
})(phosphor_panel_1.PanelLayout);
exports.SplitLayout = SplitLayout;

var SplitLayout;
(function (SplitLayout) {

	SplitLayout.Horizontal = Orientation.Horizontal;

	SplitLayout.Vertical = Orientation.Vertical;

	function getStretch(widget) {
		return SplitLayoutPrivate.stretchProperty.get(widget);
	}
	SplitLayout.getStretch = getStretch;

	function setStretch(widget, value) {
		SplitLayoutPrivate.stretchProperty.set(widget, value);
	}
	SplitLayout.setStretch = setStretch;
})(SplitLayout = exports.SplitLayout || (exports.SplitLayout = {}));

var SplitLayoutPrivate;
(function (SplitLayoutPrivate) {

	SplitLayoutPrivate.IsIE = /Trident/.test(navigator.userAgent);

	SplitLayoutPrivate.stretchProperty = new phosphor_properties_1.Property({
		name: 'stretch',
		value: 0,
		coerce: function (owner, value) { return Math.max(0, value | 0); },
		changed: onChildPropertyChanged,
	});

	function createSizer(size) {
		var sizer = new phosphor_boxengine_1.BoxSizer();
		sizer.sizeHint = size | 0;
		return sizer;
	}
	SplitLayoutPrivate.createSizer = createSizer;

	function createHandle(factory) {
		var handle = factory.createHandle();
		handle.style.position = 'absolute';
		return handle;
	}
	SplitLayoutPrivate.createHandle = createHandle;

	function toggleOrientation(widget, orient) {
		widget.toggleClass(HORIZONTAL_CLASS, orient === Orientation.Horizontal);
		widget.toggleClass(VERTICAL_CLASS, orient === Orientation.Vertical);
	}
	SplitLayoutPrivate.toggleOrientation = toggleOrientation;

	function prepareGeometry(widget) {
		widget.node.style.position = 'absolute';
	}
	SplitLayoutPrivate.prepareGeometry = prepareGeometry;

	function resetGeometry(widget) {
		var rect = rectProperty.get(widget);
		var style = widget.node.style;
		rect.top = NaN;
		rect.left = NaN;
		rect.width = NaN;
		rect.height = NaN;
		style.position = '';
		style.top = '';
		style.left = '';
		style.width = '';
		style.height = '';
	}
	SplitLayoutPrivate.resetGeometry = resetGeometry;

	function setGeometry(widget, left, top, width, height) {
		var resized = false;
		var style = widget.node.style;
		var rect = rectProperty.get(widget);
		if (rect.top !== top) {
			rect.top = top;
			style.top = top + "px";
		}
		if (rect.left !== left) {
			rect.left = left;
			style.left = left + "px";
		}
		if (rect.width !== width) {
			resized = true;
			rect.width = width;
			style.width = width + "px";
		}
		if (rect.height !== height) {
			resized = true;
			rect.height = height;
			style.height = height + "px";
		}
		if (resized) {
			phosphor_messaging_1.sendMessage(widget, new phosphor_widget_1.ResizeMessage(width, height));
		}
	}
	SplitLayoutPrivate.setGeometry = setGeometry;

	function setHandleGeo(handle, left, top, width, height) {
		var style = handle.style;
		style.top = top + "px";
		style.left = left + "px";
		style.width = width + "px";
		style.height = height + "px";
	}
	SplitLayoutPrivate.setHandleGeo = setHandleGeo;

	function averageSize(sizers) {
		if (sizers.length === 0)
			return 0;
		return sizers.reduce(function (v, s) { return v + s.size; }, 0) / sizers.length;
	}
	SplitLayoutPrivate.averageSize = averageSize;

	function normalize(values) {
		var n = values.length;
		if (n === 0) {
			return [];
		}
		var sum = 0;
		for (var i = 0; i < n; ++i) {
			sum += values[i];
		}
		var result = new Array(n);
		if (sum === 0) {
			for (var i = 0; i < n; ++i) {
				result[i] = 1 / n;
			}
		}
		else {
			for (var i = 0; i < n; ++i) {
				result[i] = values[i] / sum;
			}
		}
		return result;
	}
	SplitLayoutPrivate.normalize = normalize;

	function growSizer(sizers, index, delta) {
		var growLimit = 0;
		for (var i = 0; i <= index; ++i) {
			var sizer = sizers[i];
			growLimit += sizer.maxSize - sizer.size;
		}
		var shrinkLimit = 0;
		for (var i = index + 1, n = sizers.length; i < n; ++i) {
			var sizer = sizers[i];
			shrinkLimit += sizer.size - sizer.minSize;
		}
		delta = Math.min(delta, growLimit, shrinkLimit);
		var grow = delta;
		for (var i = index; i >= 0 && grow > 0; --i) {
			var sizer = sizers[i];
			var limit = sizer.maxSize - sizer.size;
			if (limit >= grow) {
				sizer.sizeHint = sizer.size + grow;
				grow = 0;
			}
			else {
				sizer.sizeHint = sizer.size + limit;
				grow -= limit;
			}
		}
		var shrink = delta;
		for (var i = index + 1, n = sizers.length; i < n && shrink > 0; ++i) {
			var sizer = sizers[i];
			var limit = sizer.size - sizer.minSize;
			if (limit >= shrink) {
				sizer.sizeHint = sizer.size - shrink;
				shrink = 0;
			}
			else {
				sizer.sizeHint = sizer.size - limit;
				shrink -= limit;
			}
		}
	}
	SplitLayoutPrivate.growSizer = growSizer;

	function shrinkSizer(sizers, index, delta) {
		var growLimit = 0;
		for (var i = index + 1, n = sizers.length; i < n; ++i) {
			var sizer = sizers[i];
			growLimit += sizer.maxSize - sizer.size;
		}
		var shrinkLimit = 0;
		for (var i = 0; i <= index; ++i) {
			var sizer = sizers[i];
			shrinkLimit += sizer.size - sizer.minSize;
		}
		delta = Math.min(delta, growLimit, shrinkLimit);
		var grow = delta;
		for (var i = index + 1, n = sizers.length; i < n && grow > 0; ++i) {
			var sizer = sizers[i];
			var limit = sizer.maxSize - sizer.size;
			if (limit >= grow) {
				sizer.sizeHint = sizer.size + grow;
				grow = 0;
			}
			else {
				sizer.sizeHint = sizer.size + limit;
				grow -= limit;
			}
		}
		var shrink = delta;
		for (var i = index; i >= 0 && shrink > 0; --i) {
			var sizer = sizers[i];
			var limit = sizer.size - sizer.minSize;
			if (limit >= shrink) {
				sizer.sizeHint = sizer.size - shrink;
				shrink = 0;
			}
			else {
				sizer.sizeHint = sizer.size - limit;
				shrink -= limit;
			}
		}
	}
	SplitLayoutPrivate.shrinkSizer = shrinkSizer;

	var rectProperty = new phosphor_properties_1.Property({
		name: 'rect',
		create: function () { return ({ top: NaN, left: NaN, width: NaN, height: NaN }); },
	});

	function onChildPropertyChanged(child) {
		var parent = child.parent;
		var layout = parent && parent.layout;
		if (layout instanceof SplitLayout)
			parent.fit();
	}
})(SplitLayoutPrivate || (SplitLayoutPrivate = {}));

},{"phosphor-arrays":38,"phosphor-boxengine":3,"phosphor-domutil":17,"phosphor-messaging":25,"phosphor-panel":28,"phosphor-properties":32,"phosphor-widget":48}],37:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_panel_1 = require('phosphor-panel');
var layout_1 = require('./layout');

var SPLIT_PANEL_CLASS = 'p-SplitPanel';

var CHILD_CLASS = 'p-SplitPanel-child';

var HANDLE_CLASS = 'p-SplitPanel-handle';

var SplitPanel = (function (_super) {
	__extends(SplitPanel, _super);

	function SplitPanel() {
		_super.call(this);
		this._pressData = null;
		this.addClass(SPLIT_PANEL_CLASS);
	}

	SplitPanel.createLayout = function () {
		return new layout_1.SplitLayout(this);
	};

	SplitPanel.createHandle = function () {
		var handle = document.createElement('div');
		handle.className = HANDLE_CLASS;
		return handle;
	};

	SplitPanel.prototype.dispose = function () {
		this._releaseMouse();
		_super.prototype.dispose.call(this);
	};
	Object.defineProperty(SplitPanel.prototype, "orientation", {

		get: function () {
			return this.layout.orientation;
		},

		set: function (value) {
			this.layout.orientation = value;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(SplitPanel.prototype, "spacing", {

		get: function () {
			return this.layout.spacing;
		},

		set: function (value) {
			this.layout.spacing = value;
		},
		enumerable: true,
		configurable: true
	});

	SplitPanel.prototype.sizes = function () {
		return this.layout.sizes();
	};

	SplitPanel.prototype.setSizes = function (sizes) {
		this.layout.setSizes(sizes);
	};

	SplitPanel.prototype.handleAt = function (index) {
		return this.layout.handleAt(index);
	};

	SplitPanel.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'mousedown':
				this._evtMouseDown(event);
				break;
			case 'mousemove':
				this._evtMouseMove(event);
				break;
			case 'mouseup':
				this._evtMouseUp(event);
				break;
			case 'keydown':
				this._evtKeyDown(event);
				break;
			case 'keyup':
			case 'keypress':
			case 'contextmenu':

				event.preventDefault();
				event.stopPropagation();
				break;
		}
	};

	SplitPanel.prototype.onAfterAttach = function (msg) {
		this.node.addEventListener('mousedown', this);
	};

	SplitPanel.prototype.onBeforeDetach = function (msg) {
		this.node.removeEventListener('mousedown', this);
		this._releaseMouse();
	};

	SplitPanel.prototype.onChildAdded = function (msg) {
		msg.child.addClass(CHILD_CLASS);
		this._releaseMouse();
	};

	SplitPanel.prototype.onChildRemoved = function (msg) {
		msg.child.removeClass(CHILD_CLASS);
		this._releaseMouse();
	};

	SplitPanel.prototype._evtKeyDown = function (event) {

		event.preventDefault();
		event.stopPropagation();

		if (event.keyCode === 27)
			this._releaseMouse();
	};

	SplitPanel.prototype._evtMouseDown = function (event) {

		if (event.button !== 0) {
			return;
		}

		var layout = this.layout;
		var target = event.target;
		var _a = SplitPanelPrivate.findHandle(layout, target), index = _a.index, handle = _a.handle;
		if (index === -1) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		document.addEventListener('mouseup', this, true);
		document.addEventListener('mousemove', this, true);
		document.addEventListener('keydown', this, true);
		document.addEventListener('keyup', this, true);
		document.addEventListener('keypress', this, true);
		document.addEventListener('contextmenu', this, true);

		var delta;
		var rect = handle.getBoundingClientRect();
		if (layout.orientation === layout_1.Orientation.Horizontal) {
			delta = event.clientX - rect.left;
		}
		else {
			delta = event.clientY - rect.top;
		}

		var style = window.getComputedStyle(handle);
		var override = phosphor_domutil_1.overrideCursor(style.cursor);
		this._pressData = { index: index, delta: delta, override: override };
	};

	SplitPanel.prototype._evtMouseMove = function (event) {

		event.preventDefault();
		event.stopPropagation();

		var pos;
		var layout = this.layout;
		var rect = this.node.getBoundingClientRect();
		if (layout.orientation === layout_1.Orientation.Horizontal) {
			pos = event.clientX - rect.left - this._pressData.delta;
		}
		else {
			pos = event.clientY - rect.top - this._pressData.delta;
		}

		layout.moveHandle(this._pressData.index, pos);
	};

	SplitPanel.prototype._evtMouseUp = function (event) {

		if (event.button !== 0) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		this._releaseMouse();
	};

	SplitPanel.prototype._releaseMouse = function () {

		if (!this._pressData) {
			return;
		}

		this._pressData.override.dispose();
		this._pressData = null;

		document.removeEventListener('mouseup', this, true);
		document.removeEventListener('mousemove', this, true);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('keyup', this, true);
		document.removeEventListener('keypress', this, true);
		document.removeEventListener('contextmenu', this, true);
	};
	return SplitPanel;
})(phosphor_panel_1.Panel);
exports.SplitPanel = SplitPanel;

var SplitPanel;
(function (SplitPanel) {

	SplitPanel.Horizontal = layout_1.Orientation.Horizontal;

	SplitPanel.Vertical = layout_1.Orientation.Vertical;

	function getStretch(widget) {
		return layout_1.SplitLayout.getStretch(widget);
	}
	SplitPanel.getStretch = getStretch;

	function setStretch(widget, value) {
		layout_1.SplitLayout.setStretch(widget, value);
	}
	SplitPanel.setStretch = setStretch;
})(SplitPanel = exports.SplitPanel || (exports.SplitPanel = {}));

var SplitPanelPrivate;
(function (SplitPanelPrivate) {

	function findHandle(layout, target) {
		for (var i = 0, n = layout.childCount(); i < n; ++i) {
			var handle = layout.handleAt(i);
			if (handle.contains(target)) {
				return { index: i, handle: handle };
			}
		}
		return { index: -1, handle: null };
	}
	SplitPanelPrivate.findHandle = findHandle;
})(SplitPanelPrivate || (SplitPanelPrivate = {}));

},{"./layout":36,"phosphor-domutil":17,"phosphor-panel":28}],38:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"dup":7}],39:[function(require,module,exports){
arguments[4][4][0].apply(exports,arguments)
},{"./layout":40,"./panel":41,"dup":4}],40:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_panel_1 = require('phosphor-panel');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_widget_1 = require('phosphor-widget');

var StackedLayout = (function (_super) {
	__extends(StackedLayout, _super);
	function StackedLayout() {
		_super.apply(this, arguments);
		this._box = null;
	}

	StackedLayout.prototype.attachChild = function (index, child) {
		StackedLayoutPrivate.prepareGeometry(child);
		this.parent.node.appendChild(child.node);
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgAfterAttach);
		this.parent.fit();
	};

	StackedLayout.prototype.moveChild = function (fromIndex, toIndex, child) {
		this.parent.update();
	};

	StackedLayout.prototype.detachChild = function (index, child) {
		if (this.parent.isAttached)
			phosphor_messaging_1.sendMessage(child, phosphor_widget_1.Widget.MsgBeforeDetach);
		this.parent.node.removeChild(child.node);
		StackedLayoutPrivate.resetGeometry(child);
		child.node.style.zIndex = '';
		this.parent.fit();
	};

	StackedLayout.prototype.onAfterShow = function (msg) {
		_super.prototype.onAfterShow.call(this, msg);
		this.parent.update();
	};

	StackedLayout.prototype.onAfterAttach = function (msg) {
		_super.prototype.onAfterAttach.call(this, msg);
		this.parent.fit();
	};

	StackedLayout.prototype.onChildShown = function (msg) {
		if (StackedLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	StackedLayout.prototype.onChildHidden = function (msg) {
		if (StackedLayoutPrivate.IsIE) {
			phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgFitRequest);
		}
		else {
			this.parent.fit();
		}
	};

	StackedLayout.prototype.onResize = function (msg) {
		if (this.parent.isVisible) {
			this._update(msg.width, msg.height);
		}
	};

	StackedLayout.prototype.onUpdateRequest = function (msg) {
		if (this.parent.isVisible) {
			this._update(-1, -1);
		}
	};

	StackedLayout.prototype.onFitRequest = function (msg) {
		if (this.parent.isAttached) {
			this._fit();
		}
	};

	StackedLayout.prototype._fit = function () {

		var minW = 0;
		var minH = 0;
		var maxW = Infinity;
		var maxH = Infinity;

		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			if (child.isHidden) {
				continue;
			}
			var limits = phosphor_domutil_1.sizeLimits(child.node);
			minW = Math.max(minW, limits.minWidth);
			minH = Math.max(minH, limits.minHeight);
			maxW = Math.min(maxW, limits.maxWidth);
			maxH = Math.min(maxH, limits.maxHeight);
		}

		maxW = Math.max(minW, maxW);
		maxH = Math.max(minH, maxH);

		var box = this._box = phosphor_domutil_1.boxSizing(this.parent.node);
		minW += box.horizontalSum;
		minH += box.verticalSum;
		maxW += box.horizontalSum;
		maxH += box.verticalSum;

		var style = this.parent.node.style;
		style.minWidth = minW + "px";
		style.minHeight = minH + "px";
		style.maxWidth = maxW === Infinity ? 'none' : maxW + "px";
		style.maxHeight = maxH === Infinity ? 'none' : maxH + "px";

		var ancestor = this.parent.parent;
		if (ancestor)
			phosphor_messaging_1.sendMessage(ancestor, phosphor_widget_1.Widget.MsgFitRequest);

		phosphor_messaging_1.sendMessage(this.parent, phosphor_widget_1.Widget.MsgUpdateRequest);
	};

	StackedLayout.prototype._update = function (offsetWidth, offsetHeight) {

		if (this.childCount() === 0) {
			return;
		}

		if (offsetWidth < 0) {
			offsetWidth = this.parent.node.offsetWidth;
		}
		if (offsetHeight < 0) {
			offsetHeight = this.parent.node.offsetHeight;
		}

		var box = this._box || (this._box = phosphor_domutil_1.boxSizing(this.parent.node));

		var top = box.paddingTop;
		var left = box.paddingLeft;
		var width = offsetWidth - box.horizontalSum;
		var height = offsetHeight - box.verticalSum;

		for (var i = 0, n = this.childCount(); i < n; ++i) {
			var child = this.childAt(i);
			if (child.isHidden) {
				continue;
			}
			child.node.style.zIndex = "" + i;
			StackedLayoutPrivate.setGeometry(child, left, top, width, height);
		}
	};
	return StackedLayout;
})(phosphor_panel_1.PanelLayout);
exports.StackedLayout = StackedLayout;

var StackedLayoutPrivate;
(function (StackedLayoutPrivate) {

	StackedLayoutPrivate.IsIE = /Trident/.test(navigator.userAgent);

	function prepareGeometry(widget) {
		widget.node.style.position = 'absolute';
	}
	StackedLayoutPrivate.prepareGeometry = prepareGeometry;

	function resetGeometry(widget) {
		var rect = rectProperty.get(widget);
		var style = widget.node.style;
		rect.top = NaN;
		rect.left = NaN;
		rect.width = NaN;
		rect.height = NaN;
		style.position = '';
		style.top = '';
		style.left = '';
		style.width = '';
		style.height = '';
	}
	StackedLayoutPrivate.resetGeometry = resetGeometry;

	function setGeometry(widget, left, top, width, height) {
		var resized = false;
		var style = widget.node.style;
		var rect = rectProperty.get(widget);
		if (rect.top !== top) {
			rect.top = top;
			style.top = top + "px";
		}
		if (rect.left !== left) {
			rect.left = left;
			style.left = left + "px";
		}
		if (rect.width !== width) {
			resized = true;
			rect.width = width;
			style.width = width + "px";
		}
		if (rect.height !== height) {
			resized = true;
			rect.height = height;
			style.height = height + "px";
		}
		if (resized) {
			phosphor_messaging_1.sendMessage(widget, new phosphor_widget_1.ResizeMessage(width, height));
		}
	}
	StackedLayoutPrivate.setGeometry = setGeometry;

	var rectProperty = new phosphor_properties_1.Property({
		name: 'rect',
		create: function () { return ({ top: NaN, left: NaN, width: NaN, height: NaN }); },
	});
})(StackedLayoutPrivate || (StackedLayoutPrivate = {}));

},{"phosphor-domutil":17,"phosphor-messaging":25,"phosphor-panel":28,"phosphor-properties":32,"phosphor-widget":48}],41:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_panel_1 = require('phosphor-panel');
var phosphor_signaling_1 = require('phosphor-signaling');
var layout_1 = require('./layout');

var STACKED_PANEL_CLASS = 'p-StackedPanel';

var CHILD_CLASS = 'p-StackedPanel-child';

var StackedPanel = (function (_super) {
	__extends(StackedPanel, _super);

	function StackedPanel() {
		_super.call(this);
		this.addClass(STACKED_PANEL_CLASS);
	}

	StackedPanel.createLayout = function () {
		return new layout_1.StackedLayout();
	};
	Object.defineProperty(StackedPanel.prototype, "widgetRemoved", {

		get: function () {
			return StackedPanelPrivate.widgetRemovedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});

	StackedPanel.prototype.onChildAdded = function (msg) {
		msg.child.addClass(CHILD_CLASS);
	};

	StackedPanel.prototype.onChildRemoved = function (msg) {
		msg.child.removeClass(CHILD_CLASS);
		this.widgetRemoved.emit(msg.child);
	};
	return StackedPanel;
})(phosphor_panel_1.Panel);
exports.StackedPanel = StackedPanel;

var StackedPanelPrivate;
(function (StackedPanelPrivate) {

	StackedPanelPrivate.widgetRemovedSignal = new phosphor_signaling_1.Signal();
})(StackedPanelPrivate || (StackedPanelPrivate = {}));

},{"./layout":40,"phosphor-panel":28,"phosphor-signaling":33}],42:[function(require,module,exports){
var css = ".p-TabBar{display:flex;flex-direction:column}.p-TabBar-footer,.p-TabBar-header{flex:0 0 auto}.p-TabBar-body{display:flex;flex-direction:row;flex:1 1 auto}.p-TabBar-content{display:flex;flex-direction:row;flex:1 1 auto;margin:0;padding:0;list-style-type:none}.p-TabBar-tab{display:flex;flex-direction:row;box-sizing:border-box;overflow:hidden}.p-TabBar-tabCloseIcon,.p-TabBar-tabIcon{flex:0 0 auto}.p-TabBar-tabText{flex:1 1 auto;overflow:hidden;white-space:nowrap}.p-TabBar.p-mod-dragging .p-TabBar-tab{position:relative;left:0;transition:left 150ms ease}.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging{transition:none}.p-TabPanel-tabBar{z-index:1}.p-TabPanel-stackedPanel{z-index:0}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-tabs\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],43:[function(require,module,exports){

'use strict';
function __export(m) {
	for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(require('./tabbar'));
__export(require('./tabpanel'));
require('./index.css');

},{"./index.css":42,"./tabbar":44,"./tabpanel":45}],44:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var arrays = require('phosphor-arrays');
var phosphor_domutil_1 = require('phosphor-domutil');
var phosphor_signaling_1 = require('phosphor-signaling');
var phosphor_widget_1 = require('phosphor-widget');

var TAB_BAR_CLASS = 'p-TabBar';

var BODY_CLASS = 'p-TabBar-body';

var HEADER_CLASS = 'p-TabBar-header';

var CONTENT_CLASS = 'p-TabBar-content';

var FOOTER_CLASS = 'p-TabBar-footer';

var TAB_CLASS = 'p-TabBar-tab';

var TEXT_CLASS = 'p-TabBar-tabText';

var ICON_CLASS = 'p-TabBar-tabIcon';

var CLOSE_CLASS = 'p-TabBar-tabCloseIcon';

var DRAGGING_CLASS = 'p-mod-dragging';

var CURRENT_CLASS = 'p-mod-current';

var CLOSABLE_CLASS = 'p-mod-closable';

var DRAG_THRESHOLD = 5;

var DETACH_THRESHOLD = 20;

var TRANSITION_DURATION = 150;

var TabBar = (function (_super) {
	__extends(TabBar, _super);

	function TabBar() {
		_super.call(this);
		this._tabsMovable = false;
		this._items = [];
		this._tabs = [];
		this._dirtySet = new Set();
		this._currentItem = null;
		this._dragData = null;
		this.addClass(TAB_BAR_CLASS);
	}

	TabBar.createNode = function () {
		var node = document.createElement('div');
		var header = document.createElement('div');
		var body = document.createElement('div');
		var footer = document.createElement('div');
		var content = document.createElement('ul');
		header.className = HEADER_CLASS;
		body.className = BODY_CLASS;
		footer.className = FOOTER_CLASS;
		content.className = CONTENT_CLASS;
		body.appendChild(content);
		node.appendChild(header);
		node.appendChild(body);
		node.appendChild(footer);
		return node;
	};

	TabBar.createTab = function (title) {
		var node = document.createElement('li');
		var icon = document.createElement('span');
		var text = document.createElement('span');
		var close = document.createElement('span');
		node.className = TAB_CLASS;
		icon.className = ICON_CLASS;
		text.className = TEXT_CLASS;
		close.className = CLOSE_CLASS;
		node.appendChild(icon);
		node.appendChild(text);
		node.appendChild(close);
		this.updateTab(node, title);
		return node;
	};

	TabBar.updateTab = function (tab, title) {
		var tabInfix = title.className ? ' ' + title.className : '';
		var tabSuffix = title.closable ? ' ' + CLOSABLE_CLASS : '';
		var iconSuffix = title.icon ? ' ' + title.icon : '';
		var icon = tab.firstChild;
		var text = icon.nextSibling;
		tab.className = TAB_CLASS + tabInfix + tabSuffix;
		icon.className = ICON_CLASS + iconSuffix;
		text.textContent = title.text;
	};

	TabBar.tabCloseIcon = function (tab) {
		return tab.lastChild;
	};

	TabBar.prototype.dispose = function () {
		this._releaseMouse();
		this._tabs.length = 0;
		this._items.length = 0;
		this._dirtySet.clear();
		this._currentItem = null;
		_super.prototype.dispose.call(this);
	};
	Object.defineProperty(TabBar.prototype, "currentChanged", {

		get: function () {
			return TabBarPrivate.currentChangedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "tabMoved", {

		get: function () {
			return TabBarPrivate.tabMovedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "tabCloseRequested", {

		get: function () {
			return TabBarPrivate.tabCloseRequestedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "tabDetachRequested", {

		get: function () {
			return TabBarPrivate.tabDetachRequestedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "currentItem", {

		get: function () {
			return this._currentItem;
		},

		set: function (value) {
			var item = value || null;
			if (this._currentItem === item) {
				return;
			}
			var index = item ? this._items.indexOf(item) : -1;
			if (item && index === -1) {
				console.warn('Tab item not contained in tab bar.');
				return;
			}
			this._currentItem = item;
			this.currentChanged.emit({ index: index, item: item });
			this.update();
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "tabsMovable", {

		get: function () {
			return this._tabsMovable;
		},

		set: function (value) {
			this._tabsMovable = value;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "headerNode", {

		get: function () {
			return this.node.getElementsByClassName(HEADER_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "bodyNode", {

		get: function () {
			return this.node.getElementsByClassName(BODY_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "footerNode", {

		get: function () {
			return this.node.getElementsByClassName(FOOTER_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabBar.prototype, "contentNode", {

		get: function () {
			return this.node.getElementsByClassName(CONTENT_CLASS)[0];
		},
		enumerable: true,
		configurable: true
	});

	TabBar.prototype.itemCount = function () {
		return this._items.length;
	};

	TabBar.prototype.itemAt = function (index) {
		return this._items[index];
	};

	TabBar.prototype.itemIndex = function (item) {
		return this._items.indexOf(item);
	};

	TabBar.prototype.addItem = function (item) {
		this.insertItem(this.itemCount(), item);
	};

	TabBar.prototype.insertItem = function (index, item) {
		this._releaseMouse();
		var n = this._items.length;
		var i = this._items.indexOf(item);
		var j = Math.max(0, Math.min(index | 0, n));
		if (i !== -1) {
			if (j === n)
				j--;
			if (i === j)
				return;
			arrays.move(this._tabs, i, j);
			arrays.move(this._items, i, j);
			this.contentNode.insertBefore(this._tabs[j], this._tabs[j + 1]);
		}
		else {
			var tab = this.constructor.createTab(item.title);
			arrays.insert(this._tabs, j, tab);
			arrays.insert(this._items, j, item);
			this.contentNode.insertBefore(tab, this._tabs[j + 1]);
			item.title.changed.connect(this._onTitleChanged, this);
			if (!this.currentItem)
				this.currentItem = item;
		}
		this.update();
	};

	TabBar.prototype.removeItem = function (item) {
		this._releaseMouse();
		var i = arrays.remove(this._items, item);
		if (i === -1) {
			return;
		}
		this._dirtySet.delete(item.title);
		item.title.changed.disconnect(this._onTitleChanged, this);
		this.contentNode.removeChild(arrays.removeAt(this._tabs, i));
		if (this.currentItem === item) {
			var next = this._items[i];
			var prev = this._items[i - 1];
			this.currentItem = next || prev;
		}
		this.update();
	};

	TabBar.prototype.tabAt = function (index) {
		return this._tabs[index];
	};

	TabBar.prototype.releaseMouse = function () {
		this._releaseMouse();
	};

	TabBar.prototype.handleEvent = function (event) {
		switch (event.type) {
			case 'click':
				this._evtClick(event);
				break;
			case 'mousedown':
				this._evtMouseDown(event);
				break;
			case 'mousemove':
				this._evtMouseMove(event);
				break;
			case 'mouseup':
				this._evtMouseUp(event);
				break;
			case 'keydown':
				this._evtKeyDown(event);
				break;
			case 'contextmenu':
				event.preventDefault();
				event.stopPropagation();
				break;
		}
	};

	TabBar.prototype.onAfterAttach = function (msg) {
		this.node.addEventListener('click', this);
		this.node.addEventListener('mousedown', this);
	};

	TabBar.prototype.onBeforeDetach = function (msg) {
		this.node.removeEventListener('click', this);
		this.node.removeEventListener('mousedown', this);
		this._releaseMouse();
	};

	TabBar.prototype.onUpdateRequest = function (msg) {
		var tabs = this._tabs;
		var items = this._items;
		var dirty = this._dirtySet;
		var current = this._currentItem;
		var constructor = this.constructor;
		for (var i = 0, n = tabs.length; i < n; ++i) {
			var tab = tabs[i];
			var item = items[i];
			if (dirty.has(item.title)) {
				constructor.updateTab(tab, item.title);
			}
			if (item === current) {
				tab.classList.add(CURRENT_CLASS);
				tab.style.zIndex = "" + n;
			}
			else {
				tab.classList.remove(CURRENT_CLASS);
				tab.style.zIndex = "" + (n - i - 1);
			}
		}
		dirty.clear();
	};

	TabBar.prototype._evtKeyDown = function (event) {

		event.preventDefault();
		event.stopPropagation();

		if (event.keyCode === 27)
			this._releaseMouse();
	};

	TabBar.prototype._evtClick = function (event) {

		if (event.button !== 0) {
			return;
		}

		if (this._dragData) {
			return;
		}

		var x = event.clientX;
		var y = event.clientY;
		var i = arrays.findIndex(this._tabs, function (tab) { return phosphor_domutil_1.hitTest(tab, x, y); });
		if (i < 0) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		var item = this._items[i];
		if (!item.title.closable) {
			return;
		}

		var constructor = this.constructor;
		var icon = constructor.tabCloseIcon(this._tabs[i]);
		if (!icon.contains(event.target)) {
			return;
		}

		this.tabCloseRequested.emit({ index: i, item: item });
	};

	TabBar.prototype._evtMouseDown = function (event) {

		if (event.button !== 0) {
			return;
		}

		if (this._dragData) {
			return;
		}

		var x = event.clientX;
		var y = event.clientY;
		var i = arrays.findIndex(this._tabs, function (tab) { return phosphor_domutil_1.hitTest(tab, x, y); });
		if (i < 0) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		var constructor = this.constructor;
		var icon = constructor.tabCloseIcon(this._tabs[i]);
		if (icon.contains(event.target)) {
			return;
		}

		if (this._tabsMovable) {
			this._dragData = new TabBarPrivate.DragData();
			this._dragData.index = i;
			this._dragData.tab = this._tabs[i];
			this._dragData.pressX = event.clientX;
			this._dragData.pressY = event.clientY;
			document.addEventListener('mousemove', this, true);
			document.addEventListener('mouseup', this, true);
			document.addEventListener('keydown', this, true);
			document.addEventListener('contextmenu', this, true);
		}

		this.currentItem = this._items[i];
	};

	TabBar.prototype._evtMouseMove = function (event) {

		if (!this._dragData) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		var data = this._dragData;
		if (!data.dragActive) {
			var dx = Math.abs(event.clientX - data.pressX);
			var dy = Math.abs(event.clientY - data.pressY);
			if (dx < DRAG_THRESHOLD && dy < DRAG_THRESHOLD) {
				return;
			}

			var tabRect = data.tab.getBoundingClientRect();
			data.tabLeft = data.tab.offsetLeft;
			data.tabWidth = tabRect.width;
			data.tabPressX = data.pressX - tabRect.left;
			data.tabLayout = TabBarPrivate.snapTabLayout(this._tabs);
			data.contentRect = this.contentNode.getBoundingClientRect();
			data.override = phosphor_domutil_1.overrideCursor('default');

			data.tab.classList.add(DRAGGING_CLASS);
			this.addClass(DRAGGING_CLASS);
			data.dragActive = true;
		}

		if (!data.detachRequested && TabBarPrivate.detachExceeded(data, event)) {
			data.detachRequested = true;
			var index = data.index;
			var item = this._items[index];
			var clientX = event.clientX;
			var clientY = event.clientY;
			this.tabDetachRequested.emit({ index: index, item: item, clientX: clientX, clientY: clientY });
			if (data.dragAborted) {
				return;
			}
		}

		TabBarPrivate.layoutTabs(this._tabs, data, event);
	};

	TabBar.prototype._evtMouseUp = function (event) {
		var _this = this;

		if (event.button !== 0) {
			return;
		}

		if (!this._dragData) {
			return;
		}

		event.preventDefault();
		event.stopPropagation();

		document.removeEventListener('mousemove', this, true);
		document.removeEventListener('mouseup', this, true);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('contextmenu', this, true);

		var data = this._dragData;
		if (!data.dragActive) {
			this._dragData = null;
			return;
		}

		TabBarPrivate.finalizeTabPosition(data);

		data.tab.classList.remove(DRAGGING_CLASS);

		setTimeout(function () {

			if (data.dragAborted) {
				return;
			}

			_this._dragData = null;

			TabBarPrivate.resetTabPositions(_this._tabs);

			data.override.dispose();
			_this.removeClass(DRAGGING_CLASS);

			var i = data.index;
			var j = data.targetIndex;
			if (j === -1 || i === j) {
				return;
			}

			arrays.move(_this._tabs, i, j);
			arrays.move(_this._items, i, j);
			_this.contentNode.insertBefore(_this._tabs[j], _this._tabs[j + 1]);

			_this.tabMoved.emit({ fromIndex: i, toIndex: j, item: _this._items[j] });
			_this.update();
		}, TRANSITION_DURATION);
	};

	TabBar.prototype._releaseMouse = function () {

		if (!this._dragData) {
			return;
		}

		document.removeEventListener('mousemove', this, true);
		document.removeEventListener('mouseup', this, true);
		document.removeEventListener('keydown', this, true);
		document.removeEventListener('contextmenu', this, true);

		var data = this._dragData;
		this._dragData = null;


		data.dragAborted = true;

		if (!data.dragActive) {
			return;
		}

		TabBarPrivate.resetTabPositions(this._tabs);

		data.override.dispose();
		data.tab.classList.remove(DRAGGING_CLASS);
		this.removeClass(DRAGGING_CLASS);
	};

	TabBar.prototype._onTitleChanged = function (sender) {
		this._dirtySet.add(sender);
		this.update();
	};
	return TabBar;
})(phosphor_widget_1.Widget);
exports.TabBar = TabBar;

var TabBarPrivate;
(function (TabBarPrivate) {

	TabBarPrivate.currentChangedSignal = new phosphor_signaling_1.Signal();

	TabBarPrivate.tabMovedSignal = new phosphor_signaling_1.Signal();

	TabBarPrivate.tabCloseRequestedSignal = new phosphor_signaling_1.Signal();

	TabBarPrivate.tabDetachRequestedSignal = new phosphor_signaling_1.Signal();

	var DragData = (function () {
		function DragData() {

			this.tab = null;

			this.index = -1;

			this.tabLeft = -1;

			this.tabWidth = -1;

			this.tabPressX = -1;

			this.targetIndex = -1;

			this.tabLayout = null;

			this.pressX = -1;

			this.pressY = -1;

			this.contentRect = null;

			this.override = null;

			this.dragActive = false;

			this.dragAborted = false;

			this.detachRequested = false;
		}
		return DragData;
	})();
	TabBarPrivate.DragData = DragData;

	function snapTabLayout(tabs) {
		var layout = new Array(tabs.length);
		for (var i = 0, n = tabs.length; i < n; ++i) {
			var node = tabs[i];
			var left = node.offsetLeft;
			var width = node.offsetWidth;
			var cstyle = window.getComputedStyle(node);
			var margin = parseInt(cstyle.marginLeft, 10) || 0;
			layout[i] = { margin: margin, left: left, width: width };
		}
		return layout;
	}
	TabBarPrivate.snapTabLayout = snapTabLayout;

	function detachExceeded(data, event) {
		var rect = data.contentRect;
		return ((event.clientX < rect.left - DETACH_THRESHOLD) ||
			(event.clientX >= rect.right + DETACH_THRESHOLD) ||
			(event.clientY < rect.top - DETACH_THRESHOLD) ||
			(event.clientY >= rect.bottom + DETACH_THRESHOLD));
	}
	TabBarPrivate.detachExceeded = detachExceeded;

	function layoutTabs(tabs, data, event) {
		var targetIndex = data.index;
		var targetLeft = event.clientX - data.contentRect.left - data.tabPressX;
		var targetRight = targetLeft + data.tabWidth;
		for (var i = 0, n = tabs.length; i < n; ++i) {
			var style = tabs[i].style;
			var layout = data.tabLayout[i];
			var threshold = layout.left + (layout.width >> 1);
			if (i < data.index && targetLeft < threshold) {
				style.left = data.tabWidth + data.tabLayout[i + 1].margin + 'px';
				targetIndex = Math.min(targetIndex, i);
			}
			else if (i > data.index && targetRight > threshold) {
				style.left = -data.tabWidth - layout.margin + 'px';
				targetIndex = Math.max(targetIndex, i);
			}
			else if (i === data.index) {
				var ideal = event.clientX - data.pressX;
				var limit = data.contentRect.width - (data.tabLeft + data.tabWidth);
				style.left = Math.max(-data.tabLeft, Math.min(ideal, limit)) + 'px';
			}
			else {
				style.left = '';
			}
		}
		data.targetIndex = targetIndex;
	}
	TabBarPrivate.layoutTabs = layoutTabs;

	function finalizeTabPosition(data) {
		var ideal;
		if (data.targetIndex === data.index) {
			ideal = 0;
		}
		else if (data.targetIndex > data.index) {
			var tgt = data.tabLayout[data.targetIndex];
			ideal = tgt.left + tgt.width - data.tabWidth - data.tabLeft;
		}
		else {
			var tgt = data.tabLayout[data.targetIndex];
			ideal = tgt.left - data.tabLeft;
		}
		var style = data.tab.style;
		var limit = data.contentRect.width - (data.tabLeft + data.tabWidth);
		style.left = Math.max(-data.tabLeft, Math.min(ideal, limit)) + 'px';
	}
	TabBarPrivate.finalizeTabPosition = finalizeTabPosition;

	function resetTabPositions(tabs) {
		for (var i = 0, n = tabs.length; i < n; ++i) {
			tabs[i].style.left = '';
		}
	}
	TabBarPrivate.resetTabPositions = resetTabPositions;
})(TabBarPrivate || (TabBarPrivate = {}));

},{"phosphor-arrays":46,"phosphor-domutil":17,"phosphor-signaling":33,"phosphor-widget":48}],45:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_boxpanel_1 = require('phosphor-boxpanel');
var phosphor_stackedpanel_1 = require('phosphor-stackedpanel');
var phosphor_widget_1 = require('phosphor-widget');
var tabbar_1 = require('./tabbar');

var TAB_PANEL_CLASS = 'p-TabPanel';

var TAB_BAR_CLASS = 'p-TabPanel-tabBar';

var STACKED_PANEL_CLASS = 'p-TabPanel-stackedPanel';

var TabPanel = (function (_super) {
	__extends(TabPanel, _super);

	function TabPanel() {
		_super.call(this);
		this._currentWidget = null;
		this.addClass(TAB_PANEL_CLASS);
		var constructor = this.constructor;
		this._tabBar = constructor.createTabBar();
		this._stackedPanel = constructor.createStackedPanel();
		this._tabBar.tabMoved.connect(this._onTabMoved, this);
		this._tabBar.currentChanged.connect(this._onCurrentChanged, this);
		this._tabBar.tabCloseRequested.connect(this._onTabCloseRequested, this);
		this._stackedPanel.widgetRemoved.connect(this._onWidgetRemoved, this);
		var layout = new phosphor_boxpanel_1.BoxLayout();
		layout.direction = phosphor_boxpanel_1.BoxLayout.TopToBottom;
		layout.spacing = 0;
		phosphor_boxpanel_1.BoxLayout.setStretch(this._tabBar, 0);
		phosphor_boxpanel_1.BoxLayout.setStretch(this._stackedPanel, 1);
		layout.addChild(this._tabBar);
		layout.addChild(this._stackedPanel);
		this.layout = layout;
	}

	TabPanel.createTabBar = function () {
		var tabBar = new tabbar_1.TabBar();
		tabBar.addClass(TAB_BAR_CLASS);
		return tabBar;
	};

	TabPanel.createStackedPanel = function () {
		var stackedPanel = new phosphor_stackedpanel_1.StackedPanel();
		stackedPanel.addClass(STACKED_PANEL_CLASS);
		return stackedPanel;
	};

	TabPanel.prototype.dispose = function () {
		this._tabBar = null;
		this._stackedPanel = null;
		this._currentWidget = null;
		_super.prototype.dispose.call(this);
	};
	Object.defineProperty(TabPanel.prototype, "currentWidget", {

		get: function () {
			return this._tabBar.currentItem;
		},

		set: function (value) {
			this._tabBar.currentItem = value;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabPanel.prototype, "tabsMovable", {

		get: function () {
			return this._tabBar.tabsMovable;
		},

		set: function (value) {
			this._tabBar.tabsMovable = value;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabPanel.prototype, "tabBar", {

		get: function () {
			return this._tabBar;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(TabPanel.prototype, "stackedPanel", {

		get: function () {
			return this._stackedPanel;
		},
		enumerable: true,
		configurable: true
	});

	TabPanel.prototype.childCount = function () {
		return this._stackedPanel.childCount();
	};

	TabPanel.prototype.childAt = function (index) {
		return this._stackedPanel.childAt(index);
	};

	TabPanel.prototype.childIndex = function (child) {
		return this._stackedPanel.childIndex(child);
	};

	TabPanel.prototype.addChild = function (child) {
		this.insertChild(this.childCount(), child);
	};

	TabPanel.prototype.insertChild = function (index, child) {
		if (child !== this._currentWidget)
			child.hide();
		this._stackedPanel.insertChild(index, child);
		this._tabBar.insertItem(index, child);
	};

	TabPanel.prototype._onCurrentChanged = function (sender, args) {
		var oldWidget = this._currentWidget;
		var newWidget = args.item;
		if (oldWidget === newWidget)
			return;
		this._currentWidget = newWidget;
		if (oldWidget)
			oldWidget.hide();
		if (newWidget)
			newWidget.show();
	};

	TabPanel.prototype._onTabCloseRequested = function (sender, args) {
		args.item.close();
	};

	TabPanel.prototype._onTabMoved = function (sender, args) {
		this._stackedPanel.insertChild(args.toIndex, args.item);
	};

	TabPanel.prototype._onWidgetRemoved = function (sender, widget) {
		if (this._currentWidget === widget)
			this._currentWidget = null;
		this._tabBar.removeItem(widget);
	};
	return TabPanel;
})(phosphor_widget_1.Widget);
exports.TabPanel = TabPanel;

},{"./tabbar":44,"phosphor-boxpanel":4,"phosphor-stackedpanel":39,"phosphor-widget":48}],46:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"dup":7}],47:[function(require,module,exports){
var css = ".p-Widget{box-sizing:border-box;position:relative;overflow:hidden;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-Widget.p-mod-hidden{display:none}"; (require("browserify-css").createStyle(css, { "href": "node_modules\\phosphor-widget\\lib\\index.css"})); module.exports = css;
},{"browserify-css":2}],48:[function(require,module,exports){

'use strict';
function __export(m) {
	for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(require('./layout'));
__export(require('./title'));
__export(require('./widget'));
require('./index.css');

},{"./index.css":47,"./layout":49,"./title":50,"./widget":51}],49:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_signaling_1 = require('phosphor-signaling');
var widget_1 = require('./widget');

var Layout = (function () {
	function Layout() {
		this._disposed = false;
		this._parent = null;
	}

	Layout.prototype.dispose = function () {
		this._disposed = true;
		this._parent = null;
		phosphor_signaling_1.clearSignalData(this);
		phosphor_properties_1.clearPropertyData(this);
	};
	Object.defineProperty(Layout.prototype, "isDisposed", {

		get: function () {
			return this._disposed;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Layout.prototype, "parent", {

		get: function () {
			return this._parent;
		},

		set: function (value) {
			if (!value) {
				throw new Error('Cannot set layout parent to null.');
			}
			if (this._parent === value) {
				return;
			}
			if (this._parent) {
				throw new Error('Cannot change layout parent.');
			}
			if (value.layout !== this) {
				throw new Error('Invalid layout parent.');
			}
			this._parent = value;
			this.initialize();
		},
		enumerable: true,
		configurable: true
	});

	Layout.prototype.processParentMessage = function (msg) {
		switch (msg.type) {
			case 'resize':
				this.onResize(msg);
				break;
			case 'update-request':
				this.onUpdateRequest(msg);
				break;
			case 'fit-request':
				this.onFitRequest(msg);
				break;
			case 'after-attach':
				this.onAfterAttach(msg);
				break;
			case 'before-detach':
				this.onBeforeDetach(msg);
				break;
			case 'after-show':
				this.onAfterShow(msg);
				break;
			case 'before-hide':
				this.onBeforeHide(msg);
				break;
			case 'child-removed':
				this.onChildRemoved(msg);
				break;
			case 'child-shown':
				this.onChildShown(msg);
				break;
			case 'child-hidden':
				this.onChildHidden(msg);
				break;
		}
	};

	Layout.prototype.onFitRequest = function (msg) { };

	Layout.prototype.onChildShown = function (msg) { };

	Layout.prototype.onChildHidden = function (msg) { };
	return Layout;
})();
exports.Layout = Layout;

var AbstractLayout = (function (_super) {
	__extends(AbstractLayout, _super);
	function AbstractLayout() {
		_super.apply(this, arguments);
	}

	AbstractLayout.prototype.childIndex = function (child) {
		for (var i = 0; i < this.childCount(); ++i) {
			if (this.childAt(i) === child)
				return i;
		}
		return -1;
	};

	AbstractLayout.prototype.onResize = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			phosphor_messaging_1.sendMessage(this.childAt(i), widget_1.ResizeMessage.UnknownSize);
		}
	};

	AbstractLayout.prototype.onUpdateRequest = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			phosphor_messaging_1.sendMessage(this.childAt(i), widget_1.ResizeMessage.UnknownSize);
		}
	};

	AbstractLayout.prototype.onAfterAttach = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			phosphor_messaging_1.sendMessage(this.childAt(i), msg);
		}
	};

	AbstractLayout.prototype.onBeforeDetach = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			phosphor_messaging_1.sendMessage(this.childAt(i), msg);
		}
	};

	AbstractLayout.prototype.onAfterShow = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			var child = this.childAt(i);
			if (!child.isHidden)
				phosphor_messaging_1.sendMessage(child, msg);
		}
	};

	AbstractLayout.prototype.onBeforeHide = function (msg) {
		for (var i = 0; i < this.childCount(); ++i) {
			var child = this.childAt(i);
			if (!child.isHidden)
				phosphor_messaging_1.sendMessage(child, msg);
		}
	};
	return AbstractLayout;
})(Layout);
exports.AbstractLayout = AbstractLayout;

},{"./widget":51,"phosphor-messaging":25,"phosphor-properties":32,"phosphor-signaling":33}],50:[function(require,module,exports){

'use strict';
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_signaling_1 = require('phosphor-signaling');

var Title = (function () {

	function Title(options) {
		if (options)
			TitlePrivate.initFrom(this, options);
	}
	Object.defineProperty(Title.prototype, "changed", {

		get: function () {
			return TitlePrivate.changedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Title.prototype, "text", {

		get: function () {
			return TitlePrivate.textProperty.get(this);
		},

		set: function (value) {
			TitlePrivate.textProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Title.prototype, "icon", {

		get: function () {
			return TitlePrivate.iconProperty.get(this);
		},

		set: function (value) {
			TitlePrivate.iconProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Title.prototype, "closable", {

		get: function () {
			return TitlePrivate.closableProperty.get(this);
		},

		set: function (value) {
			TitlePrivate.closableProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Title.prototype, "className", {

		get: function () {
			return TitlePrivate.classNameProperty.get(this);
		},

		set: function (value) {
			TitlePrivate.classNameProperty.set(this, value);
		},
		enumerable: true,
		configurable: true
	});
	return Title;
})();
exports.Title = Title;

var TitlePrivate;
(function (TitlePrivate) {

	TitlePrivate.changedSignal = new phosphor_signaling_1.Signal();

	TitlePrivate.textProperty = new phosphor_properties_1.Property({
		name: 'text',
		value: '',
		notify: TitlePrivate.changedSignal,
	});

	TitlePrivate.iconProperty = new phosphor_properties_1.Property({
		name: 'icon',
		value: '',
		notify: TitlePrivate.changedSignal,
	});

	TitlePrivate.closableProperty = new phosphor_properties_1.Property({
		name: 'closable',
		value: false,
		notify: TitlePrivate.changedSignal,
	});

	TitlePrivate.classNameProperty = new phosphor_properties_1.Property({
		name: 'className',
		value: '',
		notify: TitlePrivate.changedSignal,
	});

	function initFrom(title, options) {
		if (options.text !== void 0) {
			title.text = options.text;
		}
		if (options.icon !== void 0) {
			title.icon = options.icon;
		}
		if (options.closable !== void 0) {
			title.closable = options.closable;
		}
		if (options.className !== void 0) {
			title.className = options.className;
		}
	}
	TitlePrivate.initFrom = initFrom;
})(TitlePrivate || (TitlePrivate = {}));

},{"phosphor-properties":32,"phosphor-signaling":33}],51:[function(require,module,exports){

'use strict';
var __extends = (this && this.__extends) || function (d, b) {
	for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
	function __() { this.constructor = d; }
	d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var phosphor_messaging_1 = require('phosphor-messaging');
var phosphor_nodewrapper_1 = require('phosphor-nodewrapper');
var phosphor_properties_1 = require('phosphor-properties');
var phosphor_signaling_1 = require('phosphor-signaling');
var title_1 = require('./title');

var WIDGET_CLASS = 'p-Widget';

var HIDDEN_CLASS = 'p-mod-hidden';

var Widget = (function (_super) {
	__extends(Widget, _super);

	function Widget() {
		_super.call(this);
		this._flags = 0;
		this._layout = null;
		this._parent = null;
		this.addClass(WIDGET_CLASS);
	}

	Widget.prototype.dispose = function () {

		if (this.isDisposed) {
			return;
		}

		this.setFlag(WidgetFlag.IsDisposed);
		this.disposed.emit(void 0);

		if (this.parent) {
			this.parent = null;
		}
		else if (this.isAttached) {
			this.detach();
		}

		if (this._layout) {
			this._layout.dispose();
			this._layout = null;
		}

		phosphor_signaling_1.clearSignalData(this);
		phosphor_messaging_1.clearMessageData(this);
		phosphor_properties_1.clearPropertyData(this);
	};
	Object.defineProperty(Widget.prototype, "disposed", {

		get: function () {
			return WidgetPrivate.disposedSignal.bind(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "isDisposed", {

		get: function () {
			return this.testFlag(WidgetFlag.IsDisposed);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "isAttached", {

		get: function () {
			return this.testFlag(WidgetFlag.IsAttached);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "isHidden", {

		get: function () {
			return this.testFlag(WidgetFlag.IsHidden);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "isVisible", {

		get: function () {
			return this.testFlag(WidgetFlag.IsVisible);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "title", {

		get: function () {
			return WidgetPrivate.titleProperty.get(this);
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "parent", {

		get: function () {
			return this._parent;
		},

		set: function (value) {
			value = value || null;
			if (this._parent === value) {
				return;
			}
			if (value && this.contains(value)) {
				throw new Error('Invalid parent widget.');
			}
			if (this._parent && !this._parent.isDisposed) {
				phosphor_messaging_1.sendMessage(this._parent, new ChildMessage('child-removed', this));
			}
			this._parent = value;
			if (this._parent && !this._parent.isDisposed) {
				phosphor_messaging_1.sendMessage(this._parent, new ChildMessage('child-added', this));
			}
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(Widget.prototype, "layout", {

		get: function () {
			return this._layout;
		},

		set: function (value) {
			if (!value) {
				throw new Error('Cannot set widget layout to null.');
			}
			if (this._layout === value) {
				return;
			}
			if (this._layout) {
				throw new Error('Cannot change widget layout.');
			}
			if (value.parent) {
				throw new Error('Cannot change layout parent.');
			}
			this._layout = value;
			value.parent = this;
		},
		enumerable: true,
		configurable: true
	});

	Widget.prototype.contains = function (widget) {
		while (widget) {
			if (widget === this) {
				return true;
			}
			widget = widget._parent;
		}
		return false;
	};

	Widget.prototype.update = function () {
		phosphor_messaging_1.postMessage(this, Widget.MsgUpdateRequest);
	};

	Widget.prototype.fit = function () {
		phosphor_messaging_1.postMessage(this, Widget.MsgFitRequest);
	};

	Widget.prototype.close = function () {
		phosphor_messaging_1.sendMessage(this, Widget.MsgCloseRequest);
	};

	Widget.prototype.show = function () {
		if (!this.testFlag(WidgetFlag.IsHidden)) {
			return;
		}
		this.clearFlag(WidgetFlag.IsHidden);
		this.removeClass(HIDDEN_CLASS);
		if (this.isAttached && (!this.parent || this.parent.isVisible)) {
			phosphor_messaging_1.sendMessage(this, Widget.MsgAfterShow);
		}
		if (this.parent) {
			phosphor_messaging_1.sendMessage(this.parent, new ChildMessage('child-shown', this));
		}
	};

	Widget.prototype.hide = function () {
		if (this.testFlag(WidgetFlag.IsHidden)) {
			return;
		}
		this.setFlag(WidgetFlag.IsHidden);
		if (this.isAttached && (!this.parent || this.parent.isVisible)) {
			phosphor_messaging_1.sendMessage(this, Widget.MsgBeforeHide);
		}
		this.addClass(HIDDEN_CLASS);
		if (this.parent) {
			phosphor_messaging_1.sendMessage(this.parent, new ChildMessage('child-hidden', this));
		}
	};

	Widget.prototype.setHidden = function (hidden) {
		if (hidden) {
			this.hide();
		}
		else {
			this.show();
		}
	};

	Widget.prototype.attach = function (host) {
		if (this.parent) {
			throw new Error('Cannot attach child widget.');
		}
		if (this.isAttached || document.body.contains(this.node)) {
			throw new Error('Widget already attached.');
		}
		if (!document.body.contains(host)) {
			throw new Error('Host not attached.');
		}
		host.appendChild(this.node);
		phosphor_messaging_1.sendMessage(this, Widget.MsgAfterAttach);
	};

	Widget.prototype.detach = function () {
		if (this.parent) {
			throw new Error('Cannot detach child widget.');
		}
		if (!this.isAttached || !document.body.contains(this.node)) {
			throw new Error('Widget not attached.');
		}
		phosphor_messaging_1.sendMessage(this, Widget.MsgBeforeDetach);
		this.node.parentNode.removeChild(this.node);
	};

	Widget.prototype.testFlag = function (flag) {
		return (this._flags & flag) !== 0;
	};

	Widget.prototype.setFlag = function (flag) {
		this._flags |= flag;
	};

	Widget.prototype.clearFlag = function (flag) {
		this._flags &= ~flag;
	};

	Widget.prototype.compressMessage = function (msg, pending) {
		if (msg.type === 'update-request') {
			return pending.some(function (other) { return other.type === 'update-request'; });
		}
		if (msg.type === 'fit-request') {
			return pending.some(function (other) { return other.type === 'fit-request'; });
		}
		return false;
	};

	Widget.prototype.processMessage = function (msg) {
		switch (msg.type) {
			case 'resize':
				this.notifyLayout(msg);
				this.onResize(msg);
				break;
			case 'update-request':
				this.notifyLayout(msg);
				this.onUpdateRequest(msg);
				break;
			case 'after-show':
				this.setFlag(WidgetFlag.IsVisible);
				this.notifyLayout(msg);
				this.onAfterShow(msg);
				break;
			case 'before-hide':
				this.notifyLayout(msg);
				this.onBeforeHide(msg);
				this.clearFlag(WidgetFlag.IsVisible);
				break;
			case 'after-attach':
				var visible = !this.isHidden && (!this.parent || this.parent.isVisible);
				if (visible)
					this.setFlag(WidgetFlag.IsVisible);
				this.setFlag(WidgetFlag.IsAttached);
				this.notifyLayout(msg);
				this.onAfterAttach(msg);
				break;
			case 'before-detach':
				this.notifyLayout(msg);
				this.onBeforeDetach(msg);
				this.clearFlag(WidgetFlag.IsVisible);
				this.clearFlag(WidgetFlag.IsAttached);
				break;
			case 'close-request':
				this.notifyLayout(msg);
				this.onCloseRequest(msg);
				break;
			case 'child-added':
				this.notifyLayout(msg);
				this.onChildAdded(msg);
				break;
			case 'child-removed':
				this.notifyLayout(msg);
				this.onChildRemoved(msg);
				break;
			default:
				this.notifyLayout(msg);
				break;
		}
	};

	Widget.prototype.notifyLayout = function (msg) {
		if (this.layout)
			this.layout.processParentMessage(msg);
	};

	Widget.prototype.onCloseRequest = function (msg) {
		if (this.parent) {
			this.parent = null;
		}
		else if (this.isAttached) {
			this.detach();
		}
	};

	Widget.prototype.onResize = function (msg) { };

	Widget.prototype.onUpdateRequest = function (msg) { };

	Widget.prototype.onAfterShow = function (msg) { };

	Widget.prototype.onBeforeHide = function (msg) { };

	Widget.prototype.onAfterAttach = function (msg) { };

	Widget.prototype.onBeforeDetach = function (msg) { };

	Widget.prototype.onChildAdded = function (msg) { };

	Widget.prototype.onChildRemoved = function (msg) { };
	return Widget;
})(phosphor_nodewrapper_1.NodeWrapper);
exports.Widget = Widget;

var Widget;
(function (Widget) {

	Widget.MsgUpdateRequest = new phosphor_messaging_1.Message('update-request');

	Widget.MsgFitRequest = new phosphor_messaging_1.Message('fit-request');

	Widget.MsgCloseRequest = new phosphor_messaging_1.Message('close-request');

	Widget.MsgAfterShow = new phosphor_messaging_1.Message('after-show');

	Widget.MsgBeforeHide = new phosphor_messaging_1.Message('before-hide');

	Widget.MsgAfterAttach = new phosphor_messaging_1.Message('after-attach');

	Widget.MsgBeforeDetach = new phosphor_messaging_1.Message('before-detach');
})(Widget = exports.Widget || (exports.Widget = {}));

(function (WidgetFlag) {

	WidgetFlag[WidgetFlag["IsDisposed"] = 1] = "IsDisposed";

	WidgetFlag[WidgetFlag["IsAttached"] = 2] = "IsAttached";

	WidgetFlag[WidgetFlag["IsHidden"] = 4] = "IsHidden";

	WidgetFlag[WidgetFlag["IsVisible"] = 8] = "IsVisible";
})(exports.WidgetFlag || (exports.WidgetFlag = {}));
var WidgetFlag = exports.WidgetFlag;

var ChildMessage = (function (_super) {
	__extends(ChildMessage, _super);

	function ChildMessage(type, child) {
		_super.call(this, type);
		this._child = child;
	}
	Object.defineProperty(ChildMessage.prototype, "child", {

		get: function () {
			return this._child;
		},
		enumerable: true,
		configurable: true
	});
	return ChildMessage;
})(phosphor_messaging_1.Message);
exports.ChildMessage = ChildMessage;

var ResizeMessage = (function (_super) {
	__extends(ResizeMessage, _super);

	function ResizeMessage(width, height) {
		_super.call(this, 'resize');
		this._width = width;
		this._height = height;
	}
	Object.defineProperty(ResizeMessage.prototype, "width", {

		get: function () {
			return this._width;
		},
		enumerable: true,
		configurable: true
	});
	Object.defineProperty(ResizeMessage.prototype, "height", {

		get: function () {
			return this._height;
		},
		enumerable: true,
		configurable: true
	});
	return ResizeMessage;
})(phosphor_messaging_1.Message);
exports.ResizeMessage = ResizeMessage;

var ResizeMessage;
(function (ResizeMessage) {

	ResizeMessage.UnknownSize = new ResizeMessage(-1, -1);
})(ResizeMessage = exports.ResizeMessage || (exports.ResizeMessage = {}));

var WidgetPrivate;
(function (WidgetPrivate) {

	WidgetPrivate.disposedSignal = new phosphor_signaling_1.Signal();

	WidgetPrivate.titleProperty = new phosphor_properties_1.Property({
		name: 'title',
		create: function () { return new title_1.Title(); },
	});
})(WidgetPrivate || (WidgetPrivate = {}));

},{"./title":50,"phosphor-messaging":25,"phosphor-nodewrapper":27,"phosphor-properties":32,"phosphor-signaling":33}]},{},[1]);
</script>
<style>
/* CSS for flexx-ui.css */
/* Autogenerated code from Flexx. Code Subject to the new BSD license.*/



    .flx-container {
        min-height: 10px; /* splitter sets its own minsize if contained */
    }

    .flx-Widget {
        box-sizing: border-box;
        white-space: nowrap;
        overflow: hidden;
    }

    .flx-main-widget {
       width: 100%;
       height: 100%;
    }

    


    
    html {
        /* set height, so body can have height, and the first layout too */
        height: 100%;  
    }
    
    body {
        /* Set height so the first layout can fill whole window */
        height: 100%;
        margin: 0px;
    }
    
    .flx-Layout {
        /* sizing of widgets/layouts inside layout is defined per layout */
        width: 100%;
        height: 100%;
        margin: 0px;
        padding: 0px;
        border-spacing: 0px;
        border: 0px;
    }
    
    


    .flx-hbox, .flx-vbox, .flx-hboxr, .flx-vboxr {
        display: -webkit-flex;
        display: -ms-flexbox;  /* IE 10 */
        display: -ms-flex;     /* IE 11 */
        display: -moz-flex;
        display: flex;
        
        /* How space is divided when all flex-factors are 0:
           start, end, center, space-between, space-around */
        -webkit-justify-content: space-around;
        -ms-justify-content: space-around;
        -moz-justify-content: space-around;
        justify-content: space-around;
        
        /* How items are aligned in the other direction:
           center, stretch, baseline */
        -webkit-align-items: stretch;  
        -ms-align-items: stretch;
        -moz-align-items: stretch;
        align-items: stretch;
    }
    
    .flx-hbox {
        -webkit-flex-flow: row; -ms-flex-flow: row; -moz-flex-flow: row; flex-flow: row;
        width: 100%;
    }
    .flx-vbox {
        -webkit-flex-flow: column;
        -ms-flex-flow: column;
        -moz-flex-flow: column;
        flex-flow: column;
        height: 100%; width: 100%;
    }
    .flx-hboxr {
        -webkit-flex-flow: row-reverse;
        -ms-flex-flow: row-reverse;
        -moz-flex-flow: row-reverse;
        flex-flow: row-reverse;
        width: 100%;
    }
    .flx-vboxr {
        -webkit-flex-flow: column-reverse;
        -ms-flex-flow: column-reverse;
        -moz-flex-flow: column-reverse;
        flex-flow: column-reverse;
        height: 100%; width: 100%;
    }
    
    /* Make child widgets (and layouts) size correctly */
    .flx-hbox > .flx-Widget, .flx-hboxr > .flx-Widget {
        height: auto;
        width: auto;
    }
    .flx-vbox > .flx-Widget, .flx-vboxr > .flx-Widget {
        width: auto;
        height: auto;
    }
    
    /* If a boxLayout is in a compound widget, we need to make that widget
       a flex container (done with JS in Widget class), and scale here */
    .flx-Widget > .flx-BoxLayout {
        flex-grow: 1;
    }
    


    .p-DockTabPanel {
        padding-right: 2px;
        padding-bottom: 2px;
    }
    
    .p-DockTabPanel > .p-StackedPanel {
        padding: 10px;
        background: white;
        border: 1px solid #C0C0C0;
        border-top: none;
        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    }
    
    .p-DockPanel-overlay {
        background: rgba(255, 255, 255, 0.7);
        border: 2px dotted #404040;
    }
    
    .p-DockPanel-overlay.p-mod-root-top,
    .p-DockPanel-overlay.p-mod-root-left,
    .p-DockPanel-overlay.p-mod-root-right,
    .p-DockPanel-overlay.p-mod-root-bottom,
    .p-DockPanel-overlay.p-mod-root-center {
        border-width: 2px;
    }
    


        .p-TabBar {
            min-height: 24px;
        }
        
        .p-TabBar-body {
            bottom: 1px;
            border-bottom: 1px solid #C0C0C0;
        }
        
        .p-TabBar-footer {
            display: block;
            height: 1px;
            background: #C0C0C0;
        }
        
        .p-TabBar-content {
            align-items: flex-end;
        }
        
        .p-TabBar-tab {
            flex-basis: 125px;
            max-height: 21px;
            margin-left: -1px;
            border: 1px solid #C0C0C0;
            border-bottom: none;
            padding: 0px 10px;
            background: #E5E5E5;
            font: 12px Helvetica, Arial, sans-serif;
        }
        
        .p-TabBar-tab:first-child {
            margin-left: 2px;
        }
        
        .p-TabBar-tab.p-mod-current {
            min-height: 24px;
            background: white;
            transform: translateY(1px);
        }
        
        .p-TabBar-tab:hover:not(.p-mod-current) {
            background: #F0F0F0;
        }
        
        .p-TabBar-tab-icon,
        .p-TabBar-tab-text,
        .p-TabBar-tab-close {
            line-height: 21px;
        }
        
        .p-TabPanel > .p-StackedPanel {
            padding: 10px;
            background: white;
            border: 1px solid #C0C0C0;
            border-top: none;
        }
        
        .p-TabBar-tab.p-mod-closable > .p-TabBar-tab-close {
            margin-left: 4px;
        }
        
        .p-TabBar-tab.p-mod-closable > .p-TabBar-tab-close:before {
            content: '00d';
            font-family: FontAwesome;
        }
    


    
    /* Clear any styling on this table (rendered_html is an IPython thing) */
    .flx-BaseTableLayout, .flx-BaseTableLayout td, .flx-BaseTableLayout tr,
    .rendered_html .flx-BaseTableLayout {
        border: 0px;
        padding: initial;
        margin: initial;
        background: initial;
    }
    
    /* Behave well inside hbox/vbox, 
       we assume no layouts to be nested inside a table layout */
    .flx-hbox > .flx-BaseTableLayout {
        width: auto;
    }
    .flx-vbox > .flx-BaseTableLayout {
        height: auto;
    }
    
    td.vflex, td.hflex {
        padding: 1px;
    }
    
    /* In flexed cells, occupy the full space */
    td.vflex > .flx-Widget {
        height: 100%;
    }
    td.hflex > .flx-Widget {
        width: 100%;
    }
    


    .flx-FormLayout .title {
        text-align: right;
        padding-right: 5px;
    }
    


    .flx-PinboardLayout > .flx-Widget {
        position: absolute;
    }
    


    
    .flx-RadioButton, .flx-CheckBox {
        margin-left: 0.5em;
        margin-right: 0.5em;
    }
    
    .flx-RadioButton label, .flx-CheckBox label {
        margin-left: 0.2em;
    }
    
    


        .flx-ToggleButton-checked {
            color: #00B;
            font-weight: bolder;
        }
    

.flx-Slider {min-height: 30px;}


    .flx-LineEdit > input-ttt { /* gets to be too wide */
        width: 100%;
    }
    


        .flx-Label {
            border: 0px solid #454;
            /* phosphor sets this to none */
            user-select: text;
            -moz-user-select: text;
            -webkit-user-select: text;
            -ms-user-select: text;
        }

.flx-ProgressBar {min-height: 10px;}


    .flx-CanvasWidget {
        min-width: 50px;
        min-height: 50px;
    }
    

.flx-PlotWidget {min-width: 300px; min-height: 200px;}

.flx-IFrame {border: none;}


    .flx-BokehWidget > .plotdiv {
        overflow: hidden;
    }
    
</style>
<script>
/* JS for flexx-ui.js */
/* Autogenerated code from Flexx. Code Subject to the new BSD license.*/

"use strict";

flexx.classes.Widget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Widget.prototype = Object.create(flexx.classes.Model.prototype);
flexx.classes.Widget.prototype._base_class = flexx.classes.Model.prototype;
flexx.classes.Widget.prototype._class_name = "Widget";

flexx.classes.Widget.prototype.CAPTURE_MOUSE = false;
flexx.classes.Widget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Widget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.Widget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.Widget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.Widget.prototype._Widget__children_changed = function () {
    var child, events, i, i_ok, new_children, old_children, stub1_seq, stub2_itr, stub3_seq, stub4_itr;
    events = Array.prototype.slice.call(arguments);
    new_children = events[events.length -1].new_value;
    old_children = events[0].old_value;
    i_ok = 0;
    for (i = 0; i < Math.min(new_children.length, old_children.length); i += 1) {
        if ((new_children[i] !== old_children[i])) {
            break;
        }
        i_ok = i;
    }
    stub1_seq = old_children.slice(i_ok);
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        child = stub1_seq[stub2_itr];
        this._remove_child(child);
    }
    stub3_seq = new_children.slice(i_ok);
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        child = stub3_seq[stub4_itr];
        this._add_child(child);
    }
    return null;
};
flexx.classes.Widget.prototype._Widget__children_changed.nobind = true;
flexx.classes.Widget.prototype._Widget__children_changed._connection_strings = ["children"];

flexx.classes.Widget.prototype._Widget__container_changed = function () {
    var el, events, id, style;
    events = Array.prototype.slice.call(arguments);
    id = events[events.length -1].new_value;
    _pymeth_remove.call(this.outernode.classList, "flx-main-widget");
    if (_pyfunc_truthy(this.parent)) {
        return null;
    }
    if (_pyfunc_truthy(this.phosphor.isAttached)) {
        this.phosphor.detach();
    }
    if ((this.outernode.parentNode !== null)) {
        this.outernode.parentNode.removeChild(this.outernode);
    }
    if (_pyfunc_truthy(id)) {
        if (_pyfunc_equals(id, "body")) {
            el = window.document.body;
        } else {
            el = window.document.getElementById(id);
        }
        this.phosphor.attach(el);
        window.addEventListener("resize", (function () {return [this.phosphor.update(), this._check_real_size()];}).bind(this));
    }
    if (_pyfunc_equals(id, "body")) {
        this.outernode.classList.add("flx-main-widget");
    } else if (_pyfunc_truthy(id)) {
        style = this.style;
        window.setTimeout((function () {return [this._set_prop("style", ""), this._set_prop("style", style)];}).bind(this), 1);
    }
    return null;
};
flexx.classes.Widget.prototype._Widget__container_changed.nobind = true;
flexx.classes.Widget.prototype._Widget__container_changed._connection_strings = ["container"];

flexx.classes.Widget.prototype._Widget__make_singleton_container_widgets_work = function () {
    var children, events, subClassName;
    events = Array.prototype.slice.call(arguments);
    if ((!_pyfunc_contains("flx-Layout", this.outernode.className))) {
        _pymeth_remove.call(this.outernode.classList, "flx-hbox");
        _pymeth_remove.call(this.outernode.classList, "flx-vbox");
        children = this.children;
        if (_pyfunc_equals(children.length, 1)) {
            subClassName = (children[0].outernode).className;
            if (_pyfunc_contains("flx-VBox", subClassName)) {
                this.outernode.classList.add("flx-hbox");
            } else if (_pyfunc_contains("flx-HBox", subClassName)) {
                this.outernode.classList.add("flx-vbox");
            }
        }
    }
    return null;
};
flexx.classes.Widget.prototype._Widget__make_singleton_container_widgets_work.nobind = true;
flexx.classes.Widget.prototype._Widget__make_singleton_container_widgets_work._connection_strings = ["children"];

flexx.classes.Widget.prototype._Widget__style_changed = function () {
    var d, ev, events, k, key, parent, part, size_limits_changed, size_limits_keys, stub10_itr, stub11_tgt, stub1_, stub2_, stub3_seq, stub4_itr, stub5_seq, stub6_itr, stub7_seq, stub8_itr, stub9_seq, style, v, val, values;
    events = Array.prototype.slice.call(arguments);
    d = {};
    stub5_seq = events;
    if ((typeof stub5_seq === "object") && (!Array.isArray(stub5_seq))) {
        stub5_seq = Object.keys(stub5_seq);
    }
    for (stub6_itr = 0; stub6_itr < stub5_seq.length; stub6_itr += 1) {
        ev = stub5_seq[stub6_itr];
        style = ev.new_value;
        if (_pyfunc_truthy(style)) {
            stub3_seq = _pymeth_split.call(style, ";");
            if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
                stub3_seq = Object.keys(stub3_seq);
            }
            for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
                part = stub3_seq[stub4_itr];
                if (_pyfunc_contains(":", part)) {
                    stub1_ = _pymeth_split.call(part, ":");
                    key = stub1_[0];val = stub1_[1];
                    stub2_ = [key.trim(), val.trim()];
                    key = stub2_[0];val = stub2_[1];
                    this.outernode.style[key] = val;
                    d[key] = val;
                }
            }
        }
    }
    size_limits_keys = ["min-width", "min-height", "max-width", "max-height"];
    size_limits_changed = false;
    stub7_seq = size_limits_keys;
    if ((typeof stub7_seq === "object") && (!Array.isArray(stub7_seq))) {
        stub7_seq = Object.keys(stub7_seq);
    }
    for (stub8_itr = 0; stub8_itr < stub7_seq.length; stub8_itr += 1) {
        key = stub7_seq[stub8_itr];
        if (_pyfunc_contains(key, d)) {
            size_limits_changed = true;
        }
    }
    if (_pyfunc_truthy(size_limits_changed)) {
        values = (function list_comprehenson () {var res = [];var k, iter0, i0;iter0 = size_limits_keys;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {k = iter0[i0];{res.push(this.outernode.style[k]);}}return res;}).apply(this);
        stub9_seq = _pyfunc_zip(size_limits_keys, values);
        if ((typeof stub9_seq === "object") && (!Array.isArray(stub9_seq))) {
            stub9_seq = Object.keys(stub9_seq);
        }
        for (stub10_itr = 0; stub10_itr < stub9_seq.length; stub10_itr += 1) {
            stub11_tgt = stub9_seq[stub10_itr];
            k = stub11_tgt[0]; v = stub11_tgt[1];
            this.outernode.style[k] = v;
        }
        parent = this.parent;
        if (_pyfunc_truthy(parent)) {
            parent.phosphor.fit();
        }
        this.phosphor.update();
    }
    return null;
};
flexx.classes.Widget.prototype._Widget__style_changed.nobind = true;
flexx.classes.Widget.prototype._Widget__style_changed._connection_strings = ["style"];

flexx.classes.Widget.prototype._Widget__title_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.phosphor.title.text = events[events.length -1].new_value;
    return null;
};
flexx.classes.Widget.prototype._Widget__title_changed.nobind = true;
flexx.classes.Widget.prototype._Widget__title_changed._connection_strings = ["title"];

flexx.classes.Widget.prototype._Widget__update_tabindex = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.tabIndex = events[events.length -1].new_value;
    return null;
};
flexx.classes.Widget.prototype._Widget__update_tabindex.nobind = true;
flexx.classes.Widget.prototype._Widget__update_tabindex._connection_strings = ["tabindex"];

flexx.classes.Widget.prototype.__init__ = function () {
    var SizeNotifier, args, cls, cls_name, err_2, i, stub1_els, that;
    args = Array.prototype.slice.call(arguments);
    flexx.classes.Model.prototype.__init__.apply(this, args);
    this._init_phosphor_and_node();
    this.outernode = this.phosphor.node;
    this._init_events();
    that = this;
    SizeNotifier = function () {
        _pyfunc_instantiate(this, arguments);
    }
    SizeNotifier.prototype._base_class = Object;
    SizeNotifier.prototype._class_name = "SizeNotifier";
    
    SizeNotifier.prototype.filterMessage = function (handler, msg) {
        if (_pyfunc_equals(msg._type, "resize")) {
            that._check_real_size();
        }
        return false;
    };


    window.phosphor.messaging.installMessageFilter(this.phosphor, new SizeNotifier());
    cls_name = this._class_name;
    stub1_els = true;
    for (i = 0; i < 32; i += 1) {
        this.outernode.classList.add("flx-" + cls_name);
        cls = window.flexx.classes[cls_name];
        if ((!_pyfunc_truthy(cls))) {
            stub1_els = false; break;
        }
        cls_name = cls.prototype._base_class._class_name;
        if ((((!_pyfunc_truthy(cls_name))) || _pyfunc_equals(cls_name, "Model"))) {
            stub1_els = false; break;
        }
    } if (stub1_els) {
        err_2 = new Error('RuntimeError:' + "Error while determining class names"); err_2.name = "RuntimeError"; throw err_2;
    }
    return null;
};

flexx.classes.Widget.prototype._add_child = function (widget) {
    this.phosphor.addChild(widget.phosphor);
    return null;
};

flexx.classes.Widget.prototype._check_real_size = function (notify_parent) {
    var cursize, n;
    notify_parent = (notify_parent === undefined) ? false: notify_parent;
    n = this.outernode;
    cursize = this.size;
    if ((((!_pyfunc_equals(cursize[0], n.clientWidth))) || (!_pyfunc_equals(cursize[1], n.clientHeight)))) {
        this._set_prop("size", [n.clientWidth, n.clientHeight]);
        if ((_pyfunc_truthy(notify_parent) && _pyfunc_truthy(this.parent))) {
            if (_pyfunc_truthy(this.parent.let_children_check_size)) {
                this.parent.let_children_check_size();
            }
        }
    }
    return null;
};

flexx.classes.Widget.prototype._create_key_event = function (e) {
    var key, modifiers;
    modifiers = (function list_comprehenson () {var res = [];var n, iter0, i0;iter0 = ["Alt", "Shift", "Ctrl", "Meta"];if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {n = iter0[i0];if (!(e[_pymeth_lower.call(n) + "Key"])) {continue;}{res.push(n);}}return res;}).apply(this);
    key = e.key;
    if (_pyfunc_truthy(((!_pyfunc_truthy(key))) && _pyfunc_truthy(e.code))) {
        key = e.code;
        if (_pymeth_startswith.call(key, "Key")) {
            key = key.slice(3);
            if ((!_pyfunc_contains("Shift", modifiers))) {
                key = _pymeth_lower.call(key);
            }
        } else if (_pymeth_startswith.call(key, "Digit")) {
            key = key.slice(5);
        }
    }
    key = _pymeth_get.call({"Esc": "Escape", "Del": "Delete"}, key, key);
    return {key:key, modifiers:modifiers};
};

flexx.classes.Widget.prototype._create_mouse_event = function (e) {
    var button, buttons, buttons_mask, modifiers, offset, pos, rect;
    modifiers = (function list_comprehenson () {var res = [];var n, iter0, i0;iter0 = ["Alt", "Shift", "Ctrl", "Meta"];if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {n = iter0[i0];if (!(e[_pymeth_lower.call(n) + "Key"])) {continue;}{res.push(n);}}return res;}).apply(this);
    pos = [e.clientX, e.clientY];
    rect = this.node.getBoundingClientRect();
    offset = [rect.left, rect.top];
    pos = [_pyfunc_float((pos[0] - offset[0])), _pyfunc_float((pos[1] - offset[1]))];
    if (_pyfunc_truthy(e.buttons)) {
        buttons_mask = _pymeth_join.call((_pyfunc_reversed(((function list_comprehenson () {var res = [];var c, iter0, i0;iter0 = e.buttons.toString(2);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {c = iter0[i0];{res.push(c);}}return res;}).apply(this)))), "");
    } else {
        buttons_mask = [e.button.toString(2)];
    }
    buttons = (function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = _pyfunc_range(0, 5, 1);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];if (!(_pyfunc_equals(buttons_mask[i], "1"))) {continue;}{res.push(i + 1);}}return res;}).apply(this);
    button = {0: 1, 1: 3, 2: 2, 3: 4, 4: 5}[e.button];
    return {pos:pos, page_pos:[e.pageX, e.pageY], button:button, buttons:buttons, modifiers:modifiers};
};

flexx.classes.Widget.prototype._init_events = function () {
    var _context_menu, capture, mouse_inside, mouse_outside, release;
    this.node.addEventListener("mousedown", this.mouse_down, 0);
    this.node.addEventListener("wheel", this.mouse_wheel, 0);
    this.node.addEventListener("keydown", this.key_down, 0);
    this.node.addEventListener("keyup", this.key_up, 0);
    this.node.addEventListener("keypress", this.key_press, 0);
    _context_menu = (function (ev) {return (_pyfunc_truthy(ev.preventDefault())) && false;}).bind(this);
    this.node.addEventListener("contextmenu", _context_menu, 0);
    this._capture_flag = null;
    capture = (function (e) {
        if ((_pyfunc_truthy(this.CAPTURE_MOUSE) && _pyfunc_truthy(this.node.setCapture))) {
            this.node.setCapture();
        }
        this._capture_flag = 2;
        window.document.addEventListener("mousemove", mouse_outside, true);
        window.document.addEventListener("mouseup", mouse_outside, true);
        return null;
    }).bind(this);

    release = (function () {
        this._capture_flag = 1;
        window.document.removeEventListener("mousemove", mouse_outside, true);
        window.document.removeEventListener("mouseup", mouse_outside, true);
        return null;
    }).bind(this);

    mouse_inside = (function (e) {
        if (_pyfunc_equals(this._capture_flag, 1)) {
            this._capture_flag = 0;
        } else if ((!_pyfunc_truthy(this._capture_flag))) {
            if (_pyfunc_equals(e.type, "mousemove")) {
                this.mouse_move(e);
            } else if (_pyfunc_equals(e.type, "mouseup")) {
                this.mouse_up(e);
            }
        }
        return null;
    }).bind(this);

    mouse_outside = (function (e) {
        if (_pyfunc_truthy(this._capture_flag)) {
            e = (_pyfunc_truthy(window.event))? (window.event) : (e);
            if (_pyfunc_equals(e.type, "mousemove")) {
                this.mouse_move(e);
            } else if (_pyfunc_equals(e.type, "mouseup")) {
                release();
                this.mouse_up(e);
            }
        }
        return null;
    }).bind(this);

    this.node.addEventListener("mousedown", capture, true);
    this.node.addEventListener("losecapture", release);
    this.node.addEventListener("mousemove", mouse_inside, false);
    this.node.addEventListener("mouseup", mouse_inside, false);
    return null;
};

flexx.classes.Widget.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.panel.Panel();
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.Widget.prototype._remove_child = function (widget) {
    widget.phosphor.parent = null;
    return null;
};

flexx.classes.Widget.prototype._set_size = function (prefix, w, h) {
    var i, size;
    size = [w, h];
    for (i = 0; i < 2; i += 1) {
        if ((_pyfunc_truthy(size[i] <= 0) || (size === null) || (size === undefined))) {
            size[i] = "";
        } else if (_pyfunc_truthy(size[i] > 1)) {
            size[i] = size[i] + "px";
        } else {
            size[i] = _pyfunc_mult(size[i], 100) + "%";
        }
    }
    this.outernode.style[prefix + "width"] = size[0];
    this.outernode.style[prefix + "height"] = size[1];
    return null;
};

flexx.classes.Widget.prototype._base_size_func = function (v) {
    v = (v === undefined) ? [0, 0]: v;
    return [_pyfunc_float(v[0]), _pyfunc_float(v[1])];
};
flexx.classes.Widget.prototype._base_size_func.nobind = true;
flexx.classes.Widget.prototype._base_size_func.default = [0, 0];
flexx.classes.Widget.prototype._base_size_func.emitter_type = "Property";

flexx.classes.Widget.prototype.check_size = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    window.setTimeout(this._check_real_size, 0);
    return null;
};
flexx.classes.Widget.prototype.check_size.nobind = true;
flexx.classes.Widget.prototype.check_size._connection_strings = ["container", "parent.size", "children"];

flexx.classes.Widget.prototype._children_func = function (new_children) {
    var child, err_2, old_children, stub1_seq, stub2_itr, stub3_seq, stub4_itr;
    new_children = (new_children === undefined) ? []: new_children;
    old_children = this.children;
    if ((!_pyfunc_truthy(old_children))) {
        old_children = [];
    }
    if (_pyfunc_equals(new_children.length, old_children.length)) {
        if ((_pyfunc_all(((function list_comprehenson () {var res = [];var c1, c2, iter0, i0;iter0 = _pyfunc_zip(old_children, new_children);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {c1 = iter0[i0][0]; c2 = iter0[i0][1];{res.push(c1 === c2);}}return res;}).apply(this))))) {
            return new_children;
        }
    }
    if ((!(_pyfunc_all(((function list_comprehenson () {var res = [];var w, iter0, i0;iter0 = new_children;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {w = iter0[i0];{res.push(w instanceof flexx.classes.Widget);}}return res;}).apply(this)))))) {
        err_2 = new Error('ValueError:' + "All children must be widget objects."); err_2.name = "ValueError"; throw err_2;
    }
    stub1_seq = old_children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        child = stub1_seq[stub2_itr];
        if ((!_pyfunc_contains(child, new_children))) {
            child.parent = null;
        }
    }
    stub3_seq = new_children;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        child = stub3_seq[stub4_itr];
        if ((!_pyfunc_contains(child, old_children))) {
            child.parent = this;
        }
    }
    return _pyfunc_list(new_children);
};
flexx.classes.Widget.prototype._children_func.nobind = true;
flexx.classes.Widget.prototype._children_func.default = [];
flexx.classes.Widget.prototype._children_func.emitter_type = "Property";

flexx.classes.Widget.prototype._container_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.Widget.prototype._container_func.nobind = true;
flexx.classes.Widget.prototype._container_func.default = "";
flexx.classes.Widget.prototype._container_func.emitter_type = "Property";

flexx.classes.Widget.prototype._flex_func = function (v) {
    v = (v === undefined) ? 0: v;
    if ((({}).toString.call(v).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'number')) {
        v = [v, v];
    }
    return [_pyfunc_float(v[0]), _pyfunc_float(v[1])];
};
flexx.classes.Widget.prototype._flex_func.nobind = true;
flexx.classes.Widget.prototype._flex_func.default = 0;
flexx.classes.Widget.prototype._flex_func.emitter_type = "Property";

flexx.classes.Widget.prototype._key_down_func = function (e) {
    return this._create_key_event(e);
};
flexx.classes.Widget.prototype._key_down_func.nobind = true;
flexx.classes.Widget.prototype._key_down_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._key_press_func = function (e) {
    return this._create_key_event(e);
};
flexx.classes.Widget.prototype._key_press_func.nobind = true;
flexx.classes.Widget.prototype._key_press_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._key_up_func = function (e) {
    return this._create_key_event(e);
};
flexx.classes.Widget.prototype._key_up_func.nobind = true;
flexx.classes.Widget.prototype._key_up_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._mouse_down_func = function (e) {
    return this._create_mouse_event(e);
};
flexx.classes.Widget.prototype._mouse_down_func.nobind = true;
flexx.classes.Widget.prototype._mouse_down_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._mouse_move_func = function (e) {
    var ev;
    ev = this._create_mouse_event(e);
    ev.button = 0;
    return ev;
};
flexx.classes.Widget.prototype._mouse_move_func.nobind = true;
flexx.classes.Widget.prototype._mouse_move_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._mouse_up_func = function (e) {
    var ev;
    ev = this._create_mouse_event(e);
    return ev;
};
flexx.classes.Widget.prototype._mouse_up_func.nobind = true;
flexx.classes.Widget.prototype._mouse_up_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._mouse_wheel_func = function (e) {
    var ev;
    ev = this._create_mouse_event(e);
    ev.button = 0;
    ev.hscroll = _pyfunc_mult(e.deltaX, ([1, 16, 600][e.deltaMode]));
    ev.vscroll = _pyfunc_mult(e.deltaY, ([1, 16, 600][e.deltaMode]));
    return ev;
};
flexx.classes.Widget.prototype._mouse_wheel_func.nobind = true;
flexx.classes.Widget.prototype._mouse_wheel_func.emitter_type = "Emitter";

flexx.classes.Widget.prototype._parent_func = function (new_parent) {
    var children, err_2, old_parent;
    new_parent = (new_parent === undefined) ? null: new_parent;
    old_parent = this.parent;
    if ((new_parent === old_parent)) {
        return new_parent;
    }
    if ((!((new_parent === null) || (new_parent instanceof flexx.classes.Widget)))) {
        err_2 = new Error('ValueError:' + "parent must be a Widget or None"); err_2.name = "ValueError"; throw err_2;
    }
    if ((old_parent !== null)) {
        children = _pyfunc_list(((_pyfunc_truthy(old_parent.children))? (old_parent.children) : ([])));
        while (_pyfunc_contains(this, children)) {
            _pymeth_remove.call(children, this);
        }
        old_parent.children = children;
    }
    if ((new_parent !== null)) {
        children = _pyfunc_list(((_pyfunc_truthy(new_parent.children))? (new_parent.children) : ([])));
        _pymeth_append.call(children, this);
        new_parent.children = children;
    }
    return new_parent;
};
flexx.classes.Widget.prototype._parent_func.nobind = true;
flexx.classes.Widget.prototype._parent_func.default = null;
flexx.classes.Widget.prototype._parent_func.emitter_type = "Property";

flexx.classes.Widget.prototype._pos_func = function (v) {
    v = (v === undefined) ? [0, 0]: v;
    return [_pyfunc_float(v[0]), _pyfunc_float(v[1])];
};
flexx.classes.Widget.prototype._pos_func.nobind = true;
flexx.classes.Widget.prototype._pos_func.default = [0, 0];
flexx.classes.Widget.prototype._pos_func.emitter_type = "Property";

flexx.classes.Widget.prototype._size_func = function (v) {
    v = (v === undefined) ? [0, 0]: v;
    return [v[0], v[1]];
};
flexx.classes.Widget.prototype._size_func.nobind = true;
flexx.classes.Widget.prototype._size_func.default = [0, 0];
flexx.classes.Widget.prototype._size_func.emitter_type = "Readonly";

flexx.classes.Widget.prototype._style_func = function (v) {
    v = (v === undefined) ? "": v;
    if ((({}).toString.call(v).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'object')) {
        v = (function list_comprehenson () {var res = [];var k, v, iter0, i0;iter0 = _pymeth_items.call(v);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {k = iter0[i0][0]; v = iter0[i0][1];{res.push("" + k + ": " + v + "");}}return res;}).apply(this);
        v = _pymeth_join.call("; ", v);
    }
    return _pyfunc_str(v);
};
flexx.classes.Widget.prototype._style_func.nobind = true;
flexx.classes.Widget.prototype._style_func.default = "";
flexx.classes.Widget.prototype._style_func.emitter_type = "Property";

flexx.classes.Widget.prototype._tabindex_func = function (v) {
    v = (v === undefined) ? -1: v;
    return _pyfunc_int(v);
};
flexx.classes.Widget.prototype._tabindex_func.nobind = true;
flexx.classes.Widget.prototype._tabindex_func.default = -1;
flexx.classes.Widget.prototype._tabindex_func.emitter_type = "Property";

flexx.classes.Widget.prototype._title_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.Widget.prototype._title_func.nobind = true;
flexx.classes.Widget.prototype._title_func.default = "";
flexx.classes.Widget.prototype._title_func.emitter_type = "Property";



flexx.classes.Layout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Layout.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.Layout.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.Layout.prototype._class_name = "Layout";

flexx.classes.Layout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Layout.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.Layout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.Layout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];


flexx.classes.BaseBoxLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BaseBoxLayout.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.BaseBoxLayout.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.BaseBoxLayout.prototype._class_name = "BaseBoxLayout";

flexx.classes.BaseBoxLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BaseBoxLayout.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.BaseBoxLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.BaseBoxLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];

flexx.classes.BaseBoxLayout.prototype._orientation_func = function (v) {
    var err_2;
    v = (v === undefined) ? null: v;
    if ((v === null)) {
        v = this._DEFAULT_ORIENTATION;
    }
    if ((({}).toString.call(v).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'string')) {
        v = _pymeth_lower.call(v);
    }
    v = _pymeth_get.call({"horizontal": "h", "vertical": "v", 0: "h", 1: "v"}, v, v);
    if ((!_pyfunc_contains(v, ["h", "v", "hr", "vr"]))) {
        err_2 = new Error('ValueError:' + ("Unknown value for box orientation " + JSON.stringify(v) + "")); err_2.name = "ValueError"; throw err_2;
    }
    return v;
};
flexx.classes.BaseBoxLayout.prototype._orientation_func.nobind = true;
flexx.classes.BaseBoxLayout.prototype._orientation_func.default = null;
flexx.classes.BaseBoxLayout.prototype._orientation_func.emitter_type = "Property";

flexx.classes.BaseBoxLayout.prototype._spacing_func = function (v) {
    v = (v === undefined) ? 5: v;
    return _pyfunc_float(v);
};
flexx.classes.BaseBoxLayout.prototype._spacing_func.nobind = true;
flexx.classes.BaseBoxLayout.prototype._spacing_func.default = 5;
flexx.classes.BaseBoxLayout.prototype._spacing_func.emitter_type = "Property";



flexx.classes.BoxLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BoxLayout.prototype = Object.create(flexx.classes.BaseBoxLayout.prototype);
flexx.classes.BoxLayout.prototype._base_class = flexx.classes.BaseBoxLayout.prototype;
flexx.classes.BoxLayout.prototype._class_name = "BoxLayout";

flexx.classes.BoxLayout.prototype._DEFAULT_ORIENTATION = "h";
flexx.classes.BoxLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BoxLayout.prototype.__handlers__ = ["_BoxLayout__orientation_changed", "_BoxLayout__padding_changed", "_BoxLayout__set_flexes", "_BoxLayout__spacing_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.BoxLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.BoxLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "padding", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];

flexx.classes.BoxLayout.prototype._BoxLayout__orientation_changed = function () {
    var err_2, events, name, ori, stub1_seq, stub2_itr, stub3_seq, stub4_itr, widget;
    events = Array.prototype.slice.call(arguments);
    ori = this.orientation;
    stub1_seq = ["hbox", "vbox", "hboxr", "vboxr"];
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        name = stub1_seq[stub2_itr];
        _pymeth_remove.call(this.outernode.classList, ("flx-" + name));
    }
    if ((_pyfunc_equals(ori, 0) || _pyfunc_equals(ori, "h"))) {
        this.outernode.classList.add("flx-hbox");
    } else if ((_pyfunc_equals(ori, 1) || _pyfunc_equals(ori, "v"))) {
        this.outernode.classList.add("flx-vbox");
    } else if (_pyfunc_equals(ori, "hr")) {
        this.outernode.classList.add("flx-hboxr");
    } else if (_pyfunc_equals(ori, "vr")) {
        this.outernode.classList.add("flx-vboxr");
    } else {
        err_2 = new Error('ValueError:' + ("Invalid box orientation: " + ori)); err_2.name = "ValueError"; throw err_2;
    }
    stub3_seq = this.children;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        widget = stub3_seq[stub4_itr];
        widget._check_real_size();
    }
    return null;
};
flexx.classes.BoxLayout.prototype._BoxLayout__orientation_changed.nobind = true;
flexx.classes.BoxLayout.prototype._BoxLayout__orientation_changed._connection_strings = ["orientation"];

flexx.classes.BoxLayout.prototype._BoxLayout__padding_changed = function () {
    var events, stub1_seq, stub2_itr, widget;
    events = Array.prototype.slice.call(arguments);
    this.outernode.style["padding"] = this.padding + "px";
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        widget._check_real_size();
    }
    return null;
};
flexx.classes.BoxLayout.prototype._BoxLayout__padding_changed.nobind = true;
flexx.classes.BoxLayout.prototype._BoxLayout__padding_changed._connection_strings = ["padding"];

flexx.classes.BoxLayout.prototype._BoxLayout__set_flexes = function () {
    var events, i, ori, stub1_seq, stub2_itr, stub3_seq, stub4_itr, widget;
    events = Array.prototype.slice.call(arguments);
    ori = this.orientation;
    i = (_pyfunc_contains(ori, [0, "h", "hr"]))? (0) : (1);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        this._applyBoxStyle(widget.outernode, "flex-grow", widget.flex[i]);
    }
    stub3_seq = this.children;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        widget = stub3_seq[stub4_itr];
        widget._check_real_size();
    }
    return null;
};
flexx.classes.BoxLayout.prototype._BoxLayout__set_flexes.nobind = true;
flexx.classes.BoxLayout.prototype._BoxLayout__set_flexes._connection_strings = ["orientation", "children", "children.*.flex"];

flexx.classes.BoxLayout.prototype._BoxLayout__spacing_changed = function () {
    var child, children, children_events, events, margin, old_children, ori, stub10_itr, stub1_seq, stub2_itr, stub3_seq, stub4_itr, stub5_seq, stub6_itr, stub7_seq, stub8_itr, stub9_seq, widget;
    events = Array.prototype.slice.call(arguments);
    ori = this.orientation;
    children_events = (function list_comprehenson () {var res = [];var ev, iter0, i0;iter0 = events;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {ev = iter0[i0];if (!(_pyfunc_equals(ev.type, "children"))) {continue;}{res.push(ev);}}return res;}).apply(this);
    old_children = (_pyfunc_truthy(children_events))? (children_events[0].old_value) : ([]);
    children = this.children;
    stub1_seq = children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        child = stub1_seq[stub2_itr];
        child.outernode.style["margin-top"] = "";
        child.outernode.style["margin-left"] = "";
    }
    stub3_seq = old_children;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        child = stub3_seq[stub4_itr];
        child.outernode.style["margin-top"] = "";
        child.outernode.style["margin-left"] = "";
    }
    margin = (_pyfunc_contains(ori, [1, "v", "vr"]))? ("margin-top") : ("margin-left");
    if (children.length) {
        if (_pyfunc_contains(ori, ["vr", "hr"])) {
            (children[children.length -1].outernode).style[margin] = "0px";
            stub5_seq = children.slice(0,-1);
            if ((typeof stub5_seq === "object") && (!Array.isArray(stub5_seq))) {
                stub5_seq = Object.keys(stub5_seq);
            }
            for (stub6_itr = 0; stub6_itr < stub5_seq.length; stub6_itr += 1) {
                child = stub5_seq[stub6_itr];
                child.outernode.style[margin] = this.spacing + "px";
            }
        } else {
            (children[0].outernode).style[margin] = "0px";
            stub7_seq = children.slice(1);
            if ((typeof stub7_seq === "object") && (!Array.isArray(stub7_seq))) {
                stub7_seq = Object.keys(stub7_seq);
            }
            for (stub8_itr = 0; stub8_itr < stub7_seq.length; stub8_itr += 1) {
                child = stub7_seq[stub8_itr];
                child.outernode.style[margin] = this.spacing + "px";
            }
        }
    }
    stub9_seq = children;
    if ((typeof stub9_seq === "object") && (!Array.isArray(stub9_seq))) {
        stub9_seq = Object.keys(stub9_seq);
    }
    for (stub10_itr = 0; stub10_itr < stub9_seq.length; stub10_itr += 1) {
        widget = stub9_seq[stub10_itr];
        widget._check_real_size();
    }
    return null;
};
flexx.classes.BoxLayout.prototype._BoxLayout__spacing_changed.nobind = true;
flexx.classes.BoxLayout.prototype._BoxLayout__spacing_changed._connection_strings = ["spacing", "orientation", "children"];

flexx.classes.BoxLayout.prototype._applyBoxStyle = function (e, sty, value) {
    var prefix, stub1_seq, stub2_itr;
    stub1_seq = ["-webkit-", "-ms-", "-moz-", ""];
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        prefix = stub1_seq[stub2_itr];
        e.style[_pyfunc_add(prefix, sty)] = value;
    }
    return null;
};

flexx.classes.BoxLayout.prototype.let_children_check_size = function () {
    var stub1_seq, stub2_itr, widget;
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        widget._check_real_size();
    }
    return null;
};

flexx.classes.BoxLayout.prototype._padding_func = function (v) {
    v = (v === undefined) ? 1: v;
    return _pyfunc_float(v);
};
flexx.classes.BoxLayout.prototype._padding_func.nobind = true;
flexx.classes.BoxLayout.prototype._padding_func.default = 1;
flexx.classes.BoxLayout.prototype._padding_func.emitter_type = "Property";



flexx.classes.HBox = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.HBox.prototype = Object.create(flexx.classes.BoxLayout.prototype);
flexx.classes.HBox.prototype._base_class = flexx.classes.BoxLayout.prototype;
flexx.classes.HBox.prototype._class_name = "HBox";

flexx.classes.HBox.prototype._DEFAULT_ORIENTATION = "h";
flexx.classes.HBox.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.HBox.prototype.__handlers__ = ["_BoxLayout__orientation_changed", "_BoxLayout__padding_changed", "_BoxLayout__set_flexes", "_BoxLayout__spacing_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.HBox.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.HBox.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "padding", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];


flexx.classes.VBox = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.VBox.prototype = Object.create(flexx.classes.BoxLayout.prototype);
flexx.classes.VBox.prototype._base_class = flexx.classes.BoxLayout.prototype;
flexx.classes.VBox.prototype._class_name = "VBox";

flexx.classes.VBox.prototype._DEFAULT_ORIENTATION = "v";
flexx.classes.VBox.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.VBox.prototype.__handlers__ = ["_BoxLayout__orientation_changed", "_BoxLayout__padding_changed", "_BoxLayout__set_flexes", "_BoxLayout__spacing_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.VBox.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.VBox.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "padding", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];


flexx.classes.BoxPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BoxPanel.prototype = Object.create(flexx.classes.BaseBoxLayout.prototype);
flexx.classes.BoxPanel.prototype._base_class = flexx.classes.BaseBoxLayout.prototype;
flexx.classes.BoxPanel.prototype._class_name = "BoxPanel";

flexx.classes.BoxPanel.prototype._DEFAULT_ORIENTATION = "h";
flexx.classes.BoxPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BoxPanel.prototype.__handlers__ = ["_BoxPanel__orientation_changed", "_BoxPanel__set_flexes", "_BoxPanel__spacing_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.BoxPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.BoxPanel.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];

flexx.classes.BoxPanel.prototype._BoxPanel__orientation_changed = function () {
    var err_2, events, ori;
    events = Array.prototype.slice.call(arguments);
    ori = this.orientation;
    if ((_pyfunc_equals(ori, 0) || _pyfunc_equals(ori, "h"))) {
        this.phosphor.direction = window.phosphor.boxpanel.BoxPanel.LeftToRight;
    } else if ((_pyfunc_equals(ori, 1) || _pyfunc_equals(ori, "v"))) {
        this.phosphor.direction = window.phosphor.boxpanel.BoxPanel.TopToBottom;
    } else if (_pyfunc_equals(ori, "hr")) {
        this.phosphor.direction = window.phosphor.boxpanel.BoxPanel.RightToLeft;
    } else if (_pyfunc_equals(ori, "vr")) {
        this.phosphor.direction = window.phosphor.boxpanel.BoxPanel.BottomToTop;
    } else {
        err_2 = new Error('ValueError:' + ("Invalid boxpanel orientation: " + ori)); err_2.name = "ValueError"; throw err_2;
    }
    return null;
};
flexx.classes.BoxPanel.prototype._BoxPanel__orientation_changed.nobind = true;
flexx.classes.BoxPanel.prototype._BoxPanel__orientation_changed._connection_strings = ["orientation"];

flexx.classes.BoxPanel.prototype._BoxPanel__set_flexes = function () {
    var events, i, stub1_seq, stub2_itr, widget;
    events = Array.prototype.slice.call(arguments);
    i = (_pyfunc_contains(this.orientation, [0, "h", "hr"]))? (0) : (1);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        window.phosphor.boxpanel.BoxPanel.setStretch(widget.phosphor, widget.flex[i]);
        window.phosphor.boxpanel.BoxPanel.setSizeBasis(widget.phosphor, 100);
    }
    return null;
};
flexx.classes.BoxPanel.prototype._BoxPanel__set_flexes.nobind = true;
flexx.classes.BoxPanel.prototype._BoxPanel__set_flexes._connection_strings = ["orientation", "children", "children.*.flex"];

flexx.classes.BoxPanel.prototype._BoxPanel__spacing_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.phosphor.spacing = events[events.length -1].new_value;
    return null;
};
flexx.classes.BoxPanel.prototype._BoxPanel__spacing_changed.nobind = true;
flexx.classes.BoxPanel.prototype._BoxPanel__spacing_changed._connection_strings = ["spacing"];

flexx.classes.BoxPanel.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.boxpanel.BoxPanel();
    this.node = this.phosphor.node;
    return null;
};



flexx.classes.SplitPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.SplitPanel.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.SplitPanel.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.SplitPanel.prototype._class_name = "SplitPanel";

flexx.classes.SplitPanel.prototype._DEFAULT_ORIENTATION = "h";
flexx.classes.SplitPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.SplitPanel.prototype.__handlers__ = ["_SplitPanel__orientation_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.SplitPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.SplitPanel.prototype.__properties__ = ["base_size", "children", "container", "flex", "orientation", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.SplitPanel.prototype._SplitPanel__orientation_changed = function () {
    var NS, err_2, events, ori;
    events = Array.prototype.slice.call(arguments);
    ori = this.orientation;
    NS = window.phosphor.splitpanel.SplitPanel;
    if ((_pyfunc_equals(ori, 0) || _pyfunc_equals(ori, "h"))) {
        this.phosphor.orientation = NS.Horizontal;
    } else if ((_pyfunc_equals(ori, 1) || _pyfunc_equals(ori, "v"))) {
        this.phosphor.orientation = NS.Vertical;
    } else {
        err_2 = new Error('ValueError:' + ("Invalid splitter orientation: " + ori)); err_2.name = "ValueError"; throw err_2;
    }
    return null;
};
flexx.classes.SplitPanel.prototype._SplitPanel__orientation_changed.nobind = true;
flexx.classes.SplitPanel.prototype._SplitPanel__orientation_changed._connection_strings = ["orientation"];

flexx.classes.SplitPanel.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.splitpanel.SplitPanel();
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.SplitPanel.prototype._orientation_func = function (v) {
    var err_2;
    v = (v === undefined) ? null: v;
    if ((v === null)) {
        v = this._DEFAULT_ORIENTATION;
    }
    if ((({}).toString.call(v).match(/\s([a-zA-Z]+)/)[1].toLowerCase() === 'string')) {
        v = _pymeth_lower.call(v);
    }
    v = _pymeth_get.call({"horizontal": "h", "vertical": "v", 0: "h", 1: "v"}, v, v);
    if ((!_pyfunc_contains(v, ["h", "v"]))) {
        err_2 = new Error('ValueError:' + ("Unknown value for splitter orientation " + JSON.stringify(v) + "")); err_2.name = "ValueError"; throw err_2;
    }
    return v;
};
flexx.classes.SplitPanel.prototype._orientation_func.nobind = true;
flexx.classes.SplitPanel.prototype._orientation_func.default = null;
flexx.classes.SplitPanel.prototype._orientation_func.emitter_type = "Property";



flexx.classes.DockPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.DockPanel.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.DockPanel.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.DockPanel.prototype._class_name = "DockPanel";

flexx.classes.DockPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.DockPanel.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.DockPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.DockPanel.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.DockPanel.prototype._add_child = function (widget) {
    this.phosphor.insertRight(widget.phosphor);
    return null;
};

flexx.classes.DockPanel.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.dockpanel.DockPanel();
    this.node = this.phosphor.node;
    return null;
};



flexx.classes.TabPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.TabPanel.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.TabPanel.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.TabPanel.prototype._class_name = "TabPanel";

flexx.classes.TabPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.TabPanel.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.TabPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.TabPanel.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.TabPanel.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.tabs.TabPanel();
    this.node = this.phosphor.node;
    return null;
};



flexx.classes.BaseTableLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BaseTableLayout.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.BaseTableLayout.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.BaseTableLayout.prototype._class_name = "BaseTableLayout";

flexx.classes.BaseTableLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BaseTableLayout.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_adapt_to_size_change", "check_size"];
flexx.classes.BaseTableLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.BaseTableLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.BaseTableLayout.prototype._adapt_to_size_change = function () {
    var cum_vflex, events, i, remainingHeight, remainingPercentage, row, table;
    events = Array.prototype.slice.call(arguments);
    table = this.node;
    if ((!_pyfunc_equals((events[events.length -1].new_value[1]), (events[0].old_value[1])))) {
        for (i = 0; i < table.children.length; i += 1) {
            row = table.children[i];
            if (_pyfunc_truthy(row.vflex > 0)) {
                row.style.height = "100%";
                break;
            }
        }
        remainingHeight = table.clientHeight;
        cum_vflex = 0;
        for (i = 0; i < table.children.length; i += 1) {
            row = table.children[i];
            cum_vflex=_pyfunc_add(cum_vflex, row.vflex)
            if ((_pyfunc_equals(row.vflex, 0) && _pyfunc_truthy(row.children.length > 0))) {
                remainingHeight -= row.children[0].clientHeight;
            }
        }
        remainingPercentage = _pyfunc_mult(100, remainingHeight) / table.clientHeight;
        for (i = 0; i < table.children.length; i += 1) {
            row = table.children[i];
            if (_pyfunc_truthy(row.vflex > 0)) {
                row.style.height = ((_pyfunc_round((_pyfunc_mult((row.vflex / cum_vflex), remainingPercentage)))) + 1) + "%";
            }
        }
    }
    return null;
};
flexx.classes.BaseTableLayout.prototype._adapt_to_size_change.nobind = true;
flexx.classes.BaseTableLayout.prototype._adapt_to_size_change._connection_strings = ["size"];

flexx.classes.BaseTableLayout.prototype._apply_cell_layout = function (row, col, vflex, hflex, cum_vflex, cum_hflex) {
    var err_1;
    err_1 = new Error('NotImplementedError:' + ""); err_1.name = "NotImplementedError"; throw err_1;
    return null;
};

flexx.classes.BaseTableLayout.prototype._apply_table_layout = function () {
    var AUTOFLEX, col, cum_hflex, cum_vflex, hflexes, i, j, ncols, nrows, row, table, vflexes;
    table = this.node;
    AUTOFLEX = 729;
    nrows = table.children.length;
    ncols = 0;
    for (i = 0; i < table.children.length; i += 1) {
        row = table.children[i];
        ncols = Math.max(ncols, row.children.length);
    }
    if ((_pyfunc_equals(ncols, 0) && _pyfunc_equals(nrows, 0))) {
        return null;
    }
    vflexes = [];
    hflexes = [];
    for (i = 0; i < nrows; i += 1) {
        row = table.children[i];
        for (j = 0; j < ncols; j += 1) {
            col = row.children[j];
            if (((col === undefined) || _pyfunc_equals(col.children.length, 0))) {
                continue;
            }
            vflexes[i] = Math.max((_pyfunc_truthy(vflexes[i]) || 0), (_pyfunc_truthy(col.children[0].vflex) || 0));
            hflexes[j] = Math.max((_pyfunc_truthy(hflexes[j]) || 0), (_pyfunc_truthy(col.children[0].hflex) || 0));
        }
    }
    cum_vflex = vflexes.reduce((function (pv, cv) {return _pyfunc_add(pv, cv);}).bind(this), 0);
    cum_hflex = hflexes.reduce((function (pv, cv) {return _pyfunc_add(pv, cv);}).bind(this), 0);
    if (_pyfunc_equals(cum_vflex, 0)) {
        for (i = 0; i < vflexes.length; i += 1) {
            vflexes[i] = AUTOFLEX;
        }
        cum_vflex = _pyfunc_mult(vflexes.length, AUTOFLEX);
    }
    if (_pyfunc_equals(cum_hflex, 0)) {
        for (i = 0; i < hflexes.length; i += 1) {
            hflexes[i] = AUTOFLEX;
        }
        cum_hflex = _pyfunc_mult(hflexes.length, AUTOFLEX);
    }
    for (i = 0; i < nrows; i += 1) {
        row = table.children[i];
        row.vflex = _pyfunc_truthy(vflexes[i]) || 0;
        for (j = 0; j < ncols; j += 1) {
            col = row.children[j];
            if (((col === undefined) || (col.children.length === 0))) {
                continue;
            }
            this._apply_cell_layout(row, col, vflexes[i], hflexes[j], cum_vflex, cum_hflex);
        }
    }
    return null;
};



flexx.classes.FormLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.FormLayout.prototype = Object.create(flexx.classes.BaseTableLayout.prototype);
flexx.classes.FormLayout.prototype._base_class = flexx.classes.BaseTableLayout.prototype;
flexx.classes.FormLayout.prototype._class_name = "FormLayout";

flexx.classes.FormLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.FormLayout.prototype.__handlers__ = ["_FormLayout__update_flexes", "_FormLayout__update_titles", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_adapt_to_size_change", "check_size"];
flexx.classes.FormLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.FormLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.FormLayout.prototype._FormLayout__update_flexes = function () {
    var events, stub1_seq, stub2_itr, widget;
    events = Array.prototype.slice.call(arguments);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        widget.outernode.vflex = widget.flex[1];
    }
    this._apply_table_layout();
    return null;
};
flexx.classes.FormLayout.prototype._FormLayout__update_flexes.nobind = true;
flexx.classes.FormLayout.prototype._FormLayout__update_flexes._connection_strings = ["children", "children.*.flex"];

flexx.classes.FormLayout.prototype._FormLayout__update_titles = function () {
    var events, stub1_seq, stub2_itr, widget;
    events = Array.prototype.slice.call(arguments);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        widget = stub1_seq[stub2_itr];
        if (_pyfunc_hasattr(widget, "_title_elem")) {
            widget._title_elem.innerHTML = widget.title;
        }
    }
    return null;
};
flexx.classes.FormLayout.prototype._FormLayout__update_titles.nobind = true;
flexx.classes.FormLayout.prototype._FormLayout__update_titles._connection_strings = ["children", "children.*.title"];

flexx.classes.FormLayout.prototype._add_child = function (widget) {
    var row, td;
    row = window.document.createElement("tr");
    this.node.appendChild(row);
    td = window.document.createElement("td");
    td.classList.add("title");
    row.appendChild(td);
    widget._title_elem = td;
    td.innerHTML = widget.title;
    td = window.document.createElement("td");
    row.appendChild(td);
    td.appendChild(widget.outernode);
    widget.outernode.hflex = 1;
    widget.outernode.vflex = widget.flex[1];
    this._apply_table_layout();
    return null;
};

flexx.classes.FormLayout.prototype._apply_cell_layout = function (row, col, vflex, hflex, cum_vflex, cum_hflex) {
    var AUTOFLEX, className;
    AUTOFLEX = 729;
    className = "";
    if ((_pyfunc_equals(vflex, AUTOFLEX) || _pyfunc_equals(vflex, 0))) {
        row.style.height = "auto";
        className=_pyfunc_add(className, "")
    } else {
        row.style.height = (_pyfunc_mult(vflex, 100) / cum_vflex) + "%";
        className=_pyfunc_add(className, "vflex")
    }
    className=_pyfunc_add(className, " ")
    if (_pyfunc_equals(hflex, 0)) {
        col.style.width = "auto";
        className=_pyfunc_add(className, "")
    } else {
        col.style.width = "100%";
        className=_pyfunc_add(className, "hflex")
    }
    col.className = className;
    return null;
};

flexx.classes.FormLayout.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("table");
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.FormLayout.prototype._remove_child = function (widget) {
    var row;
    row = widget.outernode.parentNode.parentNode;
    this.node.removeChild(row);
    if (_pyfunc_truthy(widget._title_elem)) {
        delete widget._title_elem;
    }
    return null;
};



flexx.classes.GridPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.GridPanel.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.GridPanel.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.GridPanel.prototype._class_name = "GridPanel";

flexx.classes.GridPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.GridPanel.prototype.__handlers__ = ["_GridPanel__spacing_changed", "_GridPanel__update_positions", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.GridPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.GridPanel.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "spacing", "style", "tabindex", "title"];

flexx.classes.GridPanel.prototype._GridPanel__spacing_changed = function () {
    var events, spacing;
    events = Array.prototype.slice.call(arguments);
    spacing = events[events.length -1].new_value;
    this.phosphor.rowSpacing = spacing;
    this.phosphor.columnSpacing = spacing;
    return null;
};
flexx.classes.GridPanel.prototype._GridPanel__spacing_changed.nobind = true;
flexx.classes.GridPanel.prototype._GridPanel__spacing_changed._connection_strings = ["spacing"];

flexx.classes.GridPanel.prototype._GridPanel__update_positions = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this._child_limits_changed();
    return null;
};
flexx.classes.GridPanel.prototype._GridPanel__update_positions.nobind = true;
flexx.classes.GridPanel.prototype._GridPanel__update_positions._connection_strings = ["children", "children.*.pos", "children.*.flex", "children.*.base_size"];

flexx.classes.GridPanel.prototype._child_limits_changed = function () {
    var Spec, child, colSpecs, limits, max_col, max_row, rowSpecs, stub1_, stub2_, stub3_seq, stub4_itr, stub5_, stub6_seq, stub7_itr, x, y;
    stub1_ = [0, 0];
    max_row = stub1_[0];max_col = stub1_[1];
    stub3_seq = this.children;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        child = stub3_seq[stub4_itr];
        stub2_ = child.pos;
        x = stub2_[0];y = stub2_[1];
        window.phosphor.gridpanel.GridPanel.setColumn(child.phosphor, x);
        window.phosphor.gridpanel.GridPanel.setRow(child.phosphor, y);
        max_col = Math.max(max_col, x);
        max_row = Math.max(max_row, y);
    }
    colSpecs = (function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = _pyfunc_range(0, (max_col + 1), 1);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];{res.push({"stretch": 0, "minSize": 0, "maxSize": Infinity, "sizeBasis": 0});}}return res;}).apply(this);
    rowSpecs = (function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = _pyfunc_range(0, (max_row + 1), 1);if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];{res.push({"stretch": 0, "minSize": 0, "maxSize": Infinity, "sizeBasis": 0});}}return res;}).apply(this);
    stub6_seq = this.children;
    if ((typeof stub6_seq === "object") && (!Array.isArray(stub6_seq))) {
        stub6_seq = Object.keys(stub6_seq);
    }
    for (stub7_itr = 0; stub7_itr < stub6_seq.length; stub7_itr += 1) {
        child = stub6_seq[stub7_itr];
        stub5_ = child.pos;
        x = stub5_[0];y = stub5_[1];
        limits = child.phosphor.sizeLimits;
        colSpecs[x].minSize = Math.max((colSpecs[x].minSize), limits.minWidth);
        colSpecs[x].maxSize = Math.min((colSpecs[x].maxSize), limits.maxWidth);
        colSpecs[x].sizeBasis = Math.max((colSpecs[x].sizeBasis), child.base_size[0]);
        colSpecs[x].stretch = Math.max((colSpecs[x].stretch), child.flex[0]);
        rowSpecs[y].minSize = Math.max((rowSpecs[y].minSize), limits.minHeight);
        rowSpecs[y].maxSize = Math.min((rowSpecs[y].maxSize), limits.maxHeight);
        rowSpecs[y].sizeBasis = Math.max((rowSpecs[y].sizeBasis), child.base_size[1]);
        rowSpecs[y].stretch = Math.max((rowSpecs[y].stretch), child.flex[1]);
    }
    this.phosphor._columnSpecs = colSpecs;
    this.phosphor._rowSpecs = rowSpecs;
    Spec = window.phosphor.gridpanel.Spec;
    this.phosphor.columnSpecs = (function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = colSpecs;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];{res.push(new Spec(i));}}return res;}).apply(this);
    this.phosphor.rowSpecs = (function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = rowSpecs;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];{res.push(new Spec(i));}}return res;}).apply(this);
    return null;
};

flexx.classes.GridPanel.prototype._init_phosphor_and_node = function () {
    var LayoutNotifier, that;
    this.phosphor = new window.phosphor.gridpanel.GridPanel();
    this.node = this.phosphor.node;
    that = this;
    LayoutNotifier = function () {
        _pyfunc_instantiate(this, arguments);
    }
    LayoutNotifier.prototype._base_class = Object;
    LayoutNotifier.prototype._class_name = "LayoutNotifier";
    
    LayoutNotifier.prototype.filterMessage = function (handler, msg) {
        if (_pyfunc_equals(msg._type, "layout-request")) {
            that._child_limits_changed();
        }
        return false;
    };


    window.phosphor.messaging.installMessageFilter(this.phosphor, new LayoutNotifier());
    return null;
};

flexx.classes.GridPanel.prototype._spacing_func = function (v) {
    v = (v === undefined) ? 5: v;
    return _pyfunc_float(v);
};
flexx.classes.GridPanel.prototype._spacing_func.nobind = true;
flexx.classes.GridPanel.prototype._spacing_func.default = 5;
flexx.classes.GridPanel.prototype._spacing_func.emitter_type = "Property";



flexx.classes.GridLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.GridLayout.prototype = Object.create(flexx.classes.BaseTableLayout.prototype);
flexx.classes.GridLayout.prototype._base_class = flexx.classes.BaseTableLayout.prototype;
flexx.classes.GridLayout.prototype._class_name = "GridLayout";

flexx.classes.GridLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.GridLayout.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_adapt_to_size_change", "check_size"];
flexx.classes.GridLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.GridLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];


flexx.classes.StackedPanel = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.StackedPanel.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.StackedPanel.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.StackedPanel.prototype._class_name = "StackedPanel";

flexx.classes.StackedPanel.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.StackedPanel.prototype.__handlers__ = ["_StackedPanel__set_current_widget", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.StackedPanel.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.StackedPanel.prototype.__properties__ = ["base_size", "children", "container", "current", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.StackedPanel.prototype._StackedPanel__set_current_widget = function () {
    var events, i, widget;
    events = Array.prototype.slice.call(arguments);
    widget = events[events.length -1].new_value;
    for (i = 0; i < this.phosphor.childCount(); i += 1) {
        this.phosphor.childAt(i).hide();
    }
    if ((widget !== null)) {
        widget.phosphor.show();
    }
    return null;
};
flexx.classes.StackedPanel.prototype._StackedPanel__set_current_widget.nobind = true;
flexx.classes.StackedPanel.prototype._StackedPanel__set_current_widget._connection_strings = ["current"];

flexx.classes.StackedPanel.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.stackedpanel.StackedPanel();
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.StackedPanel.prototype._current_func = function (v) {
    var err_2;
    v = (v === undefined) ? null: v;
    if ((!((v === null) || (v instanceof flexx.classes.Widget)))) {
        err_2 = new Error('ValueError:' + ("The StackedPanel's current widget " + "should be a Widget.")); err_2.name = "ValueError"; throw err_2;
    }
    return v;
};
flexx.classes.StackedPanel.prototype._current_func.nobind = true;
flexx.classes.StackedPanel.prototype._current_func.default = null;
flexx.classes.StackedPanel.prototype._current_func.emitter_type = "Property";



flexx.classes.PinboardLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.PinboardLayout.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.PinboardLayout.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.PinboardLayout.prototype._class_name = "PinboardLayout";

flexx.classes.PinboardLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.PinboardLayout.prototype.__handlers__ = ["_PinboardLayout__pos_changed", "_PinboardLayout__size_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.PinboardLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.PinboardLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.PinboardLayout.prototype._PinboardLayout__pos_changed = function () {
    var child, events, pos, st, stub1_seq, stub2_itr;
    events = Array.prototype.slice.call(arguments);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        child = stub1_seq[stub2_itr];
        pos = child.pos;
        st = child.outernode.style;
        st.left = (_pyfunc_truthy(pos[0] > 1))? (pos[0] + "px") : (_pyfunc_mult(pos[0], 100) + "%");
        st.top = (_pyfunc_truthy(pos[1] > 1))? (pos[1] + "px") : (_pyfunc_mult(pos[1], 100) + "%");
    }
    return null;
};
flexx.classes.PinboardLayout.prototype._PinboardLayout__pos_changed.nobind = true;
flexx.classes.PinboardLayout.prototype._PinboardLayout__pos_changed._connection_strings = ["children", "children.*.pos"];

flexx.classes.PinboardLayout.prototype._PinboardLayout__size_changed = function () {
    var child, events, size, stub1_seq, stub2_itr;
    events = Array.prototype.slice.call(arguments);
    stub1_seq = this.children;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        child = stub1_seq[stub2_itr];
        size = child.base_size;
        child._set_size("", size[0], size[1]);
    }
    return null;
};
flexx.classes.PinboardLayout.prototype._PinboardLayout__size_changed.nobind = true;
flexx.classes.PinboardLayout.prototype._PinboardLayout__size_changed._connection_strings = ["children", "children.*.base_size"];

flexx.classes.PinboardLayout.prototype._init_phosphor_and_node = function () {
    this.phosphor = new window.phosphor.panel.Panel();
    this.node = this.phosphor.node;
    return null;
};



flexx.classes.BaseButton = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BaseButton.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.BaseButton.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.BaseButton.prototype._class_name = "BaseButton";

flexx.classes.BaseButton.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_click", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BaseButton.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.BaseButton.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.BaseButton.prototype.__properties__ = ["base_size", "checked", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title"];

flexx.classes.BaseButton.prototype._checked_func = function (v) {
    v = (v === undefined) ? false: v;
    return _pyfunc_bool(v);
};
flexx.classes.BaseButton.prototype._checked_func.nobind = true;
flexx.classes.BaseButton.prototype._checked_func.default = false;
flexx.classes.BaseButton.prototype._checked_func.emitter_type = "Property";

flexx.classes.BaseButton.prototype._mouse_click_func = function (e) {
    return this._create_mouse_event(e);
};
flexx.classes.BaseButton.prototype._mouse_click_func.nobind = true;
flexx.classes.BaseButton.prototype._mouse_click_func.emitter_type = "Emitter";

flexx.classes.BaseButton.prototype._text_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.BaseButton.prototype._text_func.nobind = true;
flexx.classes.BaseButton.prototype._text_func.default = "";
flexx.classes.BaseButton.prototype._text_func.emitter_type = "Property";



flexx.classes.Button = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Button.prototype = Object.create(flexx.classes.BaseButton.prototype);
flexx.classes.Button.prototype._base_class = flexx.classes.BaseButton.prototype;
flexx.classes.Button.prototype._class_name = "Button";

flexx.classes.Button.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_click", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Button.prototype.__handlers__ = ["_Button__text_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.Button.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.Button.prototype.__properties__ = ["base_size", "checked", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title"];

flexx.classes.Button.prototype._Button__text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.innerHTML = events[events.length -1].new_value;
    return null;
};
flexx.classes.Button.prototype._Button__text_changed.nobind = true;
flexx.classes.Button.prototype._Button__text_changed._connection_strings = ["text"];

flexx.classes.Button.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("button");
    this.node = this.phosphor.node;
    this.node.addEventListener("click", this.mouse_click, 0);
    return null;
};



flexx.classes.ToggleButton = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.ToggleButton.prototype = Object.create(flexx.classes.BaseButton.prototype);
flexx.classes.ToggleButton.prototype._base_class = flexx.classes.BaseButton.prototype;
flexx.classes.ToggleButton.prototype._class_name = "ToggleButton";

flexx.classes.ToggleButton.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_click", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.ToggleButton.prototype.__handlers__ = ["_ToggleButton__check_changed", "_ToggleButton__text_changed", "_ToggleButton__toggle_checked", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.ToggleButton.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.ToggleButton.prototype.__properties__ = ["base_size", "checked", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title"];

flexx.classes.ToggleButton.prototype._ToggleButton__check_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    if (_pyfunc_truthy(this.checked)) {
        this.node.classList.add("flx-ToggleButton-checked");
    } else {
        _pymeth_remove.call(this.node.classList, "flx-ToggleButton-checked");
    }
    return null;
};
flexx.classes.ToggleButton.prototype._ToggleButton__check_changed.nobind = true;
flexx.classes.ToggleButton.prototype._ToggleButton__check_changed._connection_strings = ["checked"];

flexx.classes.ToggleButton.prototype._ToggleButton__text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.innerHTML = events[events.length -1].new_value;
    return null;
};
flexx.classes.ToggleButton.prototype._ToggleButton__text_changed.nobind = true;
flexx.classes.ToggleButton.prototype._ToggleButton__text_changed._connection_strings = ["text"];

flexx.classes.ToggleButton.prototype._ToggleButton__toggle_checked = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.checked = !_pyfunc_truthy(this.checked);
    return null;
};
flexx.classes.ToggleButton.prototype._ToggleButton__toggle_checked.nobind = true;
flexx.classes.ToggleButton.prototype._ToggleButton__toggle_checked._connection_strings = ["mouse_click"];

flexx.classes.ToggleButton.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("button");
    this.node = this.phosphor.node;
    this.node.addEventListener("click", this.mouse_click, 0);
    return null;
};



flexx.classes.RadioButton = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.RadioButton.prototype = Object.create(flexx.classes.BaseButton.prototype);
flexx.classes.RadioButton.prototype._base_class = flexx.classes.BaseButton.prototype;
flexx.classes.RadioButton.prototype._class_name = "RadioButton";

flexx.classes.RadioButton.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_click", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.RadioButton.prototype.__handlers__ = ["_RadioButton__check_changed", "_RadioButton__text_changed", "_RadioButton__update_group", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.RadioButton.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.RadioButton.prototype.__properties__ = ["base_size", "checked", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title"];

flexx.classes.RadioButton.prototype._RadioButton__check_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.checked = this.checked;
    return null;
};
flexx.classes.RadioButton.prototype._RadioButton__check_changed.nobind = true;
flexx.classes.RadioButton.prototype._RadioButton__check_changed._connection_strings = ["checked"];

flexx.classes.RadioButton.prototype._RadioButton__text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.text_node.innerHTML = events[events.length -1].new_value;
    return null;
};
flexx.classes.RadioButton.prototype._RadioButton__text_changed.nobind = true;
flexx.classes.RadioButton.prototype._RadioButton__text_changed._connection_strings = ["text"];

flexx.classes.RadioButton.prototype._RadioButton__update_group = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    if (_pyfunc_truthy(this.parent)) {
        this.node.name = this.parent.id;
    }
    return null;
};
flexx.classes.RadioButton.prototype._RadioButton__update_group.nobind = true;
flexx.classes.RadioButton.prototype._RadioButton__update_group._connection_strings = ["parent"];

flexx.classes.RadioButton.prototype._check_changed_from_dom = function (ev) {
    var child, stub1_seq, stub2_itr;
    if (_pyfunc_truthy(this.parent)) {
        stub1_seq = this.parent.children;
        if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
            stub1_seq = Object.keys(stub1_seq);
        }
        for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
            child = stub1_seq[stub2_itr];
            if ((_pyfunc_truthy(child instanceof flexx.classes.RadioButton) && (child !== this))) {
                child.checked = child.node.checked;
            }
        }
    }
    this.checked = this.node.checked;
    return null;
};

flexx.classes.RadioButton.prototype._init_phosphor_and_node = function () {
    var p, template;
    this.phosphor = p = window.phosphor.createWidget("div");
    template = "<input type=\"radio\" id=\"ID\"><label for=\"ID\">";
    p.node.innerHTML = _pymeth_replace.call(template, "ID", this.id);
    this.node = p.node.childNodes[0];
    this.text_node = p.node.childNodes[1];
    this.node.addEventListener("click", this.mouse_click, 0);
    this.node.addEventListener("change", this._check_changed_from_dom, 0);
    return null;
};



flexx.classes.CheckBox = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.CheckBox.prototype = Object.create(flexx.classes.BaseButton.prototype);
flexx.classes.CheckBox.prototype._base_class = flexx.classes.BaseButton.prototype;
flexx.classes.CheckBox.prototype._class_name = "CheckBox";

flexx.classes.CheckBox.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_click", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.CheckBox.prototype.__handlers__ = ["_CheckBox__check_changed", "_CheckBox__text_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.CheckBox.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.CheckBox.prototype.__properties__ = ["base_size", "checked", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title"];

flexx.classes.CheckBox.prototype._CheckBox__check_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.checked = this.checked;
    return null;
};
flexx.classes.CheckBox.prototype._CheckBox__check_changed.nobind = true;
flexx.classes.CheckBox.prototype._CheckBox__check_changed._connection_strings = ["checked"];

flexx.classes.CheckBox.prototype._CheckBox__text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.text_node.innerHTML = events[events.length -1].new_value;
    return null;
};
flexx.classes.CheckBox.prototype._CheckBox__text_changed.nobind = true;
flexx.classes.CheckBox.prototype._CheckBox__text_changed._connection_strings = ["text"];

flexx.classes.CheckBox.prototype._check_changed_from_dom = function (ev) {
    this.checked = this.node.checked;
    return null;
};

flexx.classes.CheckBox.prototype._init_phosphor_and_node = function () {
    var p, template;
    this.phosphor = p = window.phosphor.createWidget("div");
    template = "<input type=\"checkbox\" id=\"ID\"><label for=\"ID\">";
    p.node.innerHTML = _pymeth_replace.call(template, "ID", this.id);
    this.node = p.node.childNodes[0];
    this.text_node = p.node.childNodes[1];
    this.node.addEventListener("click", this.mouse_click, 0);
    this.node.addEventListener("change", this._check_changed_from_dom, 0);
    return null;
};



flexx.classes.Slider = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Slider.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.Slider.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.Slider.prototype._class_name = "Slider";

flexx.classes.Slider.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Slider.prototype.__handlers__ = ["_Slider__max_changed", "_Slider__min_changed", "_Slider__step_changed", "_Slider__value_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.Slider.prototype.__local_properties__ = ["parent", "size", "user_value"];
flexx.classes.Slider.prototype.__properties__ = ["base_size", "children", "container", "flex", "max", "min", "parent", "pos", "size", "step", "style", "tabindex", "title", "user_value", "value"];

flexx.classes.Slider.prototype._Slider__max_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.max = events[events.length -1].new_value;
    return null;
};
flexx.classes.Slider.prototype._Slider__max_changed.nobind = true;
flexx.classes.Slider.prototype._Slider__max_changed._connection_strings = ["max"];

flexx.classes.Slider.prototype._Slider__min_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.min = events[events.length -1].new_value;
    return null;
};
flexx.classes.Slider.prototype._Slider__min_changed.nobind = true;
flexx.classes.Slider.prototype._Slider__min_changed._connection_strings = ["min"];

flexx.classes.Slider.prototype._Slider__step_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.step = events[events.length -1].new_value;
    return null;
};
flexx.classes.Slider.prototype._Slider__step_changed.nobind = true;
flexx.classes.Slider.prototype._Slider__step_changed._connection_strings = ["step"];

flexx.classes.Slider.prototype._Slider__value_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.value = events[events.length -1].new_value;
    return null;
};
flexx.classes.Slider.prototype._Slider__value_changed.nobind = true;
flexx.classes.Slider.prototype._Slider__value_changed._connection_strings = ["value"];

flexx.classes.Slider.prototype._init_phosphor_and_node = function () {
    var f;
    this.phosphor = window.phosphor.createWidget("input");
    this.node = this.phosphor.node;
    this.node.type = "range";
    f = (function (ev) {return this._set_prop("user_value", this.node.value);}).bind(this);
    this.node.addEventListener("input", f, false);
    return null;
};

flexx.classes.Slider.prototype._max_func = function (v) {
    v = (v === undefined) ? 1: v;
    return _pyfunc_float(v);
};
flexx.classes.Slider.prototype._max_func.nobind = true;
flexx.classes.Slider.prototype._max_func.default = 1;
flexx.classes.Slider.prototype._max_func.emitter_type = "Property";

flexx.classes.Slider.prototype._min_func = function (v) {
    v = (v === undefined) ? 0: v;
    return _pyfunc_float(v);
};
flexx.classes.Slider.prototype._min_func.nobind = true;
flexx.classes.Slider.prototype._min_func.default = 0;
flexx.classes.Slider.prototype._min_func.emitter_type = "Property";

flexx.classes.Slider.prototype._step_func = function (v) {
    v = (v === undefined) ? 0.01: v;
    return _pyfunc_float(v);
};
flexx.classes.Slider.prototype._step_func.nobind = true;
flexx.classes.Slider.prototype._step_func.default = 0.01;
flexx.classes.Slider.prototype._step_func.emitter_type = "Property";

flexx.classes.Slider.prototype._user_value_func = function (v) {
    v = (v === undefined) ? null: v;
    if ((v !== null)) {
        v = _pyfunc_float(v);
        this.value = v;
    }
    return v;
};
flexx.classes.Slider.prototype._user_value_func.nobind = true;
flexx.classes.Slider.prototype._user_value_func.default = null;
flexx.classes.Slider.prototype._user_value_func.emitter_type = "Readonly";

flexx.classes.Slider.prototype._value_func = function (v) {
    v = (v === undefined) ? 0: v;
    return _pyfunc_float((Math.min(this.max, Math.max(this.min, v))));
};
flexx.classes.Slider.prototype._value_func.nobind = true;
flexx.classes.Slider.prototype._value_func.default = 0;
flexx.classes.Slider.prototype._value_func.emitter_type = "Property";



flexx.classes.LineEdit = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.LineEdit.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.LineEdit.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.LineEdit.prototype._class_name = "LineEdit";

flexx.classes.LineEdit.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel", "submit"];
flexx.classes.LineEdit.prototype.__handlers__ = ["_LineEdit__autocomp_changed", "_LineEdit__password_mode_changed", "_LineEdit__placeholder_text_changed", "_LineEdit__text_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.LineEdit.prototype.__local_properties__ = ["parent", "size", "user_text"];
flexx.classes.LineEdit.prototype.__properties__ = ["autocomp", "base_size", "children", "container", "flex", "parent", "password_mode", "placeholder_text", "pos", "size", "style", "tabindex", "text", "title", "user_text"];

flexx.classes.LineEdit.prototype._LineEdit__autocomp_changed = function () {
    var autocomp, events, op, option, stub1_seq, stub2_itr, stub3_seq, stub4_itr;
    events = Array.prototype.slice.call(arguments);
    autocomp = this.autocomp;
    stub1_seq = this._autocomp;
    if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
        stub1_seq = Object.keys(stub1_seq);
    }
    for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
        op = stub1_seq[stub2_itr];
        this._autocomp.removeChild(op);
    }
    stub3_seq = autocomp;
    if ((typeof stub3_seq === "object") && (!Array.isArray(stub3_seq))) {
        stub3_seq = Object.keys(stub3_seq);
    }
    for (stub4_itr = 0; stub4_itr < stub3_seq.length; stub4_itr += 1) {
        option = stub3_seq[stub4_itr];
        op = window.document.createElement("option");
        op.value = option;
        this._autocomp.appendChild(op);
    }
    return null;
};
flexx.classes.LineEdit.prototype._LineEdit__autocomp_changed.nobind = true;
flexx.classes.LineEdit.prototype._LineEdit__autocomp_changed._connection_strings = ["autocomp"];

flexx.classes.LineEdit.prototype._LineEdit__password_mode_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.type = ["text", "password"][_pyfunc_int(_pyfunc_bool(this.password_mode))];
    return null;
};
flexx.classes.LineEdit.prototype._LineEdit__password_mode_changed.nobind = true;
flexx.classes.LineEdit.prototype._LineEdit__password_mode_changed._connection_strings = ["password_mode"];

flexx.classes.LineEdit.prototype._LineEdit__placeholder_text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.placeholder = this.placeholder_text;
    return null;
};
flexx.classes.LineEdit.prototype._LineEdit__placeholder_text_changed.nobind = true;
flexx.classes.LineEdit.prototype._LineEdit__placeholder_text_changed._connection_strings = ["placeholder_text"];

flexx.classes.LineEdit.prototype._LineEdit__text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.value = this.text;
    return null;
};
flexx.classes.LineEdit.prototype._LineEdit__text_changed.nobind = true;
flexx.classes.LineEdit.prototype._LineEdit__text_changed._connection_strings = ["text"];

flexx.classes.LineEdit.prototype._init_phosphor_and_node = function () {
    var _, f1, f2, ori;
    ori = window.phosphor.widget.Widget.createNode;
    _ = (function () {
        var d;
        d = window.document.createElement("div");
        d.innerHTML = "<input type=\"text\", list=\"" + this.id + "\" />";
        return d.childNodes[0];
    }).bind(this);

    window.phosphor.widget.Widget.createNode = _;
    this.phosphor = new window.phosphor.widget.Widget();
    window.phosphor.widget.Widget.createNode = ori;
    this.node = this.phosphor.node;
    this._autocomp = window.document.createElement("datalist");
    this._autocomp.id = this.id;
    this.node.appendChild(this._autocomp);
    f1 = (function (ev) {return this._set_prop("user_text", this.node.value);}).bind(this);
    f2 = (function (ev) {return (_pyfunc_equals(ev.which, 13))? (this.submit()) : (null);}).bind(this);
    this.node.addEventListener("input", f1, false);
    this.node.addEventListener("keydown", f2, false);
    return null;
};

flexx.classes.LineEdit.prototype._autocomp_func = function (v) {
    v = (v === undefined) ? []: v;
    return _pyfunc_list(((function list_comprehenson () {var res = [];var i, iter0, i0;iter0 = v;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {i = iter0[i0];{res.push(_pyfunc_str(i));}}return res;}).apply(this)));
};
flexx.classes.LineEdit.prototype._autocomp_func.nobind = true;
flexx.classes.LineEdit.prototype._autocomp_func.default = [];
flexx.classes.LineEdit.prototype._autocomp_func.emitter_type = "Property";

flexx.classes.LineEdit.prototype._password_mode_func = function (v) {
    v = (v === undefined) ? false: v;
    return _pyfunc_bool(v);
};
flexx.classes.LineEdit.prototype._password_mode_func.nobind = true;
flexx.classes.LineEdit.prototype._password_mode_func.default = false;
flexx.classes.LineEdit.prototype._password_mode_func.emitter_type = "Property";

flexx.classes.LineEdit.prototype._placeholder_text_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.LineEdit.prototype._placeholder_text_func.nobind = true;
flexx.classes.LineEdit.prototype._placeholder_text_func.default = "";
flexx.classes.LineEdit.prototype._placeholder_text_func.emitter_type = "Property";

flexx.classes.LineEdit.prototype._submit_func = function () {
    return {};
};
flexx.classes.LineEdit.prototype._submit_func.nobind = true;
flexx.classes.LineEdit.prototype._submit_func.emitter_type = "Emitter";

flexx.classes.LineEdit.prototype._text_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.LineEdit.prototype._text_func.nobind = true;
flexx.classes.LineEdit.prototype._text_func.default = "";
flexx.classes.LineEdit.prototype._text_func.emitter_type = "Property";

flexx.classes.LineEdit.prototype._user_text_func = function (v) {
    v = (v === undefined) ? null: v;
    if ((v !== null)) {
        v = _pyfunc_str(v);
        this.text = v;
    }
    return v;
};
flexx.classes.LineEdit.prototype._user_text_func.nobind = true;
flexx.classes.LineEdit.prototype._user_text_func.default = null;
flexx.classes.LineEdit.prototype._user_text_func.emitter_type = "Readonly";



flexx.classes.Label = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Label.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.Label.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.Label.prototype._class_name = "Label";

flexx.classes.Label.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Label.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_text_changed", "_wrap_changed", "check_size"];
flexx.classes.Label.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.Label.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "text", "title", "wrap"];

flexx.classes.Label.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("div");
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.Label.prototype._text_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.innerHTML = this.text;
    this._check_real_size(true);
    return null;
};
flexx.classes.Label.prototype._text_changed.nobind = true;
flexx.classes.Label.prototype._text_changed._connection_strings = ["text"];

flexx.classes.Label.prototype._wrap_changed = function () {
    var events, wrap;
    events = Array.prototype.slice.call(arguments);
    wrap = this.wrap;
    this.node.style["word-wrap"] = ["initial", "normal", "break-word"][wrap];
    this.node.style["white-space"] = ["no-wrap", "normal", "normal"][wrap];
    this._check_real_size(true);
    return null;
};
flexx.classes.Label.prototype._wrap_changed.nobind = true;
flexx.classes.Label.prototype._wrap_changed._connection_strings = ["wrap"];

flexx.classes.Label.prototype._text_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.Label.prototype._text_func.nobind = true;
flexx.classes.Label.prototype._text_func.default = "";
flexx.classes.Label.prototype._text_func.emitter_type = "Property";

flexx.classes.Label.prototype._wrap_func = function (v) {
    v = (v === undefined) ? false: v;
    return _pymeth_get.call({0: 0, 1: 1, 2: 2}, v, (_pyfunc_int(_pyfunc_bool(v))));
};
flexx.classes.Label.prototype._wrap_func.nobind = true;
flexx.classes.Label.prototype._wrap_func.default = false;
flexx.classes.Label.prototype._wrap_func.emitter_type = "Property";



flexx.classes.GroupWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.GroupWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.GroupWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.GroupWidget.prototype._class_name = "GroupWidget";

flexx.classes.GroupWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.GroupWidget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_title_changed", "check_size"];
flexx.classes.GroupWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.GroupWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.GroupWidget.prototype._init_phosphor_and_node = function () {
    var _, ori;
    ori = window.phosphor.panel.Panel.createNode;
    _ = (function () {
        return window.document.createElement("fieldset");
    }).bind(this);

    window.phosphor.panel.Panel.createNode = _;
    this.phosphor = new window.phosphor.panel.Panel();
    window.phosphor.panel.Panel.createNode = ori;
    this._legend = window.document.createElement("legend");
    this.phosphor.node.appendChild(this._legend);
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.GroupWidget.prototype._title_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this._legend.innerHTML = this.title;
    return null;
};
flexx.classes.GroupWidget.prototype._title_changed.nobind = true;
flexx.classes.GroupWidget.prototype._title_changed._connection_strings = ["title"];



flexx.classes.ProgressBar = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.ProgressBar.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.ProgressBar.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.ProgressBar.prototype._class_name = "ProgressBar";

flexx.classes.ProgressBar.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.ProgressBar.prototype.__handlers__ = ["_ProgressBar__max_changed", "_ProgressBar__value_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.ProgressBar.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.ProgressBar.prototype.__properties__ = ["base_size", "children", "container", "flex", "max", "parent", "pos", "size", "style", "tabindex", "title", "value"];

flexx.classes.ProgressBar.prototype._ProgressBar__max_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.max = events[events.length -1].new_value;
    return null;
};
flexx.classes.ProgressBar.prototype._ProgressBar__max_changed.nobind = true;
flexx.classes.ProgressBar.prototype._ProgressBar__max_changed._connection_strings = ["max"];

flexx.classes.ProgressBar.prototype._ProgressBar__value_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.value = events[events.length -1].new_value;
    return null;
};
flexx.classes.ProgressBar.prototype._ProgressBar__value_changed.nobind = true;
flexx.classes.ProgressBar.prototype._ProgressBar__value_changed._connection_strings = ["value"];

flexx.classes.ProgressBar.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("progress");
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.ProgressBar.prototype._max_func = function (v) {
    v = (v === undefined) ? 1: v;
    return _pyfunc_float(v);
};
flexx.classes.ProgressBar.prototype._max_func.nobind = true;
flexx.classes.ProgressBar.prototype._max_func.default = 1;
flexx.classes.ProgressBar.prototype._max_func.emitter_type = "Property";

flexx.classes.ProgressBar.prototype._value_func = function (v) {
    v = (v === undefined) ? 0: v;
    return _pyfunc_float(v);
};
flexx.classes.ProgressBar.prototype._value_func.nobind = true;
flexx.classes.ProgressBar.prototype._value_func.default = 0;
flexx.classes.ProgressBar.prototype._value_func.emitter_type = "Property";



flexx.classes.CanvasWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.CanvasWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.CanvasWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.CanvasWidget.prototype._class_name = "CanvasWidget";

flexx.classes.CanvasWidget.prototype.CAPTURE_MOUSE = true;
flexx.classes.CanvasWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.CanvasWidget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_update_canvas_size", "check_size"];
flexx.classes.CanvasWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.CanvasWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.CanvasWidget.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("div");
    this.node = window.document.createElement("canvas");
    this.phosphor.node.appendChild(this.node);
    this.node.style.position = "absolute";
    return null;
};

flexx.classes.CanvasWidget.prototype._update_canvas_size = function () {
    var events, size;
    events = Array.prototype.slice.call(arguments);
    size = events[events.length -1].new_value;
    if (_pyfunc_truthy(_pyfunc_truthy(size[0]) || size[1])) {
        this.node.width = size[0];
        this.node.height = size[1];
        this.node.style.width = size[0] + "px";
        this.node.style.height = size[1] + "px";
    }
    return null;
};
flexx.classes.CanvasWidget.prototype._update_canvas_size.nobind = true;
flexx.classes.CanvasWidget.prototype._update_canvas_size._connection_strings = ["size"];



flexx.classes.PlotWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.PlotWidget.prototype = Object.create(flexx.classes.CanvasWidget.prototype);
flexx.classes.PlotWidget.prototype._base_class = flexx.classes.CanvasWidget.prototype;
flexx.classes.PlotWidget.prototype._class_name = "PlotWidget";

flexx.classes.PlotWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.PlotWidget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_update_canvas_size", "check_size", "update"];
flexx.classes.PlotWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.PlotWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "line_color", "line_width", "marker_color", "marker_size", "parent", "pos", "size", "style", "tabindex", "title", "xdata", "xlabel", "ydata", "ylabel", "yrange"];

flexx.classes.PlotWidget.prototype._get_ticks = function (scale, t1, t2, min_tick_dist) {
    var first_tick, i, last_tick, stub1_els, stub2_seq, stub3_itr, t, tick_unit, ticks;
    min_tick_dist = (min_tick_dist === undefined) ? 40: min_tick_dist;
    stub1_els = true;
    stub2_seq = this._tick_units;
    if ((typeof stub2_seq === "object") && (!Array.isArray(stub2_seq))) {
        stub2_seq = Object.keys(stub2_seq);
    }
    for (stub3_itr = 0; stub3_itr < stub2_seq.length; stub3_itr += 1) {
        tick_unit = stub2_seq[stub3_itr];
        if (_pyfunc_truthy(_pyfunc_mult(tick_unit, scale) >= min_tick_dist)) {
            stub1_els = false; break;
        }
    } if (stub1_els) {
        return [];
    }
    first_tick = _pyfunc_mult(window.Math.ceil(t1 / tick_unit), tick_unit);
    last_tick = _pyfunc_mult(window.Math.floor(t2 / tick_unit), tick_unit);
    ticks = [];
    t = first_tick;
    while (t <= last_tick) {
        _pymeth_append.call(ticks, t);
        t=_pyfunc_add(t, tick_unit)
    }
    for (i = 0; i < ticks.length; i += 1) {
        t = ticks[i].toPrecision(4);
        if (_pyfunc_contains(".", t)) {
            t = _pymeth_replace.call(t, (new window.RegExp("[0]+$")), "");
        }
        if (_pyfunc_equals(t[t.length -1], ".")) {
            t=_pyfunc_add(t, "0")
        }
        ticks[i] = t;
    }
    return ticks;
};

flexx.classes.PlotWidget.prototype._update = function () {
    var bpad, ctx, h, lc, lpad, lw, mc, ms, rpad, scale_x, scale_y, stub10_, stub11_seq, stub12_itr, stub13_seq, stub14_itr, stub15_seq, stub16_itr, stub17_seq, stub18_itr, stub19_seq, stub1_, stub20_itr, stub21_tgt, stub22_seq, stub23_itr, stub24_tgt, stub25_seq, stub26_itr, stub27_tgt, stub28_seq, stub29_itr, stub2_, stub30_tgt, stub3_, stub4_, stub5_, stub6_, stub7_, stub8_, stub9_, sx, sx_ticks, sxx, sy, sy_ticks, syy, title, tpad, w, x, x1, x2, x_ticks, xlabel, xx, y, y1, y2, y_ticks, ylabel, yrange, yy;
    stub1_ = [this.xdata, this.ydata];
    xx = stub1_[0];yy = stub1_[1];
    yrange = this.yrange;
    stub2_ = [this.line_color, this.line_width];
    lc = stub2_[0];lw = stub2_[1];
    stub3_ = [this.marker_color, this.marker_size];
    mc = stub3_[0];ms = stub3_[1];
    stub4_ = [this.title, this.xlabel, this.ylabel];
    title = stub4_[0];xlabel = stub4_[1];ylabel = stub4_[2];
    ctx = this._context;
    stub5_ = [this.node.clientWidth, this.node.clientHeight];
    w = stub5_[0];h = stub5_[1];
    stub6_ = [Math.min.apply(null, xx), Math.max.apply(null, xx)];
    x1 = stub6_[0];x2 = stub6_[1];
    stub7_ = [Math.min.apply(null, yy), Math.max.apply(null, yy)];
    y1 = stub7_[0];y2 = stub7_[1];
    if (_pyfunc_truthy(xx)) {
        x1 -= _pyfunc_mult((x2 - x1), 0.02);
        x2=_pyfunc_add(x2, _pyfunc_mult((x2 - x1), 0.02))
    } else {
        stub8_ = [0, 1];
        x1 = stub8_[0];x2 = stub8_[1];
    }
    if (_pyfunc_truthy(yrange)) {
        stub9_ = yrange;
        y1 = stub9_[0];y2 = stub9_[1];
    } else if (_pyfunc_truthy(yy)) {
        y1 -= _pyfunc_mult((y2 - y1), 0.02);
        y2=_pyfunc_add(y2, _pyfunc_mult((y2 - y1), 0.02))
    } else {
        stub10_ = [0, 1];
        y1 = stub10_[0];y2 = stub10_[1];
    }
    lpad = rpad = bpad = tpad = 25.5;
    lpad=_pyfunc_add(lpad, 30)
    if (_pyfunc_truthy(title)) {
        tpad=_pyfunc_add(tpad, 10)
    }
    if (_pyfunc_truthy(xlabel)) {
        bpad=_pyfunc_add(bpad, 20)
    }
    if (_pyfunc_truthy(ylabel)) {
        lpad=_pyfunc_add(lpad, 20)
    }
    scale_x = ((w - lpad) - rpad) / (x2 - x1);
    scale_y = ((h - bpad) - tpad) / (y2 - y1);
    sxx = (function list_comprehenson () {var res = [];var x, iter0, i0;iter0 = xx;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {x = iter0[i0];{res.push(_pyfunc_add(lpad, (_pyfunc_mult((x - x1), scale_x))));}}return res;}).apply(this);
    syy = (function list_comprehenson () {var res = [];var y, iter0, i0;iter0 = yy;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {y = iter0[i0];{res.push(_pyfunc_add(bpad, (_pyfunc_mult((y - y1), scale_y))));}}return res;}).apply(this);
    x_ticks = this._get_ticks(scale_x, x1, x2);
    y_ticks = this._get_ticks(scale_y, y1, y2);
    sx_ticks = (function list_comprehenson () {var res = [];var x, iter0, i0;iter0 = x_ticks;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {x = iter0[i0];{res.push(_pyfunc_add(lpad, (_pyfunc_mult((x - x1), scale_x))));}}return res;}).apply(this);
    sy_ticks = (function list_comprehenson () {var res = [];var y, iter0, i0;iter0 = y_ticks;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {y = iter0[i0];{res.push(_pyfunc_add(bpad, (_pyfunc_mult((y - y1), scale_y))));}}return res;}).apply(this);
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = "white";
    ctx.fillRect(lpad, tpad, (w - lpad) - rpad, (h - bpad) - tpad);
    ctx.beginPath();
    ctx.lineWidth = 1;
    ctx.strokeStyle = "#444";
    stub11_seq = sx_ticks;
    if ((typeof stub11_seq === "object") && (!Array.isArray(stub11_seq))) {
        stub11_seq = Object.keys(stub11_seq);
    }
    for (stub12_itr = 0; stub12_itr < stub11_seq.length; stub12_itr += 1) {
        sx = stub11_seq[stub12_itr];
        ctx.moveTo(sx, h - bpad);
        ctx.lineTo(sx, (h - bpad) + 5);
    }
    stub13_seq = sy_ticks;
    if ((typeof stub13_seq === "object") && (!Array.isArray(stub13_seq))) {
        stub13_seq = Object.keys(stub13_seq);
    }
    for (stub14_itr = 0; stub14_itr < stub13_seq.length; stub14_itr += 1) {
        sy = stub13_seq[stub14_itr];
        ctx.moveTo(lpad, h - sy);
        ctx.lineTo(lpad - 5, h - sy);
    }
    ctx.stroke();
    ctx.beginPath();
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 2]);
    ctx.strokeStyle = "#ccc";
    stub15_seq = sx_ticks;
    if ((typeof stub15_seq === "object") && (!Array.isArray(stub15_seq))) {
        stub15_seq = Object.keys(stub15_seq);
    }
    for (stub16_itr = 0; stub16_itr < stub15_seq.length; stub16_itr += 1) {
        sx = stub15_seq[stub16_itr];
        ctx.moveTo(sx, h - bpad);
        ctx.lineTo(sx, tpad);
    }
    stub17_seq = sy_ticks;
    if ((typeof stub17_seq === "object") && (!Array.isArray(stub17_seq))) {
        stub17_seq = Object.keys(stub17_seq);
    }
    for (stub18_itr = 0; stub18_itr < stub17_seq.length; stub18_itr += 1) {
        sy = stub17_seq[stub18_itr];
        ctx.moveTo(lpad, h - sy);
        ctx.lineTo(w - rpad, h - sy);
    }
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.font = "11px verdana";
    ctx.fillStyle = "black";
    ctx.textAlign = "center";
    ctx.textBaseline = "top";
    stub19_seq = _pyfunc_zip(x_ticks, sx_ticks);
    if ((typeof stub19_seq === "object") && (!Array.isArray(stub19_seq))) {
        stub19_seq = Object.keys(stub19_seq);
    }
    for (stub20_itr = 0; stub20_itr < stub19_seq.length; stub20_itr += 1) {
        stub21_tgt = stub19_seq[stub20_itr];
        x = stub21_tgt[0]; sx = stub21_tgt[1];
        ctx.fillText(x, sx, (h - bpad) + 8);
    }
    ctx.textAlign = "end";
    ctx.textBaseline = "middle";
    stub22_seq = _pyfunc_zip(y_ticks, sy_ticks);
    if ((typeof stub22_seq === "object") && (!Array.isArray(stub22_seq))) {
        stub22_seq = Object.keys(stub22_seq);
    }
    for (stub23_itr = 0; stub23_itr < stub22_seq.length; stub23_itr += 1) {
        stub24_tgt = stub22_seq[stub23_itr];
        y = stub24_tgt[0]; sy = stub24_tgt[1];
        ctx.fillText(y, lpad - 8, h - sy);
    }
    ctx.textAlign = "center";
    if (_pyfunc_truthy(title)) {
        ctx.font = "20px verdana";
        ctx.textBaseline = "top";
        ctx.fillText(title, w / 2, 5);
    }
    if (_pyfunc_truthy(xlabel)) {
        ctx.font = "16px verdana";
        ctx.textBaseline = "bottom";
        ctx.fillText(xlabel, w / 2, h - 5);
    }
    if (_pyfunc_truthy(ylabel)) {
        ctx.save();
        ctx.translate(0, h / 2);
        ctx.rotate((-window.Math.PI) / 2);
        ctx.textBaseline = "top";
        ctx.fillText(ylabel, 0, 5);
        ctx.restore();
    }
    ctx.beginPath();
    ctx.lineWidth = 1;
    ctx.strokeStyle = "#444";
    ctx.moveTo(lpad, tpad);
    ctx.lineTo(lpad, h - bpad);
    ctx.lineTo(w - rpad, h - bpad);
    ctx.stroke();
    if ((_pyfunc_truthy(lc) && _pyfunc_truthy(lw))) {
        ctx.beginPath();
        ctx.lineWidth = lw;
        ctx.strokeStyle = lc;
        ctx.moveTo(sxx[0], h - syy[0]);
        stub25_seq = _pyfunc_zip(sxx, syy);
        if ((typeof stub25_seq === "object") && (!Array.isArray(stub25_seq))) {
            stub25_seq = Object.keys(stub25_seq);
        }
        for (stub26_itr = 0; stub26_itr < stub25_seq.length; stub26_itr += 1) {
            stub27_tgt = stub25_seq[stub26_itr];
            x = stub27_tgt[0]; y = stub27_tgt[1];
            ctx.lineTo(x, h - y);
        }
        ctx.stroke();
    }
    if ((_pyfunc_truthy(mc) && _pyfunc_truthy(ms))) {
        ctx.fillStyle = mc;
        stub28_seq = _pyfunc_zip(sxx, syy);
        if ((typeof stub28_seq === "object") && (!Array.isArray(stub28_seq))) {
            stub28_seq = Object.keys(stub28_seq);
        }
        for (stub29_itr = 0; stub29_itr < stub28_seq.length; stub29_itr += 1) {
            stub30_tgt = stub28_seq[stub29_itr];
            x = stub30_tgt[0]; y = stub30_tgt[1];
            ctx.beginPath();
            ctx.arc(x, h - y, ms / 2, 0, _pyfunc_mult(2, window.Math.PI));
            ctx.fill();
        }
    }
    return null;
};

flexx.classes.PlotWidget.prototype.init = function () {
    var e, i, stub1_seq, stub2_itr;
    flexx.classes.CanvasWidget.prototype.init.call(this);
    this._context = this.node.getContext("2d");
    this._tick_units = [];
    for (e = -10; e < 10; e += 1) {
        stub1_seq = [10, 20, 25, 50];
        if ((typeof stub1_seq === "object") && (!Array.isArray(stub1_seq))) {
            stub1_seq = Object.keys(stub1_seq);
        }
        for (stub2_itr = 0; stub2_itr < stub1_seq.length; stub2_itr += 1) {
            i = stub1_seq[stub2_itr];
            _pymeth_append.call(this._tick_units, (_pyfunc_mult(i, Math.pow(10, e))));
        }
    }
    return null;
};

flexx.classes.PlotWidget.prototype._line_color_func = function (v) {
    v = (v === undefined) ? "blue": v;
    return _pyfunc_str(v);
};
flexx.classes.PlotWidget.prototype._line_color_func.nobind = true;
flexx.classes.PlotWidget.prototype._line_color_func.default = "blue";
flexx.classes.PlotWidget.prototype._line_color_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._line_width_func = function (v) {
    v = (v === undefined) ? 2: v;
    return _pyfunc_float(v);
};
flexx.classes.PlotWidget.prototype._line_width_func.nobind = true;
flexx.classes.PlotWidget.prototype._line_width_func.default = 2;
flexx.classes.PlotWidget.prototype._line_width_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._marker_color_func = function (v) {
    v = (v === undefined) ? "blue": v;
    return _pyfunc_str(v);
};
flexx.classes.PlotWidget.prototype._marker_color_func.nobind = true;
flexx.classes.PlotWidget.prototype._marker_color_func.default = "blue";
flexx.classes.PlotWidget.prototype._marker_color_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._marker_size_func = function (v) {
    v = (v === undefined) ? 6: v;
    return _pyfunc_float(v);
};
flexx.classes.PlotWidget.prototype._marker_size_func.nobind = true;
flexx.classes.PlotWidget.prototype._marker_size_func.default = 6;
flexx.classes.PlotWidget.prototype._marker_size_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype.update = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    window.requestAnimationFrame(this._update);
    return null;
};
flexx.classes.PlotWidget.prototype.update.nobind = true;
flexx.classes.PlotWidget.prototype.update._connection_strings = ["xdata", "ydata", "yrange", "line_color", "line_width", "marker_color", "marker_size", "xlabel", "ylabel", "title", "size"];

flexx.classes.PlotWidget.prototype._xdata_func = function (v) {
    v = (v === undefined) ? []: v;
    return (function list_comprehenson () {var res = [];var f, iter0, i0;iter0 = v;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {f = iter0[i0];{res.push(_pyfunc_float(f));}}return res;}).apply(this);
};
flexx.classes.PlotWidget.prototype._xdata_func.nobind = true;
flexx.classes.PlotWidget.prototype._xdata_func.default = [];
flexx.classes.PlotWidget.prototype._xdata_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._xlabel_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.PlotWidget.prototype._xlabel_func.nobind = true;
flexx.classes.PlotWidget.prototype._xlabel_func.default = "";
flexx.classes.PlotWidget.prototype._xlabel_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._ydata_func = function (v) {
    v = (v === undefined) ? []: v;
    return (function list_comprehenson () {var res = [];var f, iter0, i0;iter0 = v;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {f = iter0[i0];{res.push(_pyfunc_float(f));}}return res;}).apply(this);
};
flexx.classes.PlotWidget.prototype._ydata_func.nobind = true;
flexx.classes.PlotWidget.prototype._ydata_func.default = [];
flexx.classes.PlotWidget.prototype._ydata_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._ylabel_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.PlotWidget.prototype._ylabel_func.nobind = true;
flexx.classes.PlotWidget.prototype._ylabel_func.default = "";
flexx.classes.PlotWidget.prototype._ylabel_func.emitter_type = "Property";

flexx.classes.PlotWidget.prototype._yrange_func = function (v) {
    v = (v === undefined) ? null: v;
    if ((v !== null)) {
        v = _pyfunc_list(((function list_comprehenson () {var res = [];var f, iter0, i0;iter0 = v;if ((typeof iter0 === "object") && (!Array.isArray(iter0))) {iter0 = Object.keys(iter0);}for (i0=0; i0<iter0.length; i0++) {f = iter0[i0];{res.push(_pyfunc_float(f));}}return res;}).apply(this)));
        if (!(_pyfunc_equals(v.length, 2))) {throw "AssertionError: " + "_pyfunc_equals(v.length, 2)";}
    }
    return v;
};
flexx.classes.PlotWidget.prototype._yrange_func.nobind = true;
flexx.classes.PlotWidget.prototype._yrange_func.default = null;
flexx.classes.PlotWidget.prototype._yrange_func.emitter_type = "Property";



flexx.classes.IFrame = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.IFrame.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.IFrame.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.IFrame.prototype._class_name = "IFrame";

flexx.classes.IFrame.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.IFrame.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_update_url", "check_size"];
flexx.classes.IFrame.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.IFrame.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title", "url"];

flexx.classes.IFrame.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("iframe");
    this.node = this.phosphor.node;
    return null;
};

flexx.classes.IFrame.prototype._update_url = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.src = this.url;
    return null;
};
flexx.classes.IFrame.prototype._update_url.nobind = true;
flexx.classes.IFrame.prototype._update_url._connection_strings = ["url"];

flexx.classes.IFrame.prototype._url_func = function (v) {
    v = (v === undefined) ? "": v;
    v = _pyfunc_str(v);
    if ((_pyfunc_truthy(v) && ((!_pyfunc_contains("://", v))))) {
        v = "http://" + v;
    }
    return v;
};
flexx.classes.IFrame.prototype._url_func.nobind = true;
flexx.classes.IFrame.prototype._url_func.default = "";
flexx.classes.IFrame.prototype._url_func.emitter_type = "Property";



flexx.classes.BokehWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.BokehWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.BokehWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.BokehWidget.prototype._class_name = "BokehWidget";

flexx.classes.BokehWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.BokehWidget.prototype.__handlers__ = ["_BokehWidget__resize_plot", "_BokehWidget__set_plot_components", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.BokehWidget.prototype.__local_properties__ = ["parent", "plot", "size"];
flexx.classes.BokehWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "plot", "pos", "size", "style", "tabindex", "title"];

flexx.classes.BokehWidget.prototype._BokehWidget__resize_plot = function () {
    var cstyle, events, use_x, use_y;
    events = Array.prototype.slice.call(arguments);
    if ((_pyfunc_truthy(this.plot) && _pyfunc_truthy(this.parent))) {
        if (_pyfunc_truthy(this.plot.resize_width_height)) {
            cstyle = window.getComputedStyle(this.parent.node);
            use_x = !_pyfunc_contains(cstyle["overflow-x"], ["auto", "scroll"]);
            use_y = !_pyfunc_contains(cstyle["overflow-y"], ["auto", "scroll"]);
            this.plot.resize_width_height(use_x, use_y);
        } else {
            this.plot.model.document.resize();
        }
    }
    return null;
};
flexx.classes.BokehWidget.prototype._BokehWidget__resize_plot.nobind = true;
flexx.classes.BokehWidget.prototype._BokehWidget__resize_plot._connection_strings = ["size"];

flexx.classes.BokehWidget.prototype._BokehWidget__set_plot_components = function () {
    var el, ev, events, getplot;
    events = Array.prototype.slice.call(arguments);
    ev = events[events.length -1];
    this.node.innerHTML = ev.div;
    el = window.document.createElement("script");
    el.innerHTML = ev.script;
    this.node.appendChild(el);
    getplot = (function () {
        this.plot = Bokeh.index[ev.id];
        this.plot.model.document.resize();
        return null;
    }).bind(this);

    window.setTimeout(getplot, 10);
    return null;
};
flexx.classes.BokehWidget.prototype._BokehWidget__set_plot_components.nobind = true;
flexx.classes.BokehWidget.prototype._BokehWidget__set_plot_components._connection_strings = ["_plot_components"];

flexx.classes.BokehWidget.prototype._plot_func = function (plot) {
    plot = (plot === undefined) ? null: plot;
    return plot;
};
flexx.classes.BokehWidget.prototype._plot_func.nobind = true;
flexx.classes.BokehWidget.prototype._plot_func.default = null;
flexx.classes.BokehWidget.prototype._plot_func.emitter_type = "Property";



flexx.classes.ColorSelectWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.ColorSelectWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.ColorSelectWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.ColorSelectWidget.prototype._class_name = "ColorSelectWidget";

flexx.classes.ColorSelectWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.ColorSelectWidget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_color_changed", "check_size"];
flexx.classes.ColorSelectWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.ColorSelectWidget.prototype.__properties__ = ["base_size", "children", "color", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

flexx.classes.ColorSelectWidget.prototype._color_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.value = this.color;
    return null;
};
flexx.classes.ColorSelectWidget.prototype._color_changed.nobind = true;
flexx.classes.ColorSelectWidget.prototype._color_changed._connection_strings = ["color"];

flexx.classes.ColorSelectWidget.prototype._color_changed_from_dom = function (e) {
    console.log("got event!!");
    this.color = this.node.value;
    return null;
};

flexx.classes.ColorSelectWidget.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("input");
    this.node = this.phosphor.node;
    this.node.type = "color";
    this.node.addEventListener("input", this._color_changed_from_dom, 0);
    return null;
};

flexx.classes.ColorSelectWidget.prototype._color_func = function (v) {
    var err_2;
    v = (v === undefined) ? "#000000": v;
    if ((!(_pymeth_startswith.call(v, "#") && _pyfunc_equals(v.length, 7)))) {
        err_2 = new Error('ValueError:' + "ColorSelectWidget must be in #rrggbb format."); err_2.name = "ValueError"; throw err_2;
    }
    return _pyfunc_str(v);
};
flexx.classes.ColorSelectWidget.prototype._color_func.nobind = true;
flexx.classes.ColorSelectWidget.prototype._color_func.default = "#000000";
flexx.classes.ColorSelectWidget.prototype._color_func.emitter_type = "Property";



flexx.classes.ImageWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.ImageWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.ImageWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.ImageWidget.prototype._class_name = "ImageWidget";

flexx.classes.ImageWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.ImageWidget.prototype.__handlers__ = ["_ImageWidget__resize_image", "_ImageWidget__source_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.ImageWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.ImageWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "source", "stretch", "style", "tabindex", "title"];

flexx.classes.ImageWidget.prototype._ImageWidget__resize_image = function () {
    var events, size;
    events = Array.prototype.slice.call(arguments);
    size = this.size;
    if (_pyfunc_truthy(this.stretch)) {
        this.node.style.maxWidth = null;
        this.node.style.maxHeight = null;
        this.node.style.width = size[0] + "px";
        this.node.style.height = size[1] + "px";
    } else {
        this.node.style.maxWidth = size[0] + "px";
        this.node.style.maxHeight = size[1] + "px";
        this.node.style.width = null;
        this.node.style.height = null;
    }
    return null;
};
flexx.classes.ImageWidget.prototype._ImageWidget__resize_image.nobind = true;
flexx.classes.ImageWidget.prototype._ImageWidget__resize_image._connection_strings = ["size", "stretch"];

flexx.classes.ImageWidget.prototype._ImageWidget__source_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.node.src = this.source;
    return null;
};
flexx.classes.ImageWidget.prototype._ImageWidget__source_changed.nobind = true;
flexx.classes.ImageWidget.prototype._ImageWidget__source_changed._connection_strings = ["source"];

flexx.classes.ImageWidget.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("div");
    this.node = window.document.createElement("img");
    this.phosphor.node.appendChild(this.node);
    return null;
};

flexx.classes.ImageWidget.prototype._source_func = function (v) {
    var fname;
    v = (v === undefined) ? "": v;
    if ((!"this_is_js()")) {
        if (_pyfunc_truthy(_pymeth_endswith.call(v, [".png", ".jpg", ".svg", ".gif"]))) {
            if (_pyfunc_truthy(os.path.isfile(v))) {
                fname = _pyfunc_add(this.id, (os.path.splitext(v)[1]));
                app.assets.add_asset(fname, v);
                return fname;
            }
        }
    }
    return _pyfunc_str(v);
};
flexx.classes.ImageWidget.prototype._source_func.nobind = true;
flexx.classes.ImageWidget.prototype._source_func.default = "";
flexx.classes.ImageWidget.prototype._source_func.emitter_type = "Property";

flexx.classes.ImageWidget.prototype._stretch_func = function (v) {
    v = (v === undefined) ? false: v;
    return _pyfunc_bool(v);
};
flexx.classes.ImageWidget.prototype._stretch_func.nobind = true;
flexx.classes.ImageWidget.prototype._stretch_func.default = false;
flexx.classes.ImageWidget.prototype._stretch_func.emitter_type = "Property";



flexx.classes.VideoWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.VideoWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.VideoWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.VideoWidget.prototype._class_name = "VideoWidget";

flexx.classes.VideoWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.VideoWidget.prototype.__handlers__ = ["_VideoWidget__source_changed", "_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.VideoWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.VideoWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "source", "style", "tabindex", "title"];

flexx.classes.VideoWidget.prototype._VideoWidget__source_changed = function () {
    var events;
    events = Array.prototype.slice.call(arguments);
    this.src_node.src = this.source;
    this.node.load();
    return null;
};
flexx.classes.VideoWidget.prototype._VideoWidget__source_changed.nobind = true;
flexx.classes.VideoWidget.prototype._VideoWidget__source_changed._connection_strings = ["source"];

flexx.classes.VideoWidget.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("video");
    this.node = this.phosphor.node;
    this.node.controls = "controls";
    this.node.innerHTML = "Your browser does not support HTML5 video.";
    this.src_node = window.document.createElement("source");
    this.src_node.type = "video/mp4";
    this.node.appendChild(this.src_node);
    return null;
};

flexx.classes.VideoWidget.prototype._source_func = function (v) {
    v = (v === undefined) ? "": v;
    return _pyfunc_str(v);
};
flexx.classes.VideoWidget.prototype._source_func.nobind = true;
flexx.classes.VideoWidget.prototype._source_func.default = "";
flexx.classes.VideoWidget.prototype._source_func.emitter_type = "Property";



flexx.classes.YoutubeWidget = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.YoutubeWidget.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.YoutubeWidget.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.YoutubeWidget.prototype._class_name = "YoutubeWidget";

flexx.classes.YoutubeWidget.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.YoutubeWidget.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "_YoutubeWidget__source_changed", "_hide_overlay", "_update_canvas_size", "check_size"];
flexx.classes.YoutubeWidget.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.YoutubeWidget.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "source", "style", "tabindex", "title"];

flexx.classes.YoutubeWidget.prototype._YoutubeWidget__source_changed = function () {
    var base_url, events;
    events = Array.prototype.slice.call(arguments);
    base_url = "http://www.youtube.com/embed/";
    this.inode.src = _pyfunc_add(base_url, this.source) + "?autoplay=0";
    return null;
};
flexx.classes.YoutubeWidget.prototype._YoutubeWidget__source_changed.nobind = true;
flexx.classes.YoutubeWidget.prototype._YoutubeWidget__source_changed._connection_strings = ["source"];

flexx.classes.YoutubeWidget.prototype._hide_overlay = function () {
    var ev, events;
    events = Array.prototype.slice.call(arguments);
    ev = events[events.length -1];
    if ((!_pyfunc_truthy(ev.buttons))) {
        this.overlay_node.style.width = "0px";
    }
    return null;
};
flexx.classes.YoutubeWidget.prototype._hide_overlay.nobind = true;
flexx.classes.YoutubeWidget.prototype._hide_overlay._connection_strings = ["mouse_move", "mouse_down"];

flexx.classes.YoutubeWidget.prototype._init_phosphor_and_node = function () {
    this.phosphor = window.phosphor.createWidget("div");
    this.inode = window.document.createElement("iframe");
    this.phosphor.node.appendChild(this.inode);
    this.inode.style.margin = "5px";
    this.overlay_node = window.document.createElement("div");
    this.phosphor.node.appendChild(this.overlay_node);
    this.overlay_node.style.position = "absolute";
    this.overlay_node.style.opacity = "0.0";
    this.overlay_node.style.top = "0px";
    this.overlay_node.style.left = "0px";
    this.node = this.overlay_node;
    this.phosphor.node.addEventListener("mouseenter", this._show_overlay, false);
    return null;
};

flexx.classes.YoutubeWidget.prototype._show_overlay = function () {
    this.overlay_node.style.width = this.size[0] + "px";
    return null;
};

flexx.classes.YoutubeWidget.prototype._update_canvas_size = function () {
    var events, size;
    events = Array.prototype.slice.call(arguments);
    size = this.size;
    if (_pyfunc_truthy(_pyfunc_truthy(size[0]) || size[1])) {
        this.inode.style.width = size[0] + "px";
        this.inode.style.height = size[1] + "px";
        this.overlay_node.style.width = size[0] + "px";
        this.overlay_node.style.height = size[1] + "px";
    }
    return null;
};
flexx.classes.YoutubeWidget.prototype._update_canvas_size.nobind = true;
flexx.classes.YoutubeWidget.prototype._update_canvas_size._connection_strings = ["size"];

flexx.classes.YoutubeWidget.prototype._source_func = function (v) {
    v = (v === undefined) ? "oHg5SJYRHA0": v;
    return _pyfunc_str(v);
};
flexx.classes.YoutubeWidget.prototype._source_func.nobind = true;
flexx.classes.YoutubeWidget.prototype._source_func.default = "oHg5SJYRHA0";
flexx.classes.YoutubeWidget.prototype._source_func.emitter_type = "Property";



flexx.classes.PlotLayout = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.PlotLayout.prototype = Object.create(flexx.classes.Layout.prototype);
flexx.classes.PlotLayout.prototype._base_class = flexx.classes.Layout.prototype;
flexx.classes.PlotLayout.prototype._class_name = "PlotLayout";

flexx.classes.PlotLayout.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.PlotLayout.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.PlotLayout.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.PlotLayout.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

</script>
<script>
/* JS for index-export-xxkh95H7EChxJ2tp5tPQUaAc.js */
flexx.is_exported = true;

flexx.runExportedApp = function () {
    flexx.command("EXEC flexx.instances.Example5 = new flexx.classes.Example(\"Example5\", [\"parent:aaa\"]);");
    flexx.command("EXEC flexx.instances.Example5._sync_props = true;");
    flexx.command("EXEC flexx.instances.Example5._set_prop_from_py(\"container\", \"\\\"body\\\"\");");
    flexx.command("EXEC flexx.instances.HBox6 = new flexx.classes.HBox(\"HBox6\", [\"parent:aaa\"]);");
    flexx.command("EXEC flexx.instances.HBox6._sync_props = true;");
    flexx.command("EXEC flexx.instances.Example5._set_prop_from_py(\"children\", \"[{\\\"__type__\\\": \\\"Flexx-Model\\\", \\\"id\\\": \\\"HBox6\\\"}]\");");
    flexx.command("EXEC flexx.instances.HBox6.init();");
    flexx.command("EXEC flexx.instances.HBox6._set_event_types_py([\"parent\"]);");
    flexx.command("EXEC flexx.instances.HBox6._init_handlers();");
    flexx.command("EXEC flexx.instances.Button7 = new flexx.classes.Button(\"Button7\", [\"parent:aaa\"]);");
    flexx.command("EXEC flexx.instances.Button7._sync_props = true;");
    flexx.command("EXEC flexx.instances.Button7._set_prop_from_py(\"text\", \"\\\"hello\\\"\");");
    flexx.command("EXEC flexx.instances.HBox6._set_prop_from_py(\"children\", \"[{\\\"__type__\\\": \\\"Flexx-Model\\\", \\\"id\\\": \\\"Button7\\\"}]\");");
    flexx.command("EXEC flexx.instances.Button7._set_prop_from_py(\"flex\", \"[1.0, 1.0]\");");
    flexx.command("EXEC flexx.instances.Button7.init();");
    flexx.command("EXEC flexx.instances.Button7._set_event_types_py([\"parent\"]);");
    flexx.command("EXEC flexx.instances.Button7._init_handlers();");
    flexx.command("EXEC flexx.instances.Button8 = new flexx.classes.Button(\"Button8\", [\"parent:aaa\"]);");
    flexx.command("EXEC flexx.instances.Button8._sync_props = true;");
    flexx.command("EXEC flexx.instances.Button8._set_prop_from_py(\"text\", \"\\\"world\\\"\");");
    flexx.command("EXEC flexx.instances.HBox6._set_prop_from_py(\"children\", \"[{\\\"__type__\\\": \\\"Flexx-Model\\\", \\\"id\\\": \\\"Button7\\\"}, {\\\"__type__\\\": \\\"Flexx-Model\\\", \\\"id\\\": \\\"Button8\\\"}]\");");
    flexx.command("EXEC flexx.instances.Button8._set_prop_from_py(\"flex\", \"[1.0, 1.0]\");");
    flexx.command("EXEC flexx.instances.Button8.init();");
    flexx.command("EXEC flexx.instances.Button8._set_event_types_py([\"parent\"]);");
    flexx.command("EXEC flexx.instances.Button8._init_handlers();");
    flexx.command("EXEC flexx.instances.Example5.init();");
    flexx.command("EXEC flexx.instances.Example5._set_event_types_py([\"parent\"]);");
    flexx.command("EXEC flexx.instances.Example5._init_handlers();");
};

</script>
<script>
/* JS for index-extra-model-classes-xxkh95H7EChxJ2tp5tPQUaAc.js */
/* Autogenerated code from Flexx. Code Subject to the new BSD license.*/

"use strict";

flexx.classes.Example = function () {
    _pyfunc_instantiate(this, arguments);
}
flexx.classes.Example.prototype = Object.create(flexx.classes.Widget.prototype);
flexx.classes.Example.prototype._base_class = flexx.classes.Widget.prototype;
flexx.classes.Example.prototype._class_name = "Example";

flexx.classes.Example.prototype.__emitters__ = ["key_down", "key_press", "key_up", "mouse_down", "mouse_move", "mouse_up", "mouse_wheel"];
flexx.classes.Example.prototype.__handlers__ = ["_Widget__children_changed", "_Widget__container_changed", "_Widget__make_singleton_container_widgets_work", "_Widget__style_changed", "_Widget__title_changed", "_Widget__update_tabindex", "check_size"];
flexx.classes.Example.prototype.__local_properties__ = ["parent", "size"];
flexx.classes.Example.prototype.__properties__ = ["base_size", "children", "container", "flex", "parent", "pos", "size", "style", "tabindex", "title"];

</script>

</body>
</html>
